(function($,undefined){function Class(){}function compilePart(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),o=e.substring(1);return"="===n?"+("+o+")+":":"===n?"+e("+o+")+":";"+e+";o+="}function pad(e,t,n){return e+="",t=t||2,n=t-e.length,n?zeros[t].substring(0,n)+e:e}function wrap(e){var t,n=support.browser,o="rtl"==e.css("direction");if(e.parent().hasClass("k-animation-container")){var r=e.parent(".k-animation-container"),i=r[0].style;r.is(":hidden")&&r.show(),t=percentRegExp.test(i.width)||percentRegExp.test(i.height),t||r.css({width:e.outerWidth(),height:e.outerHeight()})}else{var a=e.css(kendo.support.transitions.css+"box-shadow")||e.css("box-shadow"),s=a?a.match(boxShadowRegExp)||[0,0,0,0,0]:[0,0,0,0,0],u=math.max(+s[3],+(s[4]||0)),l=-s[1]+u,d=+s[1]+u,p=+s[2]+u,c=e[0].style.width,f=e[0].style.height,m=percentRegExp.test(c),h=percentRegExp.test(f);n.opera&&(l=d=p=5),t=m||h,m||(c=e.outerWidth()),h||(f=e.outerHeight()),e.wrap($("<div/>").addClass("k-animation-container").css({width:c,height:f,marginLeft:l*(o?1:-1),paddingLeft:l,paddingRight:d,paddingBottom:p})),t&&e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return n.msie&&7>=math.floor(n.version)&&e.css({zoom:1}),e.parent()}function deepExtend(e){var t=1,n=arguments.length;for(t=1;n>t;t++)deepExtendOne(e,arguments[t]);return e}function deepExtendOne(e,t){var n,o,r,i,a=kendo.data.ObservableArray;for(n in t)o=t[n],r=typeof o,r===OBJECT&&null!==o&&o.constructor!==Array&&o.constructor!==a?o instanceof Date?e[n]=new Date(o.getTime()):(i=e[n],e[n]=typeof i===OBJECT?i||{}:{},deepExtendOne(e[n],o)):r!==UNDEFINED&&(e[n]=o);return e}function testRx(e,t,n){for(var o in t)if(t.hasOwnProperty(o)&&t[o].test(e))return o;return n!==undefined?n:e}function getComputedStyles(e,t){var n,o={};return document.defaultView&&document.defaultView.getComputedStyle?(n=document.defaultView.getComputedStyle(e,""),t&&$.each(t,function(e,t){o[t]=n.getPropertyValue(t)})):(n=e.currentStyle,t&&$.each(t,function(e,t){o[t]=n[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]})),kendo.size(o)||(o=n),o}function size(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function isNodeEmpty(e){return""===$.trim($(e).contents().filter(function(){return 8!=this.nodeType}).html())}function getOffset(e,t){t||(t="offset");var n=e[t](),o=support.mobileOS;if(support.touch&&o.ios&&410>o.flatVersion){var r="offset"==t?n:e.offset(),i=n.left==r.left&&n.top==r.top;if(i)return{top:n.top-window.scrollY,left:n.left-window.scrollX}}return n}function parseEffects(e){var t={};return each("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function fx(e){return new kendo.fx.Element(e)}function prepareAnimationOptions(e,t,n,o){return typeof e===STRING&&(isFunction(t)&&(o=t,t=400,n=!1),isFunction(n)&&(o=n,n=!1),typeof t===BOOLEAN&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:o}),extend({effects:{},duration:400,reverse:!1,init:noop,teardown:noop,hide:!1},e,{completeCallback:e.complete,complete:noop})}function animate(e,t,n,o,r){for(var i,a=0,s=e.length;s>a;a++)i=$(e[a]),i.queue(function(){fx.promise(i,prepareAnimationOptions(t,n,o,r))});return e}function animateTo(e,t,n,o,r,i){return fx.transitionPromise(e,t,prepareAnimationOptions(n,o,r,i))}function toggleClass(e,t,n,o){return t&&(t=t.split(" "),each(t,function(t,n){e.toggleClass(n,o)})),e}function htmlEncode(e){return(""+e).replace(ampRegExp,"&amp;").replace(ltRegExp,"&lt;").replace(gtRegExp,"&gt;")}function parseOption(element,option){var value;return 0===option.indexOf("data")&&(option=option.substring(4),option=option.charAt(0).toLowerCase()+option.substring(1)),option=option.replace(dashRegExp,"-$1"),value=element.getAttribute("data-"+kendo.ns+option),null===value?value=undefined:"null"===value?value=null:"true"===value?value=!0:"false"===value?value=!1:isNaN(parseFloat(value))?jsonRegExp.test(value)&&!jsonFormatRegExp.test(value)&&(value=eval("("+value+")")):value=parseFloat(value),value}function parseOptions(e,t){var n,o,r={};for(n in t)o=parseOption(e,n),o!==undefined&&(templateRegExp.test(n)&&(o=kendo.template($("#"+o).html())),r[n]=o);return r}function focusable(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&visible(e)}function visible(e){return!$(e).parents().andSelf().filter(function(){return"hidden"===$.css(this,"visibility")||$.expr.filters.hidden(this)}).length}function applyEventMap(e){return eventMap[e]||e}function kendoJQuery(e,t){return new kendoJQuery.fn.init(e,t)}var kendo=window.kendo=window.kendo||{},extend=$.extend,each=$.each,proxy=$.proxy,isArray=$.isArray,noop=$.noop,isFunction=$.isFunction,math=Math,Template,JSON=window.JSON||{},support={},percentRegExp=/%/,formatRegExp=/\{(\d+)(:[^\}]+)?\}/g,boxShadowRegExp=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,FUNCTION="function",STRING="string",NUMBER="number",OBJECT="object",NULL="null",BOOLEAN="boolean",UNDEFINED="undefined",getterCache={},setterCache={},slice=[].slice,globalize=window.Globalize;Class.extend=function(e){var t,n,o=function(){},r=this,i=e&&e.init?e.init:function(){r.apply(this,arguments)};o.prototype=r.prototype,n=i.fn=i.prototype=new o;for(t in e)n[t]=typeof e[t]!==OBJECT||e[t]instanceof Array||null===e[t]?e[t]:extend(!0,{},o.prototype[t],e[t]);return n.constructor=i,i.extend=r.extend,i};var Observable=Class.extend({init:function(){this._events={}},bind:function(e,t,n){var o,r,i,a,s,u=this,l=typeof e===STRING?[e]:e,d=typeof t===FUNCTION;for(o=0,r=l.length;r>o;o++)e=l[o],a=d?t:t[e],a&&(n&&(i=a,a=function(){u.unbind(e,a),i.apply(u,arguments)}),s=u._events[e]=u._events[e]||[],s.push(a));return u},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,o,r,i,a=this,s=typeof e===STRING?[e]:e,u=typeof t===FUNCTION;for(n=0,o=s.length;o>n;n++)e=s[n],r=u?t:t[e],r&&(i=a._events[e]=a._events[e]||[],i.unshift(r));return a},trigger:function(e,t){var n,o,r=this,i=r._events[e],a=!1;if(i)for(t=t||{},t.sender=r,t.preventDefault=function(){a=!0},t.isDefaultPrevented=function(){return a},i=i.slice(),n=0,o=i.length;o>n;n++)i[n].call(r,t);return a},unbind:function(e,t){var n,o,r=this,i=r._events[e];if(e===undefined)r._events={};else if(i)if(t)for(n=0,o=i.length;o>n;n++)i[n]===t&&i.splice(n,1);else r._events[e]=[];return r}}),argumentNameRegExp=/^\w+/,encodeRegExp=/\$\{([^}]*)\}/g,escapedCurlyRegExp=/\\\}/g,curlyRegExp=/__CURLY__/g,escapedSharpRegExp=/\\#/g,sharpRegExp=/__SHARP__/g,zeros=["","0","00","000","0000"];Template={paramName:"data",useWithBlock:!0,render:function(e,t){var n,o,r="";for(n=0,o=t.length;o>n;n++)r+=e(t[n]);return r},compile:function(e,t){var n,o,r=extend({},this,t),i=r.paramName,a=i.match(argumentNameRegExp)[0],s=r.useWithBlock,u="var o,e=kendo.htmlEncode;";if(isFunction(e))return 2===e.length?function(t){return e($,{data:t}).join("")}:e;for(u+=s?"with("+i+"){":"",u+="o=",n=e.replace(escapedCurlyRegExp,"__CURLY__").replace(encodeRegExp,"#=e($1)#").replace(curlyRegExp,"}").replace(escapedSharpRegExp,"__SHARP__").split("#"),o=0;n.length>o;o++)u+=compilePart(n[o],0===o%2);u+=s?";}":";",u+="return o;",u=u.replace(sharpRegExp,"#");try{return Function(a,u)}catch(l){throw Error(kendo.format("Invalid template:'{0}' Generated code:'{1}'",e,u))}}},function(){function e(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=a[e];return typeof t===STRING?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(i,a){var u,l,d,p,c,f,m=n,h=a[i];if(h&&typeof h===OBJECT&&typeof h.toJSON===FUNCTION&&(h=h.toJSON(i)),typeof r===FUNCTION&&(h=r.call(a,i,h)),f=typeof h,f===STRING)return e(h);if(f===NUMBER)return isFinite(h)?h+"":NULL;if(f===BOOLEAN||f===NULL)return h+"";if(f===OBJECT){if(!h)return NULL;if(n+=o,c=[],"[object Array]"===s.apply(h)){for(p=h.length,u=0;p>u;u++)c[u]=t(u,h)||NULL;return d=0===c.length?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+m+"]":"["+c.join(",")+"]",n=m,d}if(r&&typeof r===OBJECT)for(p=r.length,u=0;p>u;u++)typeof r[u]===STRING&&(l=r[u],d=t(l,h),d&&c.push(e(l)+(n?": ":":")+d));else for(l in h)Object.hasOwnProperty.call(h,l)&&(d=t(l,h),d&&c.push(e(l)+(n?": ":":")+d));return d=0===c.length?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+m+"}":"{"+c.join(",")+"}",n=m,d}}var n,o,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s={}.toString;typeof Date.prototype.toJSON!==FUNCTION&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?pad(e.getUTCFullYear(),4)+"-"+pad(e.getUTCMonth()+1)+"-"+pad(e.getUTCDate())+"T"+pad(e.getUTCHours())+":"+pad(e.getUTCMinutes())+":"+pad(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof JSON.stringify!==FUNCTION&&(JSON.stringify=function(e,i,a){var s;if(n="",o="",typeof a===NUMBER)for(s=0;a>s;s+=1)o+=" ";else typeof a===STRING&&(o=a);if(r=i,i&&typeof i!==FUNCTION&&(typeof i!==OBJECT||typeof i.length!==NUMBER))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function e(e){if(e){if(e.numberFormat)return e;if(typeof e===STRING){var t=kendo.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function t(t){return t&&(t=e(t)),t||kendo.cultures.current}function n(e,n,o){o=t(o);var i=o.calendars.standard,a=i.days,s=i.months;return n=i.patterns[n]||n,n.replace(r,function(t){var n;return"d"===t?n=e.getDate():"dd"===t?n=pad(e.getDate()):"ddd"===t?n=a.namesAbbr[e.getDay()]:"dddd"===t?n=a.names[e.getDay()]:"M"===t?n=e.getMonth()+1:"MM"===t?n=pad(e.getMonth()+1):"MMM"===t?n=s.namesAbbr[e.getMonth()]:"MMMM"===t?n=s.names[e.getMonth()]:"yy"===t?n=pad(e.getFullYear()%100):"yyyy"===t?n=pad(e.getFullYear(),4):"h"===t?n=e.getHours()%12||12:"hh"===t?n=pad(e.getHours()%12||12):"H"===t?n=e.getHours():"HH"===t?n=pad(e.getHours()):"m"===t?n=e.getMinutes():"mm"===t?n=pad(e.getMinutes()):"s"===t?n=e.getSeconds():"ss"===t?n=pad(e.getSeconds()):"f"===t?n=math.floor(e.getMilliseconds()/100):"ff"===t?n=math.floor(e.getMilliseconds()/10):"fff"===t?n=e.getMilliseconds():"tt"===t&&(n=12>e.getHours()?i.AM[0]:i.PM[0]),n!==undefined?n:t.slice(1,t.length-1)})}function o(e,n,o){o=t(o);var r,m,h,g,y,v,b,k,M,w,x,E,S,N,O,T,C,z,R,$,A,F=o.numberFormat,D=F.groupSize[0],I=F[d],U=F[l],H=F.decimals,L=F.pattern[0],P=[],J=0>e,_=u,B=u,W=-1;if(e===undefined)return u;if(!isFinite(e))return e;if(!n)return o.name.length?e.toLocaleString():""+e;if(y=i.exec(n)){if(n=y[1].toLowerCase(),m="c"===n,h="p"===n,(m||h)&&(F=m?F.currency:F.percent,D=F.groupSize[0],I=F[d],U=F[l],H=F.decimals,r=F.symbol,L=F.pattern[J?0:1]),g=y[2],g&&(H=+g),"e"===n)return g?e.toExponential(H):e.toExponential();if(h&&(e*=100),e=e.toFixed(H),e=e.split(l),v=e[0],b=e[1],J&&(v=v.substring(1)),B=v,k=v.length,k>=D)for(B=u,w=0;k>w;w++)w>0&&0===(k-w)%D&&(B+=I),B+=v.charAt(w);if(b&&(B+=U+b),"n"===n&&!J)return B;for(e=u,w=0,x=L.length;x>w;w++)E=L.charAt(w),e+="n"===E?B:"$"===E||"%"===E?r:E;return e}if(J&&(e=-e),n=n.split(";"),J&&n[1])n=n[1],N=!0;else if(0===e){if(n=n[2]||n[0],-1==n.indexOf(p)&&-1==n.indexOf(c))return n}else n=n[0];if((n.indexOf("'")>-1||n.indexOf('"')>-1)&&(n=n.replace(a,function(e){return P.push(e),f})),z=n.indexOf("%"),R=n.indexOf("$"),h=-1!=z,m=-1!=R,h&&("\\"!==n[z-1]?e*=100:n=n.split("\\").join("")),m&&"\\"===n[R-1]&&(n=n.split("\\").join(""),m=!1),(m||h)&&(F=m?F.currency:F.percent,D=F.groupSize[0],I=F[d],U=F[l],H=F.decimals,r=F.symbol),S=n.indexOf(d)>-1,S&&(n=n.replace(s,u)),O=n.indexOf(l),x=n.length,-1!=O?(C=n.lastIndexOf(c),T=n.lastIndexOf(p),b=(""+e).split(l)[1]||u,T>C&&b.length>T-C?w=T:-1!=C&&C>=O&&(w=C),w&&(e=e.toFixed(w-O))):e=e.toFixed(0),T=n.indexOf(p),$=C=n.indexOf(c),W=-1==T&&-1!=C?C:-1!=T&&-1==C?T:T>C?C:T,T=n.lastIndexOf(p),C=n.lastIndexOf(c),A=-1==T&&-1!=C?C:-1!=T&&-1==C?T:T>C?T:C,W==x&&(A=W),-1!=W){if(B=(""+e).split(l),v=B[0],b=B[1]||u,k=v.length,M=b.length,S)if(k===D&&O-$>k)v=I+v;else if(k>D){for(B=u,w=0;k>w;w++)w>0&&0===(k-w)%D&&(B+=I),B+=v.charAt(w);v=B}for(e=n.substring(0,W),J&&!N&&(e+="-"),w=W;x>w;w++){if(E=n.charAt(w),-1==O){if(k>A-w){e+=v;break}}else if(-1!=C&&w>C&&(_=u),k>=O-w&&O-w>-1&&(e+=v,w=O),O===w){e+=(b?U:u)+b,w+=A-O+1;continue}E===c?(e+=E,_=E):E===p&&(e+=_)}if(A>=W&&(e+=n.substring(A+1)),m||h){for(B=u,w=0,x=e.length;x>w;w++)E=e.charAt(w),B+="$"===E||"%"===E?r:E;e=B}if(P[0])for(x=P.length,w=0;x>w;w++)e=e.replace(f,P[w])}return e}var r=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,i=/^(n|c|p|e)(\d*)$/i,a=/["'].*?["']/g,s=/\,/g,u="",l=".",d=",",p="#",c="0",f="??",m="en-US";kendo.cultures={"en-US":{name:m,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0}}}},kendo.culture=function(t){var n,o=kendo.cultures;return t===undefined?o.current:(n=e(t)||o[m],n.calendar=n.calendars.standard,o.current=n,undefined)},kendo.findCulture=e,kendo.getCulture=t,kendo.culture(m);var h=function(e,t,r){if(t){if(e instanceof Date)return n(e,t,r);if(typeof e===NUMBER)return o(e,t,r)}return e!==undefined?e:""};globalize&&(h=proxy(globalize.format,globalize)),kendo.format=function(e){var t=arguments;return e.replace(formatRegExp,function(e,n,o){var r=t[parseInt(n,10)+1];return h(r,o?o.substring(1):"")})},kendo._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},kendo.toString=h}(),function(){function e(e,t,n){return!(e>=t&&n>=e)}function t(e){return e.charAt(0)}function n(e){return $.map(e,t)}function o(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function r(t,r,i){if(!t)return null;var a,l,d,c,f,m,h,g,y,v,b,k,M,w=function(e){for(var t=0;r[F]===e;)t++,F++;return t>0&&(F-=1),t},x=function(e){var n=p[e]||RegExp("^\\d{1,"+e+"}"),o=t.substr(D,e).match(n);return o?(o=o[0],D+=o.length,parseInt(o,10)):null},E=function(e){for(var n,o,r=0,i=e.length;i>r;r++)if(n=e[r],o=n.length,t.substr(D,o)==n)return D+=o,r+1;return null},S=function(){var e=!1;return t.charAt(D)===r[F]&&(D++,e=!0),e},N=i.calendars.standard,O=null,T=null,C=null,z=null,R=null,$=null,A=null,F=0,D=0,I=!1,U=new Date,H=30,L=U.getFullYear();for(r||(r="d"),c=N.patterns[r],c&&(r=c),r=r.split(""),d=r.length;d>F;F++)if(a=r[F],I)"'"===a?I=!1:S();else if("d"===a){if(l=w("d"),C=3>l?x(2):E(N.days[3==l?"namesAbbr":"names"]),null===C||e(C,1,31))return null}else if("M"===a){if(l=w("M"),T=3>l?x(2):E(N.months[3==l?"namesAbbr":"names"]),null===T||e(T,1,12))return null;T-=1}else if("y"===a){if(l=w("y"),O=x(l),null===O)return null;2==l&&(M=L-L%100,O>H&&(M-=100),O=M+O)}else if("h"===a){if(w("h"),z=x(2),12==z&&(z=0),null===z||e(z,0,11))return null}else if("H"===a){if(w("H"),z=x(2),null===z||e(z,0,23))return null}else if("m"===a){if(w("m"),R=x(2),null===R||e(R,0,59))return null}else if("s"===a){if(w("s"),$=x(2),null===$||e($,0,59))return null}else if("f"===a){if(l=w("f"),A=x(l),null!==A&&l>3&&(A=parseInt((""+A).substring(0,3),10)),null===A||e(A,0,999))return null}else if("t"===a){if(l=w("t"),y=N.AM,v=N.PM,1===l&&(y=n(y),v=n(v)),f=E(v),!f&&!E(y))return null}else if("z"===a){if(m=!0,l=w("z"),"Z"===t.substr(D,1)){if(!h)return null;S();continue}if(g=t.substr(D,6).match(l>2?u:s),!g)return null;if(g=g[0],D=g.length,g=g.split(":"),b=parseInt(g[0],10),e(b,-12,13))return null;if(l>2&&(k=parseInt(g[1],10),isNaN(k)||e(k,0,59)))return null}else if("T"===a)h=S();else if("'"===a)I=!0,S();else if(!S())return null;return null===O&&(O=L),f&&12>z&&(z+=12),null===C&&(C=1),m?(b&&(z+=-b),k&&(R+=-k),t=new Date(Date.UTC(O,T,C,z,R,$,A))):(t=new Date(O,T,C,z,R,$,A),o(t,z)),100>O&&t.setFullYear(O),t.getDate()!==C?null:t}var i=/\u00A0/g,a=/[eE][\-+]?[0-9]+/,s=/[+|\-]\d{1,2}/,u=/[+|\-]\d{1,2}:\d{2}/,l=/^\/Date\((.*?)\)\/$/,d=["G","g","d","F","D","y","m","T","t"],p={2:/^\d{1,2}/,4:/^\d{4}/};kendo._adjustDate=o,kendo.parseDate=function(e,t,n){if(e instanceof Date)return e;var o,i,a=0,s=null;if(e&&0===e.indexOf("/D")&&(s=l.exec(e)))return new Date(parseInt(s[1],10));if(n=kendo.getCulture(n),!t){for(t=[],i=n.calendar.patterns,o=d.length;o>a;a++)t[a]=i[d[a]];t[a]="ddd MMM dd yyyy HH:mm:ss",t[++a]="yyyy-MM-ddTHH:mm:ss.fffffffzzz",t[++a]="yyyy-MM-ddTHH:mm:ss.fffzzz",t[++a]="yyyy-MM-ddTHH:mm:sszzz",t[++a]="yyyy-MM-ddTHH:mmzzz",t[++a]="yyyy-MM-ddTHH:mmzz",t[++a]="yyyy-MM-dd",a=0}for(t=isArray(t)?t:[t],o=t.length;o>a;a++)if(s=r(e,t[a],n))return s;return s},kendo.parseInt=function(e,t){var n=kendo.parseFloat(e,t);return n&&(n=0|n),n},kendo.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===NUMBER)return e;e=""+e,t=kendo.getCulture(t);var o,r,s=t.numberFormat,u=s.percent,l=s.currency,d=l.symbol,p=u.symbol,c=e.indexOf("-")>-1;return a.test(e)?(e=parseFloat(e),isNaN(e)&&(e=null),e):(e.indexOf(d)>-1||n&&n.toLowerCase().indexOf("c")>-1?(s=l,o=s.pattern[0].replace("$",d).split("n"),e.indexOf(o[0])>-1&&e.indexOf(o[1])>-1&&(e=e.replace(o[0],"").replace(o[1],""),c=!0)):e.indexOf(p)>-1&&(r=!0,s=u,d=p),e=e.replace("-","").replace(d,"").replace(i," ").split(s[","].replace(i," ")).join("").replace(s["."],"."),e=parseFloat(e),isNaN(e)?e=null:c&&(e*=-1),e&&r&&(e/=100),e)},globalize&&(kendo.parseDate=function(e,t,n){return e instanceof Date?e:globalize.parseDate(e,t,n)},kendo.parseFloat=function(e,t){return typeof e===NUMBER?e:e===undefined?null:globalize.parseFloat(e,t)})}(),function(){function e(e){var t=!1,n=[],o={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in o)if(o.hasOwnProperty(r)&&(n=e.match(o[r]))){t={},t[r]=!0,t[n[1].toLowerCase()]=!0,t.version=n[2];break}return t}support.scrollbar=function(){var e,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",document.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),e},support.isRtl=function(e){return $(e).closest(".k-rtl").length>0};var t=document.createElement("table");try{t.innerHTML="<tr><td></td></tr>",support.tbodyInnerHtml=!0}catch(n){support.tbodyInnerHtml=!1}support.touch="ontouchstart"in window,support.pointers=navigator.msPointerEnabled;var o=support.transitions=!1,r=support.transforms=!1,i="HTMLElement"in window?HTMLElement.prototype:[];support.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,support.hasNativeScrolling="string"==typeof document.documentElement.style.webkitOverflowScrolling,each(["Moz","webkit","O","ms"],function(){var e=""+this,n=typeof t.style[e+"Transition"]===STRING;if(n||typeof t.style[e+"Transform"]===STRING){var i=e.toLowerCase();return r={css:"-"+i+"-",prefix:e,event:"o"===i||"webkit"===i?i:"ms"===i?"MS":""},n&&(o=r,o.event=o.event?o.event+"TransitionEnd":"transitionend"),!1}}),support.transforms=r,support.transitions=o,support.devicePixelRatio=window.devicePixelRatio===undefined?1:window.devicePixelRatio,support.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,support.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight,support.detectOS=function(e){var t,n=!1,o=[],r=!/mobile safari/i.test(e),i={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,winphone:/(IEMobile)\/(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/},a={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows|winphone/},s={tablet:/playbook|ipad|fire/i},u={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var l in i)if(i.hasOwnProperty(l)&&(o=e.match(i[l]))){if("windows"==l&&"plugins"in navigator)return!1;n={},n.device=l,n.tablet=testRx(l,s,!1),n.browser=testRx(e,u,"default"),n.name=testRx(l,a),n[n.name]=!0,n.majorVersion=o[2],n.minorVersion=o[3].replace("_","."),t=n.minorVersion.replace(".","").substr(0,2),n.flatVersion=n.majorVersion+t+Array(3-(3>t.length?t.length:2)).join("0"),n.appMode=window.navigator.standalone||/file|local/.test(window.location.protocol)||typeof window.PhoneGap!==UNDEFINED||typeof window.cordova!==UNDEFINED,n.android&&(1.5>support.devicePixelRatio&&400>n.flatVersion||r)&&(support.screenWidth>800||support.screenHeight>800)&&(n.tablet=l);break}return n},support.mobileOS=support.detectOS(navigator.userAgent),support.kineticScrollNeeded=support.mobileOS&&support.touch,support.browser=e(navigator.userAgent),function(e){var t,n=""+e.version,o=n.substring(0,n.indexOf("."));e.msie?t="ie":e.mozilla?t="ff":e.safari?t="safari":e.webkit?t="webkit":e.opera&&(t="opera"),t&&$(document.documentElement).addClass("k-"+t+" k-"+t+o)}(support.browser),support.zoomLevel=function(){return support.touch?document.documentElement.clientWidth/window.innerWidth:1},support.eventCapture=document.documentElement.addEventListener,support.placeholder="placeholder"in document.createElement("input"),support.stableSort=function(){var e=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===e[0]&&1===e[1]&&2===e[2]&&3===e[3]&&4===e[4]&&5===e[5]&&6===e[6]&&7===e[7]&&8===e[8]&&9===e[9]&&10===e[10]&&11===e[11]&&12===e[12]}(),support.matchesSelector=i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.matchesSelector||function(e){for(var t=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:$(e),n=t.length;n--;)if(t[n]==this)return!0;return!1}}();var directions={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};$.extend(fx,{Element:function(e){this.element=$(e)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},transitionPromise:function(e,t,n){var o=kendo.wrap(e);return o.append(t),e.hide(),t.show(),n.completeCallback&&n.completeCallback(e),e}}),"kendoAnimate"in $.fn||extend($.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,o){return animate(this,e,t,n,o)},kendoAnimateTo:function(e,t,n,o,r){return animateTo(this,e,t,n,o,r)},kendoAddClass:function(e,t){return kendo.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return kendo.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return kendo.toggleClass(this,e,t,n)}});var ampRegExp=/&/g,ltRegExp=/</g,gtRegExp=/>/g,touchLocation=function(e){var t=typeof e.pageX==UNDEFINED?e.originalEvent:e;return{idx:support.pointers?t.pointerId:0,x:t.pageX,y:t.pageY}},eventTarget=function(e){return e.target};if(support.touch){var mobileChrome="chrome"==support.mobileOS.browser&&!support.mobileOS.ios;touchLocation=function(e,t){var n=e.changedTouches||e.originalEvent.changedTouches;if(t){var o=null;return each(n,function(e,n){t==n.identifier&&(o={idx:n.identifier,x:n.pageX,y:n.pageY})}),o}return{idx:n[0].identifier,x:n[0].pageX,y:n[0].pageY}},eventTarget=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null,n=mobileChrome?"screen":"client";return t?document.elementFromPoint(t[0][n+"X"],t[0][n+"Y"]):e.target},each(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,t){$.fn[t]=function(e){return this.bind(t,e)}})}support.touch?support.mobileOS?(support.mousedown="touchstart",support.mouseup="touchend",support.mousemove="touchmove",support.mousecancel="touchcancel",support.click="touchend",support.resize="orientationchange"):(support.mousedown="mousedown touchstart",support.mouseup="mouseup touchend",support.mousemove="mousemove touchmove",support.mousecancel="mouseleave touchcancel",support.click="click",support.resize="resize"):support.pointers?(support.mousemove="MSPointerMove",support.mousedown="MSPointerDown",support.mouseup="MSPointerUp",support.mousecancel="MSPointerCancel",support.click="MSPointerUp",support.resize="orientationchange resize"):(support.mousemove="mousemove",support.mousedown="mousedown",support.mouseup="mouseup",support.mousecancel="mouseleave",support.click="click",support.resize="resize");var wrapExpression=function(e){var t,n,o,r,i="d",a=1;for(n=0,o=e.length;o>n;n++)r=e[n],""!==r&&(t=r.indexOf("["),0!==t&&(-1==t?r="."+r:(a++,r="."+r.substring(0,t)+" || {})"+r.substring(t))),a++,i+=r+(o-1>n?" || {})":")"));return Array(a).join("(")+i},localUrlRe=/^([a-z]+:)?\/\//i;extend(kendo,{ui:kendo.ui||{},fx:kendo.fx||fx,mobile:kendo.mobile||{},data:kendo.data||{},dataviz:kendo.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:kendo.support||support,animate:kendo.animate||animate,ns:"",attr:function(e){return"data-"+kendo.ns+e},wrap:wrap,deepExtend:deepExtend,getComputedStyles:getComputedStyles,size:size,isNodeEmpty:isNodeEmpty,getOffset:kendo.getOffset||getOffset,parseEffects:kendo.parseEffects||parseEffects,toggleClass:kendo.toggleClass||toggleClass,directions:kendo.directions||directions,Observable:Observable,Class:Class,Template:Template,template:proxy(Template.compile,Template),render:proxy(Template.render,Template),stringify:proxy(JSON.stringify,JSON),touchLocation:touchLocation,eventTarget:eventTarget,htmlEncode:htmlEncode,isLocalUrl:function(e){return e&&!localUrlRe.test(e)},expr:function(e,t){return e=e||"",e&&"["!==e.charAt(0)&&(e="."+e),e=t?wrapExpression(e.split(".")):"d"+e},getter:function(e,t){return getterCache[e]=getterCache[e]||Function("d","return "+kendo.expr(e,t))},setter:function(e){return setterCache[e]=setterCache[e]||Function("d,value","d."+e+"=value")},accessor:function(e){return{get:kendo.getter(e),set:kendo.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=0|16*math.random(),(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?8|3&t:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+kendo.attr("role")+"=$1],").slice(0,-1)},logToConsole:function(e){var t=window.console;t!==undefined&&t.log&&t.log(e)}});var Widget=Observable.extend({init:function(e,t){var n=this;n.element=kendo.jQuery(e).handler(n),Observable.fn.init.call(n),t=n.options=extend(!0,{},n.options,t),n.element.attr(kendo.attr("role"))||n.element.attr(kendo.attr("role"),(t.name||"").toLowerCase()),n.element.data("kendo"+t.prefix+t.name,n),n.bind(n.events,t)},events:[],options:{prefix:""},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",o=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(o)?0:o)},setOptions:function(e){for(var t,n=this,o=0,r=n.events.length;r>o;o++)t=n.events[o],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);$.extend(n.options,e),n.bind(n.events,e)},destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.unbind()}});kendo.notify=noop;var templateRegExp=/template$/i,jsonRegExp=/^\s*(?:\{(?:.|\n)*\}|\[(?:.|\n)*\])\s*$/,jsonFormatRegExp=/^\{(\d+)(:[^\}]+)?\}/,dashRegExp=/([A-Z])/g;kendo.initWidget=function(e,t,n){var o,r,i,a,s,u,l,d;if(n?n.roles&&(n=n.roles):n=kendo.ui.roles,e=e.nodeType?e:e[0],u=e.getAttribute("data-"+kendo.ns+"role"),u&&(i=-1===u.indexOf(".")?n[u]:kendo.getter(u)(window))){for(d=parseOption(e,"dataSource"),t=$.extend({},parseOptions(e,i.fn.options),t),d&&(t.dataSource=typeof d===STRING?kendo.getter(d)(window):d),a=0,s=i.fn.events.length;s>a;a++)r=i.fn.events[a],l=parseOption(e,r),l!==undefined&&(t[r]=kendo.getter(l)(window));return o=$(e).data("kendo"+i.fn.options.prefix+i.fn.options.name),o?o.setOptions(t):o=new i(e,t),o}},kendo.rolesFromNamespaces=function(e){var t,n,o=[];for(e[0]||(e=[kendo.ui,kendo.dataviz.ui]),t=0,n=e.length;n>t;t++)o[t]=e[t].roles;return extend.apply(null,[{}].concat(o.reverse()))},kendo.init=function(e){var t=kendo.rolesFromNamespaces(slice.call(arguments,1));$(e).find("[data-"+kendo.ns+"role]").andSelf().each(function(){kendo.initWidget(this,{},t)})},kendo.destroy=function(e){$(e).find("[data-"+kendo.ns+"role]").andSelf().each(function(){var e=$(this),t=kendo.widgetInstance(e,kendo.ui)||kendo.widgetInstance(e,kendo.mobile.ui)||kendo.widgetInstance(e,kendo.dataviz.ui);t&&t.destroy()})},kendo.parseOptions=parseOptions,extend(kendo.ui,{Widget:Widget,roles:{},progress:function(e,t){var n=e.find(".k-loading-mask");t?n.length||(n=$("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").prependTo(e).css({top:e.scrollTop(),left:e.scrollLeft()})):n&&n.remove()},plugin:function(e,t,n){var o,r=e.fn.options.name;t=t||kendo.ui,n=n||"",t[r]=e,t.roles[r.toLowerCase()]=e,o="getKendo"+n+r,r="kendo"+n+r,$.fn[r]=function(t){var n,o=this;return typeof t===STRING?(n=slice.call(arguments,1),this.each(function(){var e,i,a=$.data(this,r);if(!a)throw Error(kendo.format("Cannot call method '{0}' of {1} before it is initialized",t,r));if(e=a[t],typeof e!==FUNCTION)throw Error(kendo.format("Cannot find method '{0}' of {1}",t,r));return i=e.apply(a,n),i!==undefined?(o=i,!1):undefined})):this.each(function(){new e(this,t)}),o},$.fn[o]=function(){return this.data(r)}}});var ContainerNullObject={bind:$.noop},MobileWidget=Widget.extend({init:function(e,t){Widget.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element},destroy:function(){Widget.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(kendo.roleSelector("view splitview"));return e.data("kendoMobileView")||e.data("kendoMobileSplitView")},container:function(){var e=this.element.closest(kendo.roleSelector("view layout modalview"));return kendo.widgetInstance(e,kendo.mobile.ui)||ContainerNullObject}});extend(kendo.mobile,{init:function(e){kendo.init(e,kendo.mobile.ui,kendo.ui,kendo.dataviz.ui)},ui:{Widget:MobileWidget,roles:{},plugin:function(e){kendo.ui.plugin(e,kendo.mobile.ui,"Mobile")}}}),kendo.touchScroller=function(e,t){return $(e).map(function(e,n){return n=$(n),support.kineticScrollNeeded&&kendo.mobile.ui.Scroller&&!n.data("kendoMobileScroller")?(n.kendoMobileScroller(t),n.data("kendoMobileScroller")):!1})[0]},kendo.preventDefault=function(e){e.preventDefault()},kendo.widgetInstance=function(e,t){var n=t.roles[e.data(kendo.ns+"role")];return n?e.data("kendo"+n.fn.options.prefix+n.fn.options.name):undefined
},kendo.onResize=function(e){var t=e;support.mobileOS.android&&(t=function(){setTimeout(e,200)}),$(window).on(support.resize,t)},kendo.attrValue=function(e,t){return e.data(kendo.ns+t)},kendo.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},$.extend($.expr[":"],{focusable:function(e){var t=$.attr(e,"tabindex");return focusable(e,!isNaN(t)&&t>-1)}});var MOUSE_EVENTS=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],EXCLUDE_BUST_CLICK_SELECTOR="label, input, [data-rel=external]",MouseEventNormalizer={setupMouseMute:function(){var e=0,t=MOUSE_EVENTS.length,n=document.documentElement;if(!MouseEventNormalizer.mouseTrap&&support.eventCapture){MouseEventNormalizer.mouseTrap=!0,MouseEventNormalizer.bustClick=!1,MouseEventNormalizer.captureMouse=!1;for(var o=function(e){MouseEventNormalizer.captureMouse&&("click"===e.type?MouseEventNormalizer.bustClick&&!$(e.target).is(EXCLUDE_BUST_CLICK_SELECTOR)&&(e.preventDefault(),e.stopPropagation()):e.stopPropagation())};t>e;e++)n.addEventListener(MOUSE_EVENTS[e],o,!0)}},muteMouse:function(e){MouseEventNormalizer.captureMouse=!0,e.data.bustClick&&(MouseEventNormalizer.bustClick=!0),clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID),MouseEventNormalizer.mouseTrapTimeoutID=setTimeout(function(){MouseEventNormalizer.captureMouse=!1,MouseEventNormalizer.bustClick=!1},400)}},eventMap={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};support.pointers&&(eventMap={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel"});var on=$.fn.on;extend(!0,kendoJQuery,$),kendoJQuery.fn=kendoJQuery.prototype=new $,kendoJQuery.fn.constructor=kendoJQuery,kendoJQuery.fn.init=function(e,t){return t&&t instanceof $&&!(t instanceof kendoJQuery)&&(t=kendoJQuery(t)),$.fn.init.call(this,e,t,rootjQuery)},kendoJQuery.fn.init.prototype=kendoJQuery.fn;var rootjQuery=kendoJQuery(document);extend(kendoJQuery.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return e=e||kendo.guid(),this.data("kendoNS","."+e),this},on:function(){var e=this,t=e.data("kendoNS");if(1===arguments.length)return on.call(e,arguments[0]);var n=e,o=slice.call(arguments);typeof o[o.length-1]===UNDEFINED&&o.pop();var r=o[o.length-1],i=o[0].replace(/([^ ]+)/g,applyEventMap);if(t&&(i=i.replace(/( |$)/g,t+" ")),support.touch&&i.search(/mouse|click/)>-1&&this[0]!==document.documentElement){MouseEventNormalizer.setupMouseMute();var a=2===o.length?null:o[1],s=i.indexOf("click")>-1&&i.indexOf("touchend")>-1;on.call(this,{touchstart:MouseEventNormalizer.muteMouse,touchend:MouseEventNormalizer.unMuteMouse},a,{bustClick:s})}return typeof r===STRING&&(n=e.data("handler"),r=n[r],o[o.length-1]=function(e){r.call(n,e)}),o[0]=i,on.apply(e,o),e},kendoDestroy:function(e){return e=e?"."+e:this.data("kendoNS"),e&&this.off(e),this}}),kendo.jQuery=kendoJQuery,kendo.eventMap=eventMap})(jQuery);;(function(e,t){function r(e,t,r,n){return function(i){var a,o={};for(a in i)o[a]=i[a];o.field=n?r+"."+i.field:r,e.trigger(t,o)}}function n(t,r){if(t===r)return!0;var i,a=e.type(t),o=e.type(r);if(a!==o)return!1;if("date"===a)return t.getTime()===r.getTime();if("object"!==a&&"array"!==a)return!1;for(i in t)if(!n(t[i],r[i]))return!1;return!0}function i(e,t){var r,n;for(n in e){if(r=e[n],R(r)&&r.field&&r.field===t)return r;if(r===t)return r}return null}function a(e){this.data=e||[]}function o(e,r){if(e){var n=typeof e===U?{field:e,dir:r}:e,i=j(n)?n:n!==t?[n]:[];return L(i,function(e){return!!e.dir})}}function s(e){var t,r,n,i,a=e.filters;if(a)for(t=0,r=a.length;r>t;t++)n=a[t],i=n.operator,i&&typeof i===U&&(n.operator=At[i.toLowerCase()]||i),s(n)}function u(e){return e&&!G(e)?((j(e)||!e.filters)&&(e={logic:"and",filters:j(e)?e:[e]}),s(e),e):t}function l(e){return j(e)?e:[e]}function d(e,r){var n=typeof e===U?{field:e,dir:r}:e,i=j(n)?n:n!==t?[n]:[];return z(i,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function f(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function g(e,t,r,n,i){t=t||[];var a,o,s,u=t.length;for(a=0;u>a;a++){o=t[a],s=o.aggregate;var l=o.field;e[l]=e[l]||{},e[l][s]=Ot[s.toLowerCase()](e[l][s],r,E.accessor(l),n,i)}}function c(e){var t,r=e.length,n=Array(r);for(t=0;r>t;t++)n[t]=e[t].toJSON();return n}function p(e,r){r=r||{};var n,i=new a(e),s=r.group,u=d(s||[]).concat(o(r.sort||[])),l=r.filter,f=r.skip,g=r.take;return l&&(i=i.filter(l),n=i.toArray().length),u&&(i=i.sort(u),s&&(e=i.toArray())),f!==t&&g!==t&&(i=i.range(f,g)),s&&(i=i.group(s,e)),{total:n,data:i.toArray()}}function h(e,t){t=t||{};var r=new a(e),n=t.aggregate,i=t.filter;return i&&(r=r.filter(i)),r.aggregate(n)}function _(e,t,r){var n,i,a,o;for(a=0,o=e.length;o>a;a++){n=e[a];for(i in t)n[i]=r._parse(i,t[i](n))}}function v(e,t,r){var n,i,a;for(i=0,a=e.length;a>i;i++)n=e[i],n.value=r._parse(n.field,n.value),n.hasSubgroups?v(n.items,t,r):_(n.items,t,r)}function m(e,t,r,n){return function(i){return i=e(i),i&&!G(n)&&("[object Array]"===ht.call(i)||i instanceof wt||(i=[i]),r(i,n,new t)),i||[]}}function y(e){var t,r,n=[];for(t=0,r=e.length;r>t;t++)n=e[t].hasSubgroups?n.concat(y(e[t].items)):n.concat(e[t].items.slice());return n}function w(e,t){var r,n,i,a;if(t)for(r=0,n=e.length;n>r;r++)i=e[r],a=i.items,i.hasSubgroups?w(a,t):!a.length||a[0]instanceof t||(a.type=t,a.wrapAll(a,a))}function q(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].hasSubgroups){if(q(e[r].items,t))return!0}else if(t(e[r].items,e[r]))return!0}function k(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].uid==t.uid)return t=e[r],e.splice(r,1),t}function S(e,t){var r,n,i,a;for(i=e.length-1,a=0;i>=a;i--)n=e[i],r={value:t.get(n.field),field:n.field,items:r?[r]:[t],hasSubgroups:!!r,aggregates:{}};return r}function b(e,t){return t?C(e,function(e){return e[t.idField]===t.id}):-1}function x(e,t){return t?C(e,function(e){return e.uid==t.uid}):-1}function C(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(t(e[r]))return r;return-1}function F(t,r){var n,i,a,o,s,u=e(t)[0].children,l=[],d=r[0],f=r[1];for(n=0,i=u.length;i>n;n++)a={},s=u[n],a[d.field]=s.text,o=s.attributes.value,o=o&&o.specified?s.value:s.text,a[f.field]=o,l.push(a);return l}function A(t,r){var n,i,a,o,s,u,l,d=e(t)[0].tBodies[0],f=d?d.rows:[],g=r.length,c=[];for(n=0,i=f.length;i>n;n++){for(s={},l=!0,o=f[n].cells,a=0;g>a;a++)u=o[a],"th"!==u.nodeName.toLowerCase()&&(l=!1,s[r[a].field]=u.innerHTML);l||c.push(s)}return c}function O(t,r){var n,i,a,o,s,u,l,d,f=e(t).children(),g=[],c=r[0].field,p=r[1]&&r[1].field,h=r[2]&&r[2].field,_=r[3]&&r[3].field;for(n=0,i=f.length;i>n;n++)a={},o=f.eq(n),u=o[0].firstChild,d=o.children(),t=d.filter("ul"),d=d.filter(":not(ul)"),s=o.attr("data-id"),s&&(a.id=s),u&&(a[c]=3==u.nodeType?u.nodeValue:d.text()),p&&(a[p]=d.find("a").attr("href")),_&&(a[_]=d.find("img").attr("src")),h&&(l=d.find(".k-sprite").prop("className"),a[h]=l&&e.trim(l.replace("k-sprite",""))),t.length&&(a.items=O(t.eq(0),r)),"true"==o.attr("data-hasChildren")&&(a.hasChildren=!0),g.push(a);return g}var z,N=e.extend,T=e.proxy,P=e.isFunction,R=e.isPlainObject,G=e.isEmptyObject,j=e.isArray,L=e.grep,M=e.ajax,D=e.each,I=e.noop,E=window.kendo,B=E.Observable,J=E.Class,U="string",V="function",H="create",Q="read",$="update",K="destroy",W="change",X="sync",Y="get",Z="error",et="requestStart",tt="progress",rt="requestEnd",nt=[H,Q,$,K],it=function(e){return e},at=E.getter,ot=E.stringify,st=Math,ut=[].push,lt=[].join,dt=[].pop,ft=[].splice,gt=[].shift,ct=[].slice,pt=[].unshift,ht={}.toString,_t=E.support.stableSort,vt=/^\/Date\((.*?)\)\/$/,mt=/(\r+|\n+)/g,yt=/(?=['\\])/g,wt=B.extend({init:function(e,t){var r=this;r.type=t||qt,B.fn.init.call(r),r.length=e.length,r.wrapAll(e,r)},toJSON:function(){var e,t,r=this.length,n=Array(r);for(e=0;r>e;e++)t=this[e],t instanceof qt&&(t=t.toJSON()),n[e]=t;return n},parent:I,wrapAll:function(e,t){var r,n,i=this,a=function(){return i};for(t=t||[],r=0,n=e.length;n>r;r++)t[r]=i.wrap(e[r],a);return t},wrap:function(e,t){var r,n=this;return null!==e&&"[object Object]"===ht.call(e)&&(r=e instanceof n.type||e instanceof bt,r||(e=e instanceof qt?e.toJSON():e,e=new n.type(e)),e.parent=t,e.bind(W,function(e){n.trigger(W,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemchange":"itemchange"})})),e},push:function(){var e,t=this.length,r=this.wrapAll(arguments);return e=ut.apply(this,r),this.trigger(W,{action:"add",index:t,items:r}),e},slice:ct,join:lt,pop:function(){var e=this.length,t=dt.apply(this);return e&&this.trigger(W,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,r){var n,i,a,o=this.wrapAll(ct.call(arguments,2));if(n=ft.apply(this,[e,t].concat(o)),n.length)for(this.trigger(W,{action:"remove",index:e,items:n}),i=0,a=n.length;a>i;i++)n[i].children&&n[i].unbind(W);return r&&this.trigger(W,{action:"add",index:e,items:o}),n},shift:function(){var e=this.length,t=gt.apply(this);return e&&this.trigger(W,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=pt.apply(this,t),this.trigger(W,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,r,n=this;for(t=0,r=n.length;r>t;t++)if(n[t]===e)return t;return-1}}),qt=B.extend({init:function(e){var t,r,n,i=this,a=function(){return i};B.fn.init.call(this);for(r in e)t=e[r],"_"!=r.charAt(0)&&(n=ht.call(t),t=i.wrap(t,r,a)),i[r]=t;i.uid=E.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&typeof this[e]!==V&&"uid"!==e},toJSON:function(){var e,t,r={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof qt||e instanceof wt)&&(e=e.toJSON()),r[t]=e);return r},get:function(e){var t,r=this;return r.trigger(Y,{field:e}),t="this"===e?r:E.getter(e,!0)(r)},_set:function(e,r){var n=this;if(e.indexOf("."))for(var i=e.split("."),a="";i.length>1;){a+=i.shift();var o=E.getter(a,!0)(n);if(o instanceof qt)return o.set(i.join("."),r),t;a+="."}E.setter(e)(n,r)},set:function(e,t){var r=this,n=E.getter(e,!0)(r),i=function(){return r};n!==t&&(r.trigger("set",{field:e,value:t})||(r._set(e,r.wrap(t,e,i)),r.trigger(W,{field:e})))},parent:I,wrap:function(e,n,i){var a=this,o=ht.call(e),s=e instanceof wt;return null===e||e===t||"[object Object]"!==o||e instanceof Rt||s?null===e||"[object Array]"!==o&&!s?null!==e&&e instanceof Rt&&(e._parent=i):(s||(e=new wt(e)),e.parent()!=i()&&(e.parent=i,e.bind(W,r(a,W,n,!1)))):(e instanceof qt||(e=new qt(e)),e.parent()!=i()&&(e.parent=i,e.bind(Y,r(a,Y,n,!0)),e.bind(W,r(a,W,n,!0)))),e}}),kt={number:function(e){return E.parseFloat(e)},date:function(e){return E.parseDate(e)},"boolean":function(e){return typeof e===U?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},St={string:"",number:0,date:new Date,"boolean":!1,"default":""},bt=qt.extend({init:function(r){var n=this;(!r||e.isEmptyObject(r))&&(r=e.extend({},n.defaults,r)),qt.fn.init.call(n,r),n.dirty=!1,n.idField&&(n.id=n.get(n.idField),n.id===t&&(n.id=n._defaultId))},shouldSerialize:function(e){return qt.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var r,n=this,a=e,o=n.fields||{};return e=o[e],e||(e=i(o,a)),e&&(r=e.parse,!r&&e.type&&(r=kt[e.type.toLowerCase()])),r?r(t):t},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,r){var i=this;i.editable(e)&&(t=i._parse(e,t),n(t,i.get(e))||(i.dirty=!0,qt.fn.set.call(i,e,t,r)))},accept:function(e){var t,r=this,n=function(){return r};for(t in e)r._set(t,r.wrap(e[t],t,n));r.idField&&(r.id=r.get(r.idField)),r.dirty=!1},isNew:function(){return this.id===this._defaultId}});bt.define=function(e,r){r===t&&(r=e,e=bt);var n,i,a,o,s,u=N({defaults:{}},r),l=u.id;l&&(u.idField=l),u.id&&delete u.id,l&&(u.defaults[l]=u._defaultId="");for(i in u.fields)a=u.fields[i],o=a.type||"default",s=null,i=typeof a.field===U?a.field:i,a.nullable||(s=u.defaults[i]=a.defaultValue!==t?a.defaultValue:St[o.toLowerCase()]),r.id===i&&(u._defaultId=s),u.defaults[i]=s,a.parse=a.parse||kt[o];return n=e.extend(u),n.define=function(e){return bt.define(n,e)},u.fields&&(n.fields=u.fields,n.idField=u.idField),n};var xt={selector:function(e){return P(e)?e:at(e)},asc:function(e){var t=this.selector(e);return function(e,r){return e=t(e),r=t(r),null==e&&null==r?0:e&&!r&&e>0||null==r?1:r&&!e&&r>0?-1:e>r?1:r>e?-1:0}},desc:function(e){var t=this.selector(e);return function(e,r){return e=t(e),r=t(r),null==e&&null==r?0:e&&!r&&e>0||null==r?-1:r&&!e&&r>0||null==e?1:r>e?1:e>r?-1:0}},create:function(e){return this[e.dir.toLowerCase()](e.field)},combine:function(e){return function(t,r){var n,i,a=e[0](t,r);for(n=1,i=e.length;i>n;n++)a=a||e[n](t,r);return a}}},Ct=N({},xt,{asc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==i?1:n>i?1:i>n?-1:0}},desc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:i>n?1:n>i?-1:0}}});z=function(e,t){var r,n=e.length,i=Array(n);for(r=0;n>r;r++)i[r]=t(e[r],r,e);return i};var Ft=function(){function e(e){return e.replace(yt,"\\").replace(mt,"")}function t(t,r,n,i){var a;return null!=n&&(typeof n===U&&(n=e(n),a=vt.exec(n),a?n=new Date(+a[1]):i?(n="'"+n.toLowerCase()+"'",r="("+r+" || '').toLowerCase()"):n="'"+n+"'"),n.getTime&&(r="("+r+"?"+r+".getTime():"+r+")",n=n.getTime())),r+" "+t+" "+n}return{eq:function(e,r,n){return t("==",e,r,n)},neq:function(e,r,n){return t("!=",e,r,n)},gt:function(e,r,n){return t(">",e,r,n)},gte:function(e,r,n){return t(">=",e,r,n)},lt:function(e,r,n){return t("<",e,r,n)},lte:function(e,r,n){return t("<=",e,r,n)},startswith:function(t,r,n){return n&&(t+=".toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".lastIndexOf('"+r+"', 0) == 0"},endswith:function(t,r,n){return n&&(t+=".toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"', "+t+".length - "+(r||"").length+") >= 0"},contains:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') >= 0"},doesnotcontain:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') == -1"}}}();a.filterExpr=function(e){var r,n,i,o,s,u,l=[],d={and:" && ",or:" || "},f=[],g=[],c=e.filters;for(r=0,n=c.length;n>r;r++)i=c[r],s=i.field,u=i.operator,i.filters?(o=a.filterExpr(i),i=o.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(g.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(f.length+t)+"]"}),g.push.apply(g,o.operators),f.push.apply(f,o.fields)):(typeof s===V?(o="__f["+f.length+"](d)",f.push(s)):o=E.expr(s),typeof u===V?(i="__o["+g.length+"]("+o+", "+i.value+")",g.push(u)):i=Ft[(u||"eq").toLowerCase()](o,i.value,i.ignoreCase!==t?i.ignoreCase:!0)),l.push(i);return{expression:"("+l.join(d[e.logic])+")",fields:f,operators:g}};var At={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};a.normalizeFilter=u,a.prototype={toArray:function(){return this.data},range:function(e,t){return new a(this.data.slice(e,e+t))},skip:function(e){return new a(this.data.slice(e))},take:function(e){return new a(this.data.slice(0,e))},select:function(e){return new a(z(this.data,e))},orderBy:function(e){var t=this.data.slice(0),r=P(e)||!e?xt.asc(e):e.compare;return new a(t.sort(r))},orderByDescending:function(e){return new a(this.data.slice(0).sort(xt.desc(e)))},sort:function(e,t,r){var n,i,a=o(e,t),s=[];if(r=r||xt,a.length){for(n=0,i=a.length;i>n;n++)s.push(r.create(a[n]));return this.orderBy({compare:r.combine(s)})}return this},filter:function(e){var t,r,n,i,o,s,l,d,f=this.data,g=[];if(e=u(e),!e||0===e.filters.length)return this;for(i=a.filterExpr(e),s=i.fields,l=i.operators,o=d=Function("d, __f, __o","return "+i.expression),(s.length||l.length)&&(d=function(e){return o(e,s,l)}),t=0,n=f.length;n>t;t++)r=f[t],d(r)&&g.push(r);return new a(g)},group:function(e,t){e=d(e||[]),t=t||this.data;var r,n=this,i=new a(n.data);return e.length>0&&(r=e[0],i=i.groupBy(r).select(function(n){var i=new a(t).filter([{field:n.field,operator:"eq",value:n.value}]);return{field:n.field,value:n.value,items:e.length>1?new a(n.items).group(e.slice(1),i.toArray()).toArray():n.items,hasSubgroups:e.length>1,aggregates:i.aggregate(r.aggregates)}})),i},groupBy:function(e){if(G(e)||!this.data.length)return new a([]);var t,r,n,i,o=e.field,s=this._sortForGrouping(o,e.dir||"asc"),u=E.accessor(o),l=u.get(s[0],o),d={field:o,value:l,items:[]},g=[d];for(n=0,i=s.length;i>n;n++)t=s[n],r=u.get(t,o),f(l,r)||(l=r,d={field:o,value:l,items:[]},g.push(d)),d.items.push(t);return new a(g)},_sortForGrouping:function(e,t){var r,n,i=this.data;if(!_t){for(r=0,n=i.length;n>r;r++)i[r].__position=r;for(i=new a(i).sort(e,t,Ct).toArray(),r=0,n=i.length;n>r;r++)delete i[r].__position;return i}return this.sort(e,t).toArray()},aggregate:function(e){var t,r,n={};if(e&&e.length)for(t=0,r=this.data.length;r>t;t++)g(n,e,this.data[t],t,r);return n}};var Ot={sum:function(e,t,r){return(e||0)+r.get(t)},count:function(e){return(e||0)+1},average:function(e,t,r,n,i){return e=(e||0)+r.get(t),n==i-1&&(e/=i),e},max:function(e,t,r){var n=r.get(t);return e=e||0,n>e&&(e=n),e},min:function(e,t,r){var n=r.get(t);return e=e||n,e>n&&(e=n),e}},zt=J.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),Nt=J.extend({init:function(e){var t,r=this;e=r.options=N({},r.options,e),D(nt,function(t,r){typeof e[r]===U&&(e[r]={url:e[r]})}),r.cache=e.cache?Tt.create(e.cache):{find:I,add:I},t=e.parameterMap,r.parameterMap=P(t)?t:function(e){var r={};return D(e,function(e,n){e in t&&(e=t[e],R(e)&&(n=e.value(n),e=e.key)),r[e]=n}),r}},options:{parameterMap:it},create:function(e){return M(this.setup(e,H))},read:function(r){var n,i,a,o=this,s=o.cache;r=o.setup(r,Q),n=r.success||I,i=r.error||I,a=s.find(r.data),a!==t?n(a):(r.success=function(e){s.add(r.data,e),n(e)},e.ajax(r))},update:function(e){return M(this.setup(e,$))},destroy:function(e){return M(this.setup(e,K))},setup:function(e,t){e=e||{};var r,n=this,i=n.options[t],a=P(i.data)?i.data(e.data):i.data;return e=N(!0,{},i,e),r=N(!0,{},a,e.data),e.data=n.parameterMap(r,t),P(e.url)&&(e.url=e.url(r)),e}}),Tt=J.extend({init:function(){this._store={}},add:function(e,r){e!==t&&(this._store[ot(e)]=r)},find:function(e){return this._store[ot(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[ot(e)]}});Tt.create=function(e){var t={inmemory:function(){return new Tt}};return R(e)&&P(e.find)?e:e===!0?new Tt:t[e]()};var Pt=J.extend({init:function(e){var t,r,n,i,a=this;e=e||{};for(t in e)r=e[t],a[t]=typeof r===U?at(r):r;if(i=e.modelBase||bt,R(a.model)&&(a.model=n=i.define(a.model)),a.model){var o=T(a.data,a),s=T(a.groups,a),u={};n=a.model,n.fields&&D(n.fields,function(e,t){R(t)&&t.field?u[t.field]=at(t.field):u[e]=at(e)}),a.data=m(o,n,_,u),a.groups=m(s,n,v,u)}},errors:function(e){return e?e.errors:null},parse:it,data:it,total:function(e){return e.length},groups:it,status:function(e){return e.status},aggregates:function(){return{}}}),Rt=B.extend({init:function(e){var r,n,i,a=this;e&&(i=e.data),e=a.options=N({},a.options,e),N(a,{_map:{},_prefetch:{},_data:[],_ranges:[],_view:[],_pristine:[],_destroyed:[],_pageSize:e.pageSize,_page:e.page||(e.pageSize?1:t),_sort:o(e.sort),_filter:u(e.filter),_group:d(e.group),_aggregate:e.aggregate,_total:e.total}),B.fn.init.call(a),n=e.transport,n?(n.read=typeof n.read===U?{url:n.read}:n.read,e.type&&(E.data.transports[e.type]&&!R(E.data.transports[e.type])?a.transport=new E.data.transports[e.type](N(n,{data:i})):n=N(!0,{},E.data.transports[e.type],n),e.schema=N(!0,{},E.data.schemas[e.type],e.schema)),a.transport||(a.transport=P(n.read)?n:new Nt(n))):a.transport=new zt({data:e.data}),a.reader=new E.data.readers[e.schema.type||"json"](e.schema),r=a.reader.model||{},a._data=a._observe(a._data),a.bind([Z,W,et,X,rt,tt],e)},options:{data:[],schema:{modelBase:bt},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,sendAllFields:!0,batch:!1},_flatData:function(e){return this.options.serverGrouping&&this.group().length?y(e):e},get:function(e){var t,r,n=this._flatData(this._data);for(t=0,r=n.length;r>t;t++)if(n[t].id==e)return n[t]},getByUid:function(e){var t,r,n=this._flatData(this._data);if(n)for(t=0,r=n.length;r>t;t++)if(n[t].uid==e)return n[t]},sync:function(){var t,r,n=this,i=[],a=[],o=n._destroyed,s=n._flatData(n._data);if(n.reader.model){for(t=0,r=s.length;r>t;t++)s[t].isNew()?i.push(s[t]):s[t].dirty&&a.push(s[t]);var u=n._send("create",i);u.push.apply(u,n._send("update",a)),u.push.apply(u,n._send("destroy",o)),e.when.apply(null,u).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++)n._accept(arguments[e]);n._change({action:"sync"}),n.trigger(X)})}},hasChanges:function(){var e,t,r=this._data;if(this._destroyed.length)return!0;for(e=0,t=r.length;t>e;e++)if(r[e].isNew()||r[e].dirty)return!0;return!1},_accept:function(t){var r,n=this,i=t.models,a=t.response,o=0,s=n.options.serverGrouping&&n.group()&&n.group().length,u=n.reader.data(n._pristine),l=t.type;if(n.trigger(rt,{response:a,type:l}),a){if(a=n.reader.parse(a),n._handleCustomErrors(a))return;a=n.reader.data(a),e.isArray(a)||(a=[a])}else a=e.map(i,function(e){return e.toJSON()});for("destroy"===l&&(n._destroyed=[]),o=0,r=i.length;r>o;o++)"destroy"!==l?(i[o].accept(a[o]),"create"===l?u.push(s?S(n.group(),i[o]):a[o]):"update"===l&&(s?n._updatePristineGroupModel(i[o],a[o]):N(u[n._pristineIndex(i[o])],a[o]))):s?n._removePristineGroupModel(i[o]):u.splice(n._pristineIndex(i[o]),1)},_pristineIndex:function(e){var t,r,n=this,i=n.reader.data(n._pristine);for(t=0,r=i.length;r>t;t++)if(i[t][e.idField]===e.id)return t;return-1},_updatePristineGroupModel:function(e,r){var n,i=this.reader.groups(this._pristine);q(i,function(i){return n=b(i,e),n>-1?(N(!0,i[n],r),!0):t})},_removePristineGroupModel:function(e){var r,n=this.reader.groups(this._pristine);q(n,function(n){return r=b(n,e),r>-1?(n.splice(r,1),!0):t})},_promise:function(t,r,n){var i=this,a=i.transport;return e.Deferred(function(e){a[n].call(a,N({success:function(t){e.resolve({response:t,models:r,type:n})},error:function(t,r,n){e.reject(t),i.error(t,r,n)}},t))}).promise()},_send:function(e,t){var r,n,i=this,a=[];if(i.options.batch)t.length&&a.push(i._promise({data:{models:c(t)}},t,e));else for(r=0,n=t.length;n>r;r++)a.push(i._promise({data:t[r].toJSON()},[t[r]],e));return a},add:function(e){return this.insert(this._data.length,e)},insert:function(e,t){return t||(t=e,e=0),t instanceof bt||(t=this.reader.model?new this.reader.model(t):new qt(t)),this.options.serverGrouping&&this.group()&&this.group().length?this._data.splice(e,0,S(this.group(),t)):this._data.splice(e,0,t),t},cancelChanges:function(e){var t,r,n=this,i=n.options.serverGrouping&&n.group()&&n.group().length,a=i?n.reader.groups:n.reader.data,o=a(n._pristine);e instanceof E.data.Model?i?n._cancelGroupModel(e):(r=n.indexOf(e),t=n._pristineIndex(e),-1!=r&&(-1==t||e.isNew()?n._data.splice(r,1):n._data[r].accept(o[t]))):(n._destroyed=[],n._data=n._observe(o),n._change())},read:function(e){var t=this,r=t._params(e);t._queueRequest(r,function(){t.trigger(et)?t._dequeueRequest():(t.trigger(tt),t._ranges=[],t.transport.read({data:r,success:T(t.success,t),error:T(t.error,t)}))})},_cancelGroupModel:function(e){var r,n,i=this.reader.groups(this._pristine);q(i,function(i){return n=b(i,e),n>-1?(r=i[n],!0):t}),n>-1&&q(this._data,function(t){n=x(t,e),n>-1&&(e.isNew()?t.splice(n,1):N(!0,t[n],r))})},indexOf:function(e){return x(this._data,e)},_params:function(e){var t=this,r=N({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete r.take,delete r.skip,delete r.page,delete r.pageSize),t.options.serverGrouping||delete r.group,t.options.serverFiltering||delete r.filter,t.options.serverSorting||delete r.sort,t.options.serverAggregates||delete r.aggregate,r},_queueRequest:function(e,r){var n=this;n._requestInProgress?n._pending={callback:T(r,n),options:e}:(n._requestInProgress=!0,n._pending=t,r())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},remove:function(e){var t=this._data;return this.options.serverGrouping&&this.group()&&this.group().length?this._removeGroupItem(t,e):k(t,e)},_removeGroupItem:function(e,r){var n,i=this;return q(e,function(e){return n=k(e,r),n?(n.isNew&&n.isNew()||i._destroyed.push(n),!0):t}),r},error:function(e,t,r){this._dequeueRequest(),this.trigger(rt,{}),this.trigger(Z,{xhr:e,status:t,errorThrown:r})},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(Z,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_parent:I,success:function(r){var n=this,i=n.options,a=i.serverGrouping===!0&&n._group&&n._group.length>0;return n.trigger(rt,{response:r,type:"read"}),r=n.reader.parse(r),n._handleCustomErrors(r)?(n._dequeueRequest(),t):(n._pristine=R(r)?e.extend(!0,{},r):r.slice?r.slice(0):r,n._total=n.reader.total(r),n._aggregate&&i.serverAggregates&&(n._aggregateResult=n.reader.aggregates(r)),r=a?n.reader.groups(r):n.reader.data(r),n._data=n._observe(r),n._addRange(n._data),n._dequeueRequest(),n._process(n._data),t)},_addRange:function(e){var t=this,r=t._skip||0,n=r+e.length;t._ranges.push({start:r,end:n,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},_observe:function(e){var t=this,r=t.reader.model,n=!1;return r&&e.length&&(n=!(e[0]instanceof r)),e instanceof wt?n&&(e.type=t.reader.model,e.wrapAll(e,e)):(e=new wt(e,t.reader.model),e.parent=function(){return t._parent()}),t.group()&&t.group().length&&t.options.serverGrouping&&w(e,r),e.bind(W,T(t._change,t))},_change:function(e){var t,r,n=this,i=e?e.action:"";if("remove"===i)for(t=0,r=e.items.length;r>t;t++)e.items[t].isNew&&e.items[t].isNew()||n._destroyed.push(e.items[t]);if(!n.options.autoSync||"add"!==i&&"remove"!==i&&"itemchange"!==i){var a=n._total||n.reader.total(n._pristine);"add"===i?a++:"remove"===i?a--:"itemchange"===i||n.options.serverPaging||(a=n.reader.total(n._pristine)),n._total=a,n._process(n._data,e)}else n.sync()},_process:function(e,r){var n,i=this,a={};i.options.serverPaging!==!0&&(a.skip=i._skip,a.take=i._take||i._pageSize,a.skip===t&&i._page!==t&&i._pageSize!==t&&(a.skip=(i._page-1)*i._pageSize)),i.options.serverSorting!==!0&&(a.sort=i._sort),i.options.serverFiltering!==!0&&(a.filter=i._filter),i.options.serverGrouping!==!0&&(a.group=i._group),i.options.serverAggregates!==!0&&(a.aggregate=i._aggregate,i._aggregateResult=h(e,a)),n=p(e,a),i._view=n.data,n.total===t||i.options.serverFiltering||(i._total=n.total),r=r||{},r.items=r.items||i._view,i.trigger(W,r)},at:function(e){return this._data[e]},data:function(e){var r=this;return e===t?r._data:(r._data=this._observe(e),r._ranges=[],r._addRange(r._data),r._total=r._data.length,r._process(r._data),t)},view:function(){return this._view},_mergeState:function(e){var r=this;return e!==t&&(r._pageSize=e.pageSize,r._page=e.page,r._sort=e.sort,r._filter=e.filter,r._group=e.group,r._aggregate=e.aggregate,r._skip=e.skip,r._take=e.take,r._skip===t&&(r._skip=r.skip(),e.skip=r.skip()),r._take===t&&r._pageSize!==t&&(r._take=r._pageSize,e.take=r._take),e.sort&&(r._sort=e.sort=o(e.sort)),e.filter&&(r._filter=e.filter=u(e.filter)),e.group&&(r._group=e.group=d(e.group)),e.aggregate&&(r._aggregate=e.aggregate=l(e.aggregate))),e},query:function(e){var r,n=this,i=n.options.serverSorting||n.options.serverPaging||n.options.serverFiltering||n.options.serverGrouping||n.options.serverAggregates;i||n._data===t||0===n._data.length?n.read(n._mergeState(e)):n.trigger(et)||(n.trigger(tt),r=p(n._data,n._mergeState(e)),n.options.serverFiltering||(n._total=r.total!==t?r.total:n._data.length),n._view=r.data,n._aggregateResult=h(n._data,e),n.trigger(rt,{}),n.trigger(W,{items:r.data}))},fetch:function(e){var t=this;e&&P(e)&&t.one(W,e),t._query()},_query:function(e){var t=this;t.query(N({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var r=this,n=r.page(),i=r.total();return e=e||{},!n||i&&n+1>r.totalPages()?t:(r._skip=n*r.take(),n+=1,e.page=n,r._query(e),n)},prev:function(e){var r=this,n=r.page();return e=e||{},n&&1!==n?(r._skip=r._skip-r.take(),n-=1,e.page=n,r._query(e),n):t},page:function(e){var r,n=this;return e!==t?(e=st.max(st.min(st.max(e,1),n.totalPages()),1),n._query({page:e}),t):(r=n.skip(),r!==t?st.round((r||0)/(n.take()||1))+1:t)},pageSize:function(e){var r=this;return e!==t?(r._query({pageSize:e,page:1}),t):r.take()},sort:function(e){var r=this;return e!==t?(r._query({sort:e}),t):r._sort},filter:function(e){var r=this;return e===t?r._filter:(r._query({filter:e,page:1}),t)},group:function(e){var r=this;return e!==t?(r._query({group:e}),t):r._group},total:function(){return this._total||0},aggregate:function(e){var r=this;return e!==t?(r._query({aggregate:e}),t):r._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var e=this,t=e.pageSize()||e.total();return st.ceil((e.total()||0)/t)},inRange:function(e,t){var r=this,n=st.min(e+t,r.total());return!r.options.serverPaging&&r.data.length>0?!0:r._findRange(e,n).length>0},range:function(e,r){e=st.min(e||0,this.total());var n,i=this,a=st.max(st.floor(e/r),0)*r,o=st.min(a+r,i.total());if(n=i._findRange(e,st.min(e+r,i.total())),n.length){i._skip=e>i.skip()?st.min(o,(i.totalPages()-1)*i.take()):a,i._take=r;var s=i.options.serverPaging,u=i.options.serverSorting,l=i.options.serverFiltering;try{i.options.serverPaging=!0,i.options.serverSorting=!0,i.options.serverFiltering=!0,s&&(i._data=n=i._observe(n)),i._process(n)}finally{i.options.serverPaging=s,i.options.serverSorting=u,i.options.serverFiltering=l}}else r!==t&&(i._rangeExists(a,o)?e>a&&i.prefetch(o,r,function(){i.range(e,r)}):i.prefetch(a,r,function(){e>a&&i.total()>o&&!i._rangeExists(o,st.min(o+r,i.total()))?i.prefetch(o,r,function(){i.range(e,r)}):i.range(e,r)}))},_findRange:function(e,r){var n,i,a,o,s,u,l,d,f,g=this,c=g._ranges,h=[],_=g.options,v=_.serverSorting||_.serverPaging||_.serverFiltering||_.serverGrouping||_.serverAggregates;for(i=0,f=c.length;f>i;i++)if(n=c[i],e>=n.start&&n.end>=e){var m=0;for(a=i;f>a;a++)if(n=c[a],n.data.length&&e+m>=n.start&&(u=n.data,l=n.end,v||(d=p(n.data,{sort:g.sort(),filter:g.filter()}),u=d.data,d.total!==t&&(l=d.total)),o=0,e+m>n.start&&(o=e+m-n.start),s=u.length,l>r&&(s-=l-r),m+=s-o,h=h.concat(u.slice(o,s)),n.end>=r&&m==r-e))return h;break}return[]},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){var e=this;return e._take||e._pageSize},prefetch:function(e,t,r){var n=this,i=st.min(e+t,n.total()),a={start:e,end:i,data:[]},o={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,i)?r&&r():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(o,function(){n.transport.read({data:o,success:function(t){n._dequeueRequest();for(var i=!1,o=0,s=n._ranges.length;s>o;o++)if(n._ranges[o].start===e){i=!0,a=n._ranges[o];break}i||n._ranges.push(a),t=n.reader.parse(t),a.data=n._observe(n.reader.data(t)),a.end=a.start+a.data.length,n._ranges.sort(function(e,t){return e.start-t.start}),n._total=n.reader.total(t),r&&r()}})})},100))},_rangeExists:function(e,t){var r,n,i=this,a=i._ranges;for(r=0,n=a.length;n>r;r++)if(e>=a[r].start&&a[r].end>=t)return!0;return!1}});Rt.create=function(e){e=e&&e.push?{data:e}:e;var t,r,n,i=e||{},a=i.data,o=i.fields,s=i.table,u=i.select,l={};if(a||!o||i.transport||(s?a=A(s,o):u&&(a=F(u,o))),E.data.Model&&o&&(!i.schema||!i.schema.model)){for(t=0,r=o.length;r>t;t++)n=o[t],n.type&&(l[n.field]=n);G(l)||(i.schema=N(!0,i.schema,{model:{fields:l}}))}return i.data=a,i instanceof Rt?i:new Rt(i)};var Gt=bt.define({init:function(e){var t=this,r=t.hasChildren||e&&e.hasChildren,n="items",i={};E.data.Model.fn.init.call(t,e),typeof t.children===U&&(n=t.children),i={schema:{data:n,model:{hasChildren:r,id:t.idField}}},typeof t.children!==U&&N(i,t.children),i.data=e,r||(r=i.schema.data),typeof r===U&&(r=E.getter(r)),P(r)&&(t.hasChildren=!!r.call(t,t)),t._childrenOptions=i,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[n])},_initChildren:function(){var e=this;e.children instanceof jt||(e.children=new jt(e._childrenOptions),e.children._parent=function(){return e},e.children.bind(W,function(t){t.node=t.node||e,e.trigger(W,t)}),e._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},load:function(){var e=this,r={};e._initChildren(),(!e._loaded||e.hasChildren)&&(r[e.idField||"id"]=e.id,e._loaded||(e.children._data=t),e.children.one(W,function(){e._loaded=!0,e._updateChildrenField()})._query(r))},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return bt.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),jt=Rt.extend({init:function(e){var t=Gt.define({children:e});Rt.fn.init.call(this,N(!0,{},{schema:{modelBase:t,model:t}},e))},remove:function(e){var t,r=e.parentNode(),n=this;return r&&(n=r.children),t=Rt.fn.remove.call(n,e),r&&!n.data().length&&(r.hasChildren=!1),t},insert:function(e,t){var r=this._parent();return r&&(r.hasChildren=!0,r._initChildren()),Rt.fn.insert.call(this,e,t)},_find:function(e,t){var r,n,i,a,o;if(i=Rt.fn[e].call(this,t))return i;if(a=this._flatData(this.data()))for(r=0,n=a.length;n>r;r++)if(o=a[r].children,o instanceof jt&&(i=o[e](t)))return i},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}});jt.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},r=t.data,n=t.fields,i=t.list;return r&&r._dataSource?r._dataSource:(r||!n||t.transport||i&&(r=O(i,n)),t.data=r,t instanceof jt?t:new jt(t))
},N(!0,E.data,{readers:{json:Pt},Query:a,DataSource:Rt,HierarchicalDataSource:jt,Node:Gt,ObservableObject:qt,ObservableArray:wt,LocalTransport:zt,RemoteTransport:Nt,Cache:Tt,DataReader:Pt,Model:bt})})(window.kendo.jQuery);;(function(e){function t(t,o){return t===o||e.contains(t,o)}var o=window.kendo,n=o.ui,i=n.Widget,s=o.support,r=o.getOffset,a=o.support.browser,l=a.msie&&9>a.version,p="open",d="close",c="deactivate",f="activate",u="center",m="left",g="right",h="top",w="bottom",v="absolute",_="hidden",b="body",k="location",y="position",x="visible",z="fitted",C="effects",P="k-state-active",T="k-state-border",W=".k-picker-wrap, .k-dropdown-wrap, .k-link",E="down",I=e(document),H=e(window),O=e(document.documentElement),S="resize scroll",L=s.transitions.css,N=L+"transform",A=e.extend,F=".kendoPopup",R=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],j=i.extend({init:function(t,n){var s,r=this;n=n||{},n.isRtl&&(n.origin=n.origin||w+" "+g,n.position=n.position||h+" "+g),i.fn.init.call(r,t,n),t=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],1===r.collisions.length&&r.collisions.push(r.collisions[0]),s=e(r.options.anchor).closest(".k-popup,.k-group"),n.appendTo=e(e(n.appendTo)[0]||s[0]||b),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:v}).appendTo(n.appendTo).on("mouseenter"+F,function(){r._hovered=!0}).on("mouseleave"+F,function(){r._hovered=!1}),r.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),A(n.animation.open,{complete:function(){r.wrapper.css({overflow:x}),r.trigger(f)}}),A(n.animation.close,{complete:function(){r.wrapper.hide();var i,s,a=r.wrapper.data(k),l=e(n.anchor);a&&r.wrapper.css(a),n.anchor!=b&&(i=l.hasClass(T+"-down")?"down":"up",s=T+"-"+i,l.removeClass(s).children(W).removeClass(P).removeClass(s),t.removeClass(T+"-"+o.directions[i].reverse)),r._closing=!1,r.trigger(c)}}),r._mousedownProxy=function(e){r._mousedown(e)},r._currentWidth=I.width(),r._resizeProxy=function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+F,e.proxy(r.toggle,r))},events:[p,f,d,c],options:{name:"Popup",toggleEvent:"click",origin:w+" "+m,position:h+" "+m,anchor:b,collision:"flip fit",viewport:window,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var t,n=this,s=n.options,r=n.element.off(F);i.fn.destroy.call(n),s.toggleTarget&&e(s.toggleTarget).off(F),O.unbind(E,n._mousedownProxy),H.unbind(S,n._resizeProxy),s.appendTo[0]===document.body&&(t=r.parent(".k-animation-container"),t[0]?t.remove():r.remove()),o.destroy(n.element.children())},open:function(t,n){var i,r,a=this,l={isFixed:!isNaN(parseInt(n,10)),x:t,y:n},d=a.element,c=a.options,f="down",u=e(c.anchor);if(!a.visible()){if(d.css(o.getComputedStyles(u[0],R)),d.data("animating")||a.trigger(p))return;if(O.unbind(E,a._mousedownProxy).bind(E,a._mousedownProxy),s.mobileOS.ios||s.mobileOS.android||H.unbind(S,a._resizeProxy).bind(S,a._resizeProxy),a.wrapper=r=o.wrap(d).css({overflow:_,display:"block",position:v}),s.mobileOS.android&&r.add(u).css(N,"translatez(0)"),r.css(y),e(c.appendTo)[0]==document.body&&r.css(h,"-10000px"),i=A(!0,{},c.animation.open),a.flipped=a._position(l),i.effects=o.parseEffects(i.effects,a.flipped),f=i.effects.slideIn?i.effects.slideIn.direction:f,c.anchor!=b){var m=T+"-"+f;d.addClass(T+"-"+o.directions[f].reverse),u.addClass(m).children(W).addClass(P).addClass(m)}d.data(C,i.effects).kendoStop(!0).kendoAnimate(i)}},toggle:function(){var e=this;e[e.visible()?d:p]()},visible:function(){return this.element.is(":"+x)},close:function(){var t,n,i,s=this,r=s.options;if(s.visible()){if(s._closing||s.trigger(d))return;s.element.find(".k-popup").each(function(){var t=e(this),o=t.data("kendoPopup");o&&o.close()}),O.unbind(E,s._mousedownProxy),H.unbind(S,s._resizeProxy),t=A(!0,{},r.animation.close),n=s.element.data(C),i=t.effects,s.wrapper=o.wrap(s.element).css({overflow:_}),!i&&!o.size(i)&&n&&o.size(n)&&(t.effects=n,t.reverse=!0),s._closing=!0,s.element.kendoStop(!0).kendoAnimate(t)}},_resize:function(){var e=this;if(l){var o=I.width();if(o==e._currentWidth)return;e._currentWidth=o}e._hovered||t(e.element[0],document.activeElement)||e.close()},_mousedown:function(n){var i=this,s=i.element[0],r=i.options,a=e(r.anchor)[0],l=r.toggleTarget,p=o.eventTarget(n),d=e(p).closest(".k-popup")[0];d&&d!==i.element[0]||t(s,p)||t(a,p)||l&&t(e(l)[0],p)||i.close()},_fit:function(e,t,o){var n=0;return e+t>o&&(n=o-(e+t)),0>e&&(n=-e),n},_flip:function(e,t,o,n,i,s,r){var a=0;return r=r||t,s!==i&&s!==u&&i!==u&&(e+r>n&&(a+=-(o+t)),0>e+a&&(a+=o+t)),a},_position:function(t){var o,n,i,a,l=this,p=l.element.css(y,""),d=l.wrapper,c=l.options,f=e(c.viewport),u=e(f).offset(),m=e(c.anchor),g=c.origin.toLowerCase().split(" "),h=c.position.toLowerCase().split(" "),w=l.collisions,_=s.zoomLevel(),b=10002,x=0;if(o=m.parents().filter(d.siblings()),o[0])if(i=Number(e(o).css("zIndex")))b=i+1;else for(n=m.parentsUntil(o),a=n.length;a>x;x++)i=Number(e(n[x]).css("zIndex")),i&&i>b&&(b=i+1);d.css("zIndex",b),t&&t.isFixed?d.css({left:t.x,top:t.y}):d.css(l._align(g,h));var C=r(d,y),P=r(d),T=m.offsetParent().parent(".k-animation-container");T.length&&T.data(z)&&(C=r(d,y),P=r(d)),f[0]===window?(P.top-=window.pageYOffset||document.documentElement.scrollTop||0,P.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(P.top-=u.top,P.left-=u.left),l.wrapper.data(k)||d.data(k,A({},C));var W=A({},P),E=A({},C);"fit"===w[0]&&(E.top+=l._fit(W.top,d.outerHeight(),f.height()/_)),"fit"===w[1]&&(E.left+=l._fit(W.left,d.outerWidth(),f.width()/_)),E.left!=C.left||E.top!=C.top?d.data(z,!0):d.removeData(z);var I=A({},E);return"flip"===w[0]&&(E.top+=l._flip(W.top,p.outerHeight(),m.outerHeight(),f.height()/_,g[0],h[0],d.outerHeight())),"flip"===w[1]&&(E.left+=l._flip(W.left,p.outerWidth(),m.outerWidth(),f.width()/_,g[1],h[1],d.outerWidth())),p.css(y,v),d.css(E),E.left!=I.left||E.top!=I.top},_align:function(t,o){var n,i=this,s=i.wrapper,a=e(i.options.anchor),l=t[0],p=t[1],d=o[0],c=o[1],f=r(a),m=e(i.options.appendTo),h=s.outerWidth(),v=s.outerHeight(),_=a.outerWidth(),b=a.outerHeight(),k=f.top,y=f.left,x=Math.round;return m[0]!=document.body&&(n=r(m),k-=n.top,y-=n.left),l===w&&(k+=b),l===u&&(k+=x(b/2)),d===w&&(k-=v),d===u&&(k-=x(v/2)),p===g&&(y+=_),p===u&&(y+=x(_/2)),c===g&&(y-=h),c===u&&(y-=x(h/2)),{top:k,left:y}}});n.plugin(j)})(window.kendo.jQuery);;(function(e,t){function a(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return a(e,n),e.filters?e.filters.length:e.field!=n}))}var n=window.kendo,i=n.ui,r=i.Widget,o=n.keys,l=n.htmlEncode,s="id",u="li",c="change",d="character",f="k-state-focused",p="k-state-hover",_="k-loading",h="open",v="close",g="select",m="progress",b="requestEnd",x="width",S=e.extend,y=e.proxy,w=n.support.browser,F=w.msie&&9>parseInt(w.version,10),I=/"/g,k=r.extend({init:function(t,a){var i,o=this,l=o.ns;r.fn.init.call(o,t,a),t=o.element,o._template(),o.ul=e('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:n.support.kineticScrollNeeded?"":"auto"}).on("mouseenter"+l,u,function(){e(this).addClass(p)}).on("mouseleave"+l,u,function(){e(this).removeClass(p)}).on("touchend"+l+" click"+l,u,y(o._click,o)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),o.list=e("<div class='k-list-container'/>").append(o.ul).on("mousedown"+l,function(e){e.preventDefault()}),i=t.attr(s),i&&(o.list.attr(s,i+"-list"),o.ul.attr(s,i+"_listbox"),o._optionID=i+"_option_selected")},items:function(){return this.ul[0].children},current:function(e){var a=this,n=a._optionID;return e===t?a._current:(a._current&&(a._current.removeClass(f).removeAttr("aria-selected").removeAttr(s),a._focused.removeAttr("aria-activedescendant")),e&&(e.addClass(f),a._scroll(e),n&&(e.attr("id",n),a._focused.attr("aria-activedescendant",n))),a._current=e,t)},destroy:function(){var e=this,t=e.ns;r.fn.destroy.call(e),e._unbindDataSource(),e.ul.off(t),e.list.off(t),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(e){var a=this;return e===t&&(e=a.selectedIndex),a._data()[e]},_accessors:function(){var e=this,t=e.element,a=e.options,i=n.getter,r=t.attr(n.attr("text-field")),o=t.attr(n.attr("value-field"));r&&(a.dataTextField=r),o&&(a.dataValueField=o),e._text=i(a.dataTextField),e._value=i(a.dataValueField)},_aria:function(){var e=this,a=e.options,n=e._focused;a.suggest!==t&&n.attr("aria-autocomplete",a.suggest?"both":"list"),e.element[0].id&&n.attr("aria-owns",e.ul[0].id),e.ul.attr("aria-live",a.filter&&"none"!==a.filter?"polite":"off")},_blur:function(){var e=this;e._change(),e.close()},_change:function(){var e,a=this,n=a.selectedIndex,i=a.value();i!==a._old?e=!0:n!==t&&n!==a._oldIndex&&(e=!0),e&&(a._old=i,a._oldIndex=n,a.trigger(c),a.element.trigger(c))},_click:function(t){t.isDefaultPrevented()||(this._accept(e(t.currentTarget)),"touchend"===t.type&&t.preventDefault())},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,t=e.options;e.element.prop("disabled")&&(t.enable=!1),e.enable(t.enable)},_focus:function(e){var a=this;return a.popup.visible()&&e&&a.trigger(g,{item:e})?(a.close(),t):(a._select(e),a._triggerCascade(),a._blur(),t)},_height:function(e){if(e){var t=this,a=t.list,n=t.popup.visible(),i=t.options.height;a=a.add(a.parent(".k-animation-container")).show().height(t.ul[0].scrollHeight>i?i:"auto"),n||a.hide()}},_adjustListWidth:function(){var e,t,a=this.list,n=a[0].style.width,i=this.wrapper;if(a.data(x)||!n)return e=window.getComputedStyle?window.getComputedStyle(i[0],null):0,t=e?parseFloat(e.width):i.outerWidth(),e&&(w.mozilla||w.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n=t-(a.outerWidth()-a.width()),a.css({fontFamily:i.css("font-family"),width:n}).data(x,n),!0},_popup:function(){var e=this,t=e.list,a=e._focused,r=e.options,o=e.wrapper;e.popup=new i.Popup(t,S({},r.popup,{anchor:o,open:function(t){e._adjustListWidth(),e.trigger(h)?t.preventDefault():(a.attr("aria-expanded",!0),e.ul.attr("aria-hidden",!1))},close:function(t){e.trigger(v)?t.preventDefault():(a.attr("aria-expanded",!1),e.ul.attr("aria-hidden",!0))},animation:r.animation,isRtl:n.support.isRtl(o)})),e._touchScroller=n.touchScroller(e.popup.element)},_makeUnselectable:function(){F&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(p,"mouseenter"===t.type)},_toggle:function(e){var a=this;e=e!==t?e:!a.popup.visible(),n.support.mobileOS||a._focused[0]===document.activeElement||a._focused.focus(),a[e?h:v]()},_scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.ul[0],a=e.offsetTop,n=e.offsetHeight,i=t.scrollTop,r=t.clientHeight,o=a+n;t.scrollTop=i>a?a:o>i+r?o-r:i}},_template:function(){var e=this,t=e.options,a=t.template,i=t.dataSource;e.element.is(g)&&e.element[0].length&&(i||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),a?(a=n.template(a),e.template=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+a(e)+"</li>"}):e.template=n.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${data'+(t.dataTextField?".":"")+t.dataTextField+"}</li>",{useWithBlock:!1})},_triggerCascade:function(){this._old!==this.value()&&this.trigger("cascade")},_unbindDataSource:function(){var e=this;e.dataSource.unbind(c,e._refreshHandler).unbind(m,e._progressHandler).unbind(b,e._requestEndHandler)}});S(k,{caret:function(e){var t,a=e.ownerDocument.selection;return t=a?Math.abs(a.createRange().moveStart(d,-e.value.length)):e.selectionStart},selectText:function(e,t,a){try{if(e.createTextRange){e.focus();var n=e.createTextRange();n.collapse(!0),n.moveStart(d,t),n.moveEnd(d,a-t),n.select()}else e.setSelectionRange(t,a)}catch(i){}},inArray:function(e,t){var a,n,i=t.children;if(!e||e.parentNode!==t)return-1;for(a=0,n=i.length;n>a;a++)if(e===i[a])return a;return-1}}),n.ui.List=k,i.Select=k.extend({init:function(e,t){k.fn.init.call(this,e,t)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(e){var a=this;return e===t?a.selectedIndex:(a._select(e),a._triggerCascade(),a._old=a._accessor(),a._oldIndex=a.selectedIndex,t)},_accessor:function(e,a){var n,i,r=this.element,o=r.is(g);return r=r[0],e===t?(o?(i=r.selectedIndex,i>-1&&(n=r.options[i],n&&(e=n.value))):e=r.value,e):(o?r.selectedIndex=a:r.value=e,t)},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(_),e._focused.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(function(){e._focused.attr("aria-busy",!0),e._arrow.addClass(_)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var t,a=this,i=a.element,r=a.options,o=r.dataSource||{};o=e.isArray(o)?{data:o}:o,i.is(g)&&(t=i[0].selectedIndex,t>-1&&(r.index=t),o.select=i,o.fields=[{field:r.dataTextField},{field:r.dataValueField}]),a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=y(a.refresh,a),a._progressHandler=y(a._showBusy,a),a._requestEndHandler=y(a._requestEnd,a)),a.dataSource=n.data.DataSource.create(o).bind(c,a._refreshHandler).bind(m,a._progressHandler).bind(b,a._requestEndHandler)},_index:function(e){var a,n,i,r=this,o=r._data();for(a=0,n=o.length;n>a;a++)if(i=r._value(o[a]),i===t&&(i=r._text(o[a])),i==e)return a;return-1},_get:function(t){var a,n,i=this,r=i._data();if("function"==typeof t)for(a=0,n=r.length;n>a;a++)if(t(r[a])){t=a;break}if("number"==typeof t){if(0>t)return e();t=e(i.ul[0].children[t])}return t&&t.nodeType&&(t=e(t)),t},_move:function(e){var t,a=this,n=e.keyCode,i=a.ul[0],r=a._current,l=n===o.DOWN;return n===o.UP||l?(e.altKey?a.toggle(l):l?(r=!r||-1===a.selectedIndex&&!a.value()?i.firstChild:r[0].nextSibling,a._select(r)):a._select(r?r[0].previousSibling:i.lastChild),e.preventDefault(),t=!0):n===o.ENTER||n===o.TAB?(a.popup.visible()&&e.preventDefault(),a._accept(r),t=!0):n===o.ESC&&(a.popup.visible()&&e.preventDefault(),a.close(),t=!0),t},_selectItem:function(e){var t=this,a=t.options;e=t._selectedValue||a.value||t._accessor(),e?t.value(e):t.select(a.index)},_fetchItems:function(e){var a=this,n=a.ul[0].firstChild;return a._request?!0:a._fetch||n?t:a.options.cascadeFrom?!n:(a.dataSource.one(c,function(){a.value(e),a._fetch=!1}),a._fetch=!0,a.dataSource.fetch(),!0)},_options:function(e,a){var n,i,r,o,s=this,u=s.element,c=u[0].selectedIndex,d=e.length,f="",p=0;for(a&&(f=a,p=1);d>p;p++)n="<option",i=e[p],r=s._text(i),o=s._value(i),o!==t&&(o+="",-1!==o.indexOf('"')&&(o=o.replace(I,"&quot;")),n+=' value="'+o+'"'),n+=">",r!==t&&(n+=l(r)),n+="</option>",f+=n;u.html(f),u[0].selectedIndex=c},_reset:function(){var e=this,t=e.element,a=t.closest("form");a[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(t[0].value)})},e._form=a.on("reset",e._resetHandler))},_cascade:function(){var t,n,i,r,o=this,l=o.options,s=l.cascadeFrom;if(s){if(t=e("#"+s).data("kendo"+l.name),!t)return;i=t.options.dataValueField,r=function(){var e=o._selectedValue||o.value();e?(o.value(e),o.dataSource.view()[0]&&-1!==o.selectedIndex||o._clearSelection(t,!0)):o.select(l.index),o.enable()},n=function(){var e,n,l=t.dataItem(),s=l?t._value(l):null;s?(e=o.dataSource.filter()||{},a(e,i),n=e.filters||[],n.push({field:i,operator:"eq",value:s}),o.dataSource.one(c,r).filter(n)):(o.enable(!1),o._clearSelection(t)),o._triggerCascade()},t.bind("cascade",function(){n()}),t._bound?n():t.value()||o.enable(!1)}}}),i.Select.removeFiltersForField=a})(window.kendo.jQuery);;(function(e,t){function a(e,t,a){return a?t.substring(0,e).split(a).length-1:0}function s(e,t,s){return t.split(s)[a(e,t,s)]}function r(e,t,s,r){var o=t.split(r);return o.splice(a(e,t,r),1,s),r&&""!==o[o.length-1]&&o.push(""),o.join(r)}function o(e){var t=e.value.length;b(e,t,t)}var n=window.kendo,l=n.support,i=l.placeholder,c=n.ui,p=n.keys,u=n.data.DataSource,d=c.List,h="aria-disabled",_="k-state-default",f="disabled",g="k-state-focused",v="k-state-selected",m="k-state-disabled",C="k-state-hover",y=".kendoAutoComplete",w="mouseenter"+y+" mouseleave"+y,k=d.caret,b=d.selectText,x=e.proxy,S=d.extend({init:function(t,a){var s,r=this;r.ns=y,a=e.isArray(a)?{dataSource:a}:a,d.fn.init.call(r,t,a),t=r.element,a=r.options,a.placeholder=a.placeholder||t.attr("placeholder"),i&&t.attr("placeholder",a.placeholder),r._wrapper(),r._accessors(),r._dataSource(),t[0].type="text",s=r.wrapper,r._popup(),t.addClass("k-input").on("keydown"+y,x(r._keydown,r)).on("paste"+y,x(r._search,r)).on("focus"+y,function(){r._prev=r._accessor(),r._placeholder(!1),s.addClass(g)}).on("blur"+y,function(){r._change(),r._placeholder(),s.removeClass(g)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),r._enable(),r._popup(),r._old=r._accessor(),t[0].id&&t.attr("aria-owns",r.ul[0].id),r._aria(),r._placeholder(),n.notify(r)},options:{name:"AutoComplete",enable:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():e._refreshHandler=x(e.refresh,e),e.dataSource=u.create(e.options.dataSource).bind("change",e._refreshHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(e){d.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},enable:function(e){var t=this,a=t.element,s=t.wrapper.off(w);e===!1?(s.removeClass(_).addClass(m),a.attr(f,f).attr(h,!0)):(s.removeClass(m).addClass(_).on(w,t._toggleHover),a.removeAttr(f).attr(h,!1))},close:function(){var e=this;e.current(null),e.popup.close()},destroy:function(){var e=this;e.element.off(y),e.wrapper.off(y),d.fn.destroy.call(e)},refresh:function(){var a,s=this,r=s.ul[0],o=s.popup,l=s.options,i=s._data(),c=i.length;s.trigger("dataBinding"),r.innerHTML=n.render(s.template,i),s._height(c),o.visible()&&o._position(),c&&(l.highlightFirst&&s.current(e(r.firstChild)),l.suggest&&s.suggest(e(r.firstChild))),s._open&&(s._open=!1,a=c?"open":"close",s._typing&&s.element[0]!==document.activeElement&&(a="close"),o[a](),s._typing=t),s._touchScroller&&s._touchScroller.reset(),s._makeUnselectable(),s.trigger("dataBound")},select:function(e){this._select(e)},search:function(e){var t,a=this,r=a.options,o=r.ignoreCase,n=r.separator;e=e||a._accessor(),a._current=null,clearTimeout(a._typing),n&&(e=s(k(a.element[0]),e,n)),t=e.length,t?t>=a.options.minLength&&(a._open=!0,a.dataSource.filter({value:o?e.toLowerCase():e,operator:r.filter,field:r.dataTextField,ignoreCase:o})):a.popup.close()},suggest:function(e){var s,r=this,o=r._last,n=r._accessor(),l=r.element[0],i=k(l),c=r.options.separator,u=n.split(c),h=a(i,n,c),_=i;return o==p.BACKSPACE||o==p.DELETE?(r._last=t,t):(e=e||"","string"!=typeof e&&(s=d.inArray(e[0],r.ul[0]),e=s>-1?r._text(r._data()[s]):""),0>=i&&(i=n.toLowerCase().indexOf(e.toLowerCase())+1),s=n.substring(0,i).lastIndexOf(c),s=s>-1?i-(s+c.length):i,n=u[h].substring(0,s),e&&(s=e.toLowerCase().indexOf(n.toLowerCase()),s>-1&&(e=e.substring(s+n.length),_=i+e.length,n+=e),c&&""!==u[u.length-1]&&u.push("")),u[h]=n,r._accessor(u.join(c||"")),b(l,i,_),t)},value:function(e){return e===t?this._accessor():(this._accessor(e),this._old=e,t)},_accessor:function(e){var a=this,s=a.element[0];return e===t?(e=s.value,s.className.indexOf("k-readonly")>-1?e===a.options.placeholder?"":e:e):(s.value=null===e?"":e,a._placeholder(),t)},_accept:function(e){var t=this;t._focus(e),o(t.element[0])},_keydown:function(t){var a=this,s=a.ul[0],r=t.keyCode,o=a._current,n=a.popup.visible();a._last=r,r===p.DOWN?(n&&a._move(o?o.next():e(s.firstChild)),t.preventDefault()):r===p.UP?(n&&a._move(o?o.prev():e(s.lastChild)),t.preventDefault()):r===p.ENTER||r===p.TAB?(r===p.ENTER&&a.popup.visible()&&t.preventDefault(),a._accept(o)):r===p.ESC?(a.popup.visible()&&t.preventDefault(),a.close()):a._search()},_move:function(e){var t=this;e=e[0]?e:null,t.current(e),t.options.suggest&&t.suggest(e)},_placeholder:function(e){if(!i){var a,s=this,r=s.element,o=s.options.placeholder;if(o){if(a=r.val(),e===t&&(e=!a),e||(o=a!==o?a:""),a===s._old&&!e)return;r.toggleClass("k-readonly",e).val(o)}}},_search:function(){var e=this;clearTimeout(e._typing),e._typing=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_select:function(t){var a,s,o=this,n=o.options.separator,l=o._data();t=e(t),t[0]&&!t.hasClass(v)&&(s=d.inArray(t[0],o.ul[0]),s>-1&&(l=l[s],a=o._text(l),n&&(a=r(k(o.element[0]),o._accessor(),a,n)),o._accessor(a),o.current(t.addClass(v))))},_toggleHover:function(t){e(t.currentTarget).toggleClass(C,"mouseenter"===t.type)},_wrapper:function(){var e,t=this,a=t.element,s=a[0];e=a.parent(),e.is("span.k-widget")||(e=a.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=s.style.cssText,a.css({width:"100%",height:s.style.height}),t._focused=t.element,t.wrapper=e.addClass("k-widget k-autocomplete k-header").addClass(s.className)}});c.plugin(S)})(window.kendo.jQuery);;(function(t,e){function n(t){for(var e,n=0,a=t.min,r=t.max,o=t.start,s=t.setter,l=t.build,u=t.cells||12,c=t.perRow||4,f=t.content||Y,d=t.empty||C,g=t.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';u>n;n++)n>0&&0===n%c&&(g+='</tr><tr role="row">'),e=l(o,n),g+=i(o,a,r)?f(e):d(e),s(o,1);return g+"</tr></tbody></table>"}function a(t,e,n){var a=t.getFullYear(),r=e.getFullYear(),i=r,o=0;return n&&(r-=r%n,i=r-r%n+n-1),a>i?o=1:r>a&&(o=-1),o}function r(t,e,n){var a=new ue;return a=new ue(a.getFullYear(),a.getMonth(),a.getDate()),t&&(a=new ue(+t)),e>a?a=new ue(+e):a>n&&(a=new ue(+n)),a}function i(t,e,n){return+t>=+e&&+n>=+t}function o(t,e){return t.slice(e).concat(t.slice(0,e))}function s(t,e,n){e=e instanceof ue?e.getFullYear():t.getFullYear()+n*e,t.setFullYear(e)}function l(e){-1===e.type.indexOf("touch")&&e.stopImmediatePropagation(),t(this).toggleClass(U,Z.indexOf(e.type)>-1||e.type==J)}function u(t){t.preventDefault()}function c(t){return b(t).calendars.standard}function f(t){var n=ce[t.start],a=ce[t.depth],r=b(t.culture);t.format=D(t.format||r.calendars.standard.patterns.d),isNaN(n)&&(n=0,t.start=E),(a===e||a>n)&&(t.depth=E),t.dates||(t.dates=[])}function d(t){T&&t.find("*").attr("unselectable","on")}function g(t,e){for(var n=0,a=e.length;a>n;n++)if(t===+e[n])return!0;return!1}function v(t,e){return t?t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate():!1}var h=window.kendo,m=h.ui,_=m.Widget,p=h.parseDate,w=h._adjustDate,k=h.keys,D=h._extractFormat,F=h.template,b=h.getCulture,y=h.support.transitions,x=y?y.css+"transform-origin":"",Y=F('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),C=F('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),M=h.support.browser,T=M.msie&&(9>parseInt(M.version,10)||document.documentMode&&9>document.documentMode),S=".kendoCalendar",O="touchend"+S+" click"+S,V="keydown"+S,A="id",P="min",N="left",z="slideIn",E="month",H="century",I="change",W="navigate",B="value",U="k-state-hover",R="k-state-disabled",q="k-state-focused",G="k-other-month",j=' class="'+G+'"',L="k-nav-today",K="td:has(.k-link)",Q="blur"+S,J="focus",X=J+S,Z="touchstart mouseenter",$="touchstart"+S+" mouseenter"+S,te="touchend"+S+" mouseleave"+S,ee=6e4,ne=864e5,ae="_prevArrow",re="_nextArrow",ie="aria-disabled",oe="aria-selected",se=t.proxy,le=t.extend,ue=Date,ce={month:0,year:1,decade:2,century:3},fe=_.extend({init:function(e,n){var a,i,o=this;_.fn.init.call(o,e,n),e=o.wrapper=o.element,n=o.options,n.url=window.unescape(n.url),o._templates(),o._header(),o._footer(o.footer),i=e.addClass("k-widget k-calendar").on($+" "+te,K,l).on(V,"table.k-content",se(o._move,o)).on(O,K,function(e){var n=e.currentTarget.firstChild;-1!=n.href.indexOf("#")&&e.preventDefault(),o._click(t(n))}).on("mouseup"+S,function(){o._focusView(o.options.focusOnNav!==!1)}).attr(A),i&&(o._cellID=i+"_cell_selected"),a=n.value,f(n),o._index=ce[n.start],o._current=new ue(+r(a,n.min,n.max)),o._addClassProxy=function(){o._active=!0,o._cell.addClass(q)},o._removeClassProxy=function(){o._active=!1,o._cell.removeClass(q)},o.value(a),h.notify(o)},options:{name:"Calendar",value:null,min:new ue(1900,0,1),max:new ue(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:E,depth:E,animation:{horizontal:{effects:z,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[I,W],setOptions:function(t){f(t),_.fn.setOptions.call(this,t)},destroy:function(){var t=this,e=t._today.off(S);t.element.off(S),t._title.off(S),t[ae].off(S),t[re].off(S),h.destroy(e),h.destroy(t._view),_.fn.destroy.call(t)},current:function(){return this._current},view:function(){return this._view},focus:function(t){t=t||this._table,this._bindTable(t),t.focus()},min:function(t){return this._option(P,t)},max:function(t){return this._option("max",t)},navigateToPast:function(){this._navigate(ae,-1)},navigateToFuture:function(){this._navigate(re,1)},navigateUp:function(){var t=this,e=t._index;t._title.hasClass(R)||t.navigate(t._current,++e)},navigateDown:function(t){var n=this,a=n._index,r=n.options.depth;if(t)return a===ce[r]?(+n._value!=+t&&(n.value(t),n.trigger(I)),e):(n.navigate(t,--a),e)},navigate:function(n,a){a=isNaN(a)?ce[a]:a;var i,o,s,l,u=this,c=u.options,f=c.culture,g=c.min,v=c.max,h=u._title,m=u._table,_=u._oldTable,p=u._value,w=u._current,k=n&&+n>+w,D=a!==e&&a!==u._index;n?u._current=n=new ue(+r(n,g,v)):n=w,a===e?a=u._index:u._index=a,u._view=o=de.views[a],s=o.compare,l=a===ce[H],h.toggleClass(R,l).attr(ie,l),l=1>s(n,g),u[ae].toggleClass(R,l).attr(ie,l),l=s(n,v)>-1,u[re].toggleClass(R,l).attr(ie,l),m&&_&&_.data("animating")&&(_.kendoStop(!0,!0),m.kendoStop(!0,!0)),u._oldTable=m,(!m||u._changeView)&&(h.html(o.title(n,f)),u._table=i=t(o.content(le({min:g,max:v,date:n,url:c.url,dates:c.dates,format:c.format,culture:f},u[o.name]))),d(i),u._animate({from:m,to:i,vertical:D,future:k}),u._focus(n),u.trigger(W)),a===ce[c.depth]&&p&&u._class("k-state-selected",o.toDateString(p)),u._class(q,o.toDateString(n)),!m&&u._cell&&u._cell.removeClass(q),u._changeView=!0},value:function(t){var n=this,a=n._view,r=n.options,o=r.min,s=r.max;return t===e?n._value:(t=p(t,r.format,r.culture),null!==t&&(t=new ue(+t),i(t,o,s)||(t=null)),n._value=t,n._changeView=!t||a&&0!==a.compare(t,n._current),n.navigate(t),e)},_move:function(e){var n,a,i,o,s=this,l=s.options,u=e.keyCode,c=s._view,f=s._index,d=new ue(+s._current);return e.target===s._table[0]&&(s._active=!0),e.ctrlKey?u==k.RIGHT?(s.navigateToFuture(),a=!0):u==k.LEFT?(s.navigateToPast(),a=!0):u==k.UP?(s.navigateUp(),a=!0):u==k.DOWN&&(s._click(t(s._cell[0].firstChild)),a=!0):(u==k.RIGHT?(n=1,a=!0):u==k.LEFT?(n=-1,a=!0):u==k.UP?(n=0===f?-7:-4,a=!0):u==k.DOWN?(n=0===f?7:4,a=!0):u==k.ENTER?(s._click(t(s._cell[0].firstChild)),a=!0):u==k.HOME||u==k.END?(i=u==k.HOME?"first":"last",o=c[i](d),d=new ue(o.getFullYear(),o.getMonth(),o.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()),a=!0):u==k.PAGEUP?(a=!0,s.navigateToPast()):u==k.PAGEDOWN&&(a=!0,s.navigateToFuture()),(n||i)&&(i||c.setDate(d,n),s._focus(r(d,l.min,l.max)))),a&&e.preventDefault(),s._current},_animate:function(t){var e=this,n=t.from,a=t.to,r=e._active;n?n.parent().data("animating")?(n.parent().kendoStop(!0,!0).remove(),n.remove(),a.insertAfter(e.element[0].firstChild),e._focusView(r)):n.is(":visible")&&e.options.animation!==!1?e[t.vertical?"_vertical":"_horizontal"](n,a,t.future):(a.insertAfter(n),n.remove(),e._focusView(r)):(a.insertAfter(e.element[0].firstChild),e._bindTable(a))},_horizontal:function(t,n,a){var r=this,i=r._active,o=r.options.animation.horizontal,s=o.effects,l=t.outerWidth();s&&-1!=s.indexOf(z)&&(t.add(n).css({width:l}),t.wrap("<div/>"),r._focusView(i,t),t.parent().css({position:"relative",width:2*l,"float":N,"margin-left":a?0:-l}),n[a?"insertAfter":"insertBefore"](t),le(o,{effects:z+":"+(a?"right":N),complete:function(){t.remove(),n.unwrap(),r._focusView(i),r._oldTable=e}}),t.parent().kendoStop(!0,!0).kendoAnimate(o))},_vertical:function(t,n){var a,r,i=this,o=i.options.animation.vertical,s=o.effects,l=i._active;s&&-1!=s.indexOf("zoom")&&(n.css({position:"absolute",top:t.prev().outerHeight(),left:0}).insertBefore(t),x&&(a=i._cellByDate(i._view.toDateString(i._current)),r=a.position(),r=r.left+parseInt(a.width()/2,10)+"px"+" "+(r.top+parseInt(a.height()/2,10)+"px"),n.css(x,r)),t.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){t.remove(),n.css({position:"static",top:0,left:0}),i._focusView(l),i._oldTable=e}}),n.kendoStop(!0,!0).kendoAnimate(o))},_cellByDate:function(e){return this._table.find("td:not(."+G+")").filter(function(){return t(this.firstChild).attr(h.attr(B))===e})},_class:function(e,n){var a=this,r=a._cellID,i=a._cell;i&&i.removeAttr(oe).removeAttr(A),i=a._table.find("td:not(."+G+")").removeClass(e).filter(function(){return t(this.firstChild).attr(h.attr(B))===n}).attr(oe,!0),e!==q||a._active||a.options.focusOnNav===!1||(e=""),i.addClass(e),i[0]&&(a._cell=i),r&&(i.attr(A,r),a._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",r))},_bindTable:function(t){t.on(X,this._addClassProxy).on(Q,this._removeClassProxy)},_click:function(t){var e=this,n=e.options,a=new Date(+e._current),i=t.attr(h.attr(B)).split("/");i=new ue(i[0],i[1],i[2]),w(i),e._view.setDate(a,i),e.navigateDown(r(a,n.min,n.max))},_focus:function(t){var e=this,n=e._view;0!==n.compare(t,e._current)?e.navigate(t):(e._current=t,e._class(q,n.toDateString(t)))},_focusView:function(t,e){t&&this.focus(e)},_footer:function(n){var a=this,r=a.element,i=new ue,o=r.find(".k-footer");return n?(o[0]||(o=t('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(r)),a._today=o.show().find(".k-link").html(n(i)).attr("title",h.toString(i,"D",a.options.culture)),a._toggle(),e):(a._toggle(!1),o.hide(),e)},_header:function(){var t,e=this,n=e.element,a=e.options.focusOnNav!==!1;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),t=n.find(".k-link").on($+" "+te+" "+X+" "+Q,l).click(!1),e._title=t.eq(1).on(O,function(){e._focusView(a),e.navigateUp()}),e[ae]=t.eq(0).on(O,function(){e._focusView(a),e.navigateToPast()}),e[re]=t.eq(2).on(O,function(){e._focusView(a),e.navigateToFuture()})},_navigate:function(t,e){var n=this,a=n._index+1,r=new ue(+n._current);t=n[t],t.hasClass(R)||(a>3?r.setFullYear(r.getFullYear()+100*e):de.views[a].setDate(r,e),n.navigate(r))},_option:function(t,n){var a,r,i=this,o=i.options,s=+i._value,l=re;return n===e?o[t]:(n=p(n,o.format,o.culture),n&&(o[t]=new ue(+n),r=i._view.compare(n,i._current),t===P?(a=+n>s,r=r>-1,l=ae):(a=s>+n,r=1>r),a?i.value(null):r?i.navigate():i[l].toggleClass(R,!1).attr(ie,!1),i._toggle()),e)},_toggle:function(t){var n=this,a=n.options,r=n._today;t===e&&(t=i(new ue,a.min,a.max)),r&&(r.off(O),t?r.addClass(L).removeClass(R).on(O,se(n._todayClick,n)):r.removeClass(L).addClass(R).on(O,u))},_todayClick:function(t){var e=this,n=ce[e.options.depth],a=new ue;t.preventDefault(),0===e._view.compare(e._current,a)&&e._index==n&&(e._changeView=!1),e._value=a,e.navigate(a,n),e.trigger(I)},_templates:function(){var t=this,e=t.options,n=e.footer,a=e.month,r=a.content,i=a.empty;t.month={content:F('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+h.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(r||"#=data.value#")+"</a></td>",{useWithBlock:!!r}),empty:F('<td role="gridcell">'+(i||"&nbsp;")+"</td>",{useWithBlock:!!i})},n!==!1&&(t.footer=F(n||'#= kendo.toString(data,"D","'+e.culture+'") #',{useWithBlock:!1}))}});m.plugin(fe);var de={firstDayOfMonth:function(t){return new ue(t.getFullYear(),t.getMonth(),1)},firstVisibleDay:function(t,e){e=e||h.culture().calendar;for(var n=e.firstDay,a=new ue(t.getFullYear(),t.getMonth(),0,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());a.getDay()!=n;)de.setTime(a,-1*ne);return a},setTime:function(t,e){var n=t.getTimezoneOffset(),a=new ue(t.getTime()+e),r=a.getTimezoneOffset()-n;t.setTime(a.getTime()+r*ee)},views:[{name:E,title:function(t,e){return c(e).months.names[t.getMonth()]+" "+t.getFullYear()},content:function(t){for(var e=this,a=0,r=t.min,i=t.max,s=t.date,l=t.dates,u=t.format,f=t.culture,d=t.url,v=d&&l[0],m=c(f),_=m.firstDay,p=m.days,k=o(p.names,_),D=o(p.namesShort,_),F=de.firstVisibleDay(s,m),b=e.first(s),y=e.last(s),x=e.toDateString,Y=new ue,C='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>a;a++)C+='<th scope="col" title="'+k[a]+'">'+D[a]+"</th>";return Y=new ue(Y.getFullYear(),Y.getMonth(),Y.getDate()),w(Y),Y=+Y,n({cells:42,perRow:7,html:C+='</tr></thead><tbody><tr role="row">',start:new ue(F.getFullYear(),F.getMonth(),F.getDate()),min:new ue(r.getFullYear(),r.getMonth(),r.getDate()),max:new ue(i.getFullYear(),i.getMonth(),i.getDate()),content:t.content,empty:t.empty,setter:e.setDate,build:function(t){var e=[],n=t.getDay(),a="",r="#";return(b>t||t>y)&&e.push(G),+t===Y&&e.push("k-today"),(0===n||6===n)&&e.push("k-weekend"),v&&g(+t,l)&&(r=d.replace("{0}",h.toString(t,u,f)),a=" k-action-link"),{date:t,dates:l,ns:h.ns,title:h.toString(t,"D",f),value:t.getDate(),dateString:x(t),cssClass:e[0]?' class="'+e.join(" ")+'"':"",linkClass:a,url:r}}})},first:function(t){return de.firstDayOfMonth(t)},last:function(t){var e=new ue(t.getFullYear(),t.getMonth()+1,0),n=de.firstDayOfMonth(t),a=Math.abs(e.getTimezoneOffset()-n.getTimezoneOffset());return a&&e.setHours(n.getHours()+a/60),e},compare:function(t,e){var n,a=t.getMonth(),r=t.getFullYear(),i=e.getMonth(),o=e.getFullYear();return n=r>o?1:o>r?-1:a==i?0:a>i?1:-1},setDate:function(t,e){var n=t.getHours();e instanceof ue?t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()):de.setTime(t,e*ne),w(t,n)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/"+t.getDate()}},{name:"year",title:function(t){return t.getFullYear()},content:function(t){var e=c(t.culture).months.namesAbbr,a=this.toDateString,r=t.min,i=t.max;return n({min:new ue(r.getFullYear(),r.getMonth(),1),max:new ue(i.getFullYear(),i.getMonth(),1),start:new ue(t.date.getFullYear(),0,1),setter:this.setDate,build:function(t){return{value:e[t.getMonth()],ns:h.ns,dateString:a(t),cssClass:""}}})},first:function(t){return new ue(t.getFullYear(),0,t.getDate())},last:function(t){return new ue(t.getFullYear(),11,t.getDate())},compare:function(t,e){return a(t,e)},setDate:function(t,e){var n,a=t.getHours();e instanceof ue?(n=e.getMonth(),t.setFullYear(e.getFullYear(),n,t.getDate()),n!==t.getMonth()&&t.setDate(0)):(n=t.getMonth()+e,t.setMonth(n),n>11&&(n-=12),n>0&&t.getMonth()!=n&&t.setDate(0)),w(t,a)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/1"}},{name:"decade",title:function(t){var e=t.getFullYear();return e-=e%10,e+"-"+(e+9)},content:function(t){var e=t.date.getFullYear(),a=this.toDateString;return n({start:new ue(e-e%10-1,0,1),min:new ue(t.min.getFullYear(),0,1),max:new ue(t.max.getFullYear(),0,1),setter:this.setDate,build:function(t,e){return{value:t.getFullYear(),ns:h.ns,dateString:a(t),cssClass:0===e||11==e?j:""}}})},first:function(t){var e=t.getFullYear();return new ue(e-e%10,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return new ue(e-e%10+9,t.getMonth(),t.getDate())},compare:function(t,e){return a(t,e,10)},setDate:function(t,e){s(t,e,1)},toDateString:function(t){return t.getFullYear()+"/0/1"}},{name:H,title:function(t){var e=t.getFullYear();return e-=e%100,e+"-"+(e+99)},content:function(t){var e=t.date.getFullYear(),a=t.min.getFullYear(),r=t.max.getFullYear(),i=this.toDateString;return a-=a%10,r-=r%10,10>r-a&&(r=a+9),n({start:new ue(e-e%100-10,0,1),min:new ue(a,0,1),max:new ue(r,0,1),setter:this.setDate,build:function(t,e){var n=t.getFullYear();return{value:n+" - "+(n+9),ns:h.ns,dateString:i(t),cssClass:0===e||11==e?j:""}}})},first:function(t){var e=t.getFullYear();return new ue(e-e%100,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return new ue(e-e%100+99,t.getMonth(),t.getDate())},compare:function(t,e){return a(t,e,100)},setDate:function(t,e){s(t,e,10)},toDateString:function(t){var e=t.getFullYear();return e-e%10+"/0/1"}}]};de.isEqualDatePart=v,de.makeUnselectable=d,de.restrictValue=r,de.isInRange=i,de.normalize=f,de.viewsEnum=ce,h.calendar=de})(window.kendo.jQuery);;(function(e,t){function a(t){var a=t.parseFormats;F.normalize(t),a=e.isArray(a)?a:[a],a.splice(0,0,t.format),t.parseFormats=a}function n(e){e.preventDefault()}var o=window.kendo,r=o.ui,i=r.Widget,s=o.parseDate,l=o.keys,u=o.template,d="<div />",c="<span />",p=".kendoDatePicker",f="touchend"+p+" click"+p,m="open",v="close",h="change",_="dateView",k="disabled",w="k-state-default",g="k-state-focused",y="k-state-selected",b="k-state-disabled",C="k-state-hover",V="keydown"+p,x="mouseenter"+p+" mouseleave"+p,D="touchstart"+p+" mousedown"+p,T="id",A="min",I="max",W="month",R="aria-disabled",E="aria-expanded",N="aria-hidden",F=o.calendar,O=F.isInRange,P=F.restrictValue,S=F.isEqualDatePart,H=e.extend,B=e.proxy,z=Date,K=function(t){var a,n=this,i=document.body,s=U.sharedCalendar,l=e(d).attr(N,"true").addClass("k-calendar-container").appendTo(i);s||(s=U.sharedCalendar=new r.Calendar(e(d).attr(T,o.guid()).hide().appendTo(i),{focusOnNav:!1}),F.makeUnselectable(s.element)),n.calendar=s,n.options=t=t||{},a=t.id,a&&(a+="_dateview",l.attr(T,a),n._dateViewID=a),n.popup=new r.Popup(l,H(t.popup,t,{name:"Popup",isRtl:o.support.isRtl(t.anchor)})),n.div=l,n._templates(),n.value(t.value)};K.prototype={_calendar:function(){var e=this,t=e.popup,a=e.options,o=e.calendar,r=o.element;r.data(_)!==e&&(r.appendTo(t.element).data(_,e).off(f+" "+V).on(f,"td:has(.k-link)",B(e._click,e)).on(D,n).show(),o.unbind(h).bind(h,a),o.month=e.month,o.options.dates=a.dates,o.options.depth=a.depth,o.options.culture=a.culture,o._footer(e.footer),o.min(a.min),o.max(a.max),o.navigate(e._value,a.start),e.value(e._value))},destroy:function(){var a,n=this,o=n.calendar,r=o.element,i=r.data(_);(i===t||i===n)&&(a=e(".k-calendar-container"),a.length>1?r.hide().appendTo(document.body):(r.off(p),o.destroy(),U.sharedCalendar=null)),n.popup.destroy()},open:function(){var e=this;e._calendar(),e.popup.open()},close:function(){this.popup.close()},min:function(e){this._option(A,e)},max:function(e){this._option(I,e)},toggle:function(){var e=this;e[e.popup.visible()?v:m]()},move:function(e){var a=this,n=e.keyCode,o=a.calendar,r=e.ctrlKey&&n==l.DOWN||n==l.ENTER;if(n==l.ESC)return a.close(),t;if(e.altKey)return n==l.DOWN?(a.open(),e.preventDefault()):n==l.UP&&(a.close(),e.preventDefault()),t;if(a.popup.visible())return r&&o._cell.hasClass(y)?(a.close(),e.preventDefault(),t):(a._current=o._move(e),t)},value:function(e){var t=this,a=t.calendar,n=t.options;t._value=e,t._current=new z(+P(e,n.min,n.max)),a.element.data(_)===t&&a.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf(y)&&this.close()},_option:function(e,t){var a=this,n=a.options,o=a.calendar;n[e]=t,o.element.data(_)===a&&o[e](t)},_templates:function(){var e=this,t=e.options,a=t.footer,n=t.month||{},r=n.content,i=n.empty;e.month={content:u('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+o.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(r||"#=data.value#")+"</a></td>",{useWithBlock:!!r}),empty:u("<td>"+(i||"&nbsp;")+"</td>",{useWithBlock:!!i})},a!==!1&&(e.footer=u(a||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}))}},K.normalize=a,o.DateView=K;var U=i.extend({init:function(e,t){var n,r=this;i.fn.init.call(r,e,t),e=r.element,t=r.options,a(t),r._wrapper(),r.dateView=new K(H({},t,{id:e.attr(T),anchor:r.wrapper,change:function(){r._change(this.value()),r.close()},close:function(t){r.trigger(v)?t.preventDefault():(e.attr(E,!1),n.attr(N,!0))},open:function(t){var a,o=r.options;r.trigger(m)?t.preventDefault():(a=s(e.val(),o.parseFormats,o.culture),a?(r.dateView._current=a,r.dateView.calendar._focus(a)):r.dateView.value(a),e.attr(E,!0),n.attr(N,!1))}})),n=r.dateView.div,r._icon(),e[0].type="text",e.addClass("k-input").on("keydown"+p,B(r._keydown,r)).on("blur"+p,B(r._blur,r)).on("focus"+p,function(){r._inputWrapper.addClass(g)}).attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":r.dateView._dateViewID}),r._reset(),r._template(),r.enable(!e.is("[disabled]")),r.value(t.value||r.element.val()),o.notify(r)},events:[m,v,h],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:W,depth:W,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(e){var t=this,n=t.dateView,o=n.options;i.fn.setOptions.call(t,e),a(t.options),n.options=H(o,t.options,{change:o.change,close:o.close,open:o.open})},enable:function(e){var t=this,a=t._dateIcon.off(p),o=t._inputWrapper.off(p),r=t.element;e===!1?(o.removeClass(w).addClass(b),r.attr(k,k).attr(R,!0)):(o.addClass(w).removeClass(b).on(x,t._toggleHover),r.removeAttr(k).attr(R,!1),a.on(f,B(t._click,t)).on(D,n))},destroy:function(){var e=this;i.fn.destroy.call(e),e.dateView.destroy(),e.element.off(p),e._dateIcon.off(p),e._inputWrapper.off(p),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option(A,e)},max:function(e){return this._option(I,e)},value:function(e){var a=this;return e===t?a._value:(a._old=a._update(e),null===a._old&&a.element.val(""),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(C,"mouseenter"===t.type)},_blur:function(){var e=this;e.close(),e._change(e.element.val()),e._inputWrapper.removeClass(g)},_click:function(e){var t=this,a=t.element;t.dateView.toggle(),"click"===e.type&&a[0]!==document.activeElement&&a.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t.trigger(h),t.element.trigger(h))},_keydown:function(e){var t=this,a=t.dateView;a.popup.visible()||e.keyCode!=l.ENTER?(a.move(e),t._updateARIA(a._current)):t._change(t.element.val())},_icon:function(){var t,a=this,n=a.element;t=n.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(n)),a._dateIcon=t.attr({role:"button","aria-controls":a.dateView._dateViewID})},_option:function(e,a){var n=this,o=n.options;return a===t?o[e]:(a=s(a,o.parseFormats,o.culture),a&&(o[e]=new z(+a),n.dateView[e](a)),t)},_update:function(e){var t,a=this,n=a.options,r=n.min,i=n.max,l=s(e,n.parseFormats,n.culture);return+l===+a._value?(t=o.toString(l,n.format,n.culture),t!==e&&a.element.val(null===l?e:t),l):(null!==l&&S(l,r)?l=P(l,r,i):O(l,r,i)||(l=null),a._value=l,a.dateView.value(l),a.element.val(l?o.toString(l,n.format,n.culture):e),a._updateARIA(l),l)},_wrapper:function(){var t,a=this,n=a.element;t=n.parents(".k-datepicker"),t[0]||(t=n.wrap(c).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(c).parent()),t[0].style.cssText=n[0].style.cssText,n.css({width:"100%",height:n[0].style.height}),a.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(n[0].className),a._inputWrapper=e(t[0].firstChild)},_reset:function(){var e=this,t=e.element,a=t.closest("form");a[0]&&(e._resetHandler=function(){e.value(t[0].defaultValue)},e._form=a.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=u(this.options.ARIATemplate)},_updateARIA:function(e){this.element.attr("aria-label",this._ariaTemplate({current:e}))}});r.plugin(U)})(window.kendo.jQuery);;(function(e,t){function n(e,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+e+'" title="'+t+'">'+t+"</span></span>"}function a(n,a){var r,s=a!==t;if(n.selectionStart!==t)s?(n.focus(),n.setSelectionRange(a,a)):a=[n.selectionStart,n.selectionEnd];else if(document.selection)if(e(n).is(":visible")&&n.focus(),r=document.selection.createRange(),s)r.move("character",a),r.select();else{var o,i,l=n.createTextRange(),u=l.duplicate();l.moveToBookmark(r.getBookmark()),u.setEndPoint("EndToStart",l),o=u.text.length,i=o+l.text.length,a=[o,i]}return a}var r=window.kendo,s=r.keys,o=r.ui,i=o.Widget,l=r._extractFormat,u=r.parseFloat,c=r.support.placeholder,p=r.getCulture,d="change",_="disabled",f="k-input",m="spin",v=".kendoNumericTextBox",g="touchend",h="mouseleave"+v,x="touchstart"+v+" mousedown"+v,w="touchcancel"+v+" "+"touchend"+v+" mouseup"+v+" "+h,k="mouseenter"+v+" "+h,T="k-state-default",b="k-state-focused",y="k-state-hover",C=".",A="k-state-selected",E="k-state-disabled",N=null,R=e.proxy,S={190:".",188:","},W=i.extend({init:function(e,n){var a,s,o,u,c=this,p=n&&n.step!==t;i.fn.init.call(c,e,n),n=c.options,e=c.element.on("keydown"+v,R(c._keydown,c)).on("paste"+v,R(c._paste,c)).on("blur"+v,R(c._focusout,c)).attr("role","spinbutton"),n.placeholder=n.placeholder||e.attr("placeholder"),c._reset(),c._wrapper(),c._arrows(),c._input(),c._text.on(g+v,function(){c._toggleText(!1)}),r.support.mobileOS||c._text.on("focus"+v,R(c._click,c)),a=c.min(e.attr("min")),s=c.max(e.attr("max")),o=c._parse(e.attr("step")),n.min===N&&a!==N&&(n.min=a),n.max===N&&s!==N&&(n.max=s),p||o===N||(n.step=o),e.attr("aria-valuemin",n.min).attr("aria-valuemax",n.max),n.format=l(n.format),u=n.value,c.value(u!==N?u:e.val()),c.enable(!e.is("[disabled]")),r.notify(c)},options:{name:"NumericTextBox",decimals:N,min:N,max:N,value:N,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[d,m],enable:function(e){var t=this,n=t._text.add(t.element),a=t._inputWrapper.off(k),r=t._upArrow.off(x),s=t._downArrow.off(x);t._toggleText(!0),e===!1?(a.removeClass(T).addClass(E),n.attr(_,_)):(a.addClass(T).removeClass(E).on(k,t._toggleHover),n.removeAttr(_),r.on(x,function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(A)}),s.on(x,function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(A)}))},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(v),e._form&&e._form.off("reset",e._resetHandler),i.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var n,a=this;return e===t?a._value:(e=a._parse(e),n=a._adjust(e),e===n&&(a._update(e),a._old=a._value),t)},focus:function(){this._focusin()},_adjust:function(e){var t=this,n=t.options,a=n.min,r=n.max;return e===N?e:(a!==N&&a>e?e=a:r!==N&&e>r&&(e=r),e)},_arrows:function(){var t,a=this,r=a.options,s=r.spinners,o=a.element;t=o.siblings(".k-icon"),t[0]||(t=e(n("n",r.upArrowText)+n("s",r.downArrowText)).insertAfter(o),t.wrapAll('<span class="k-select"/>')),t.on(w,function(){clearTimeout(a._spinning),t.removeClass(A)}),s||(t.toggle(s),a._inputWrapper.addClass("k-expand-padding")),a._upArrow=t.eq(0),a._downArrow=t.eq(1)},_blur:function(){var e=this;e._toggleText(!0),e._change(e.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n=e.target,r=a(n)[0],s=n.value.substring(0,r),o=t._format(t.options.format),i=o[","],l=RegExp("\\"+i,"g"),u=RegExp("([\\d\\"+i+"]+)(\\"+o[C]+")?(\\d+)?"),c=u.exec(s),p=0;c&&(p=c[0].replace(l,"").length,-1!=s.indexOf("(")&&0>t._value&&p++),t._focusin(),a(t.element[0],p)})},_change:function(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t.trigger(d),t.element.trigger(d))},_culture:function(e){return e||p(this.options.culture)},_focusin:function(){var e=this;e._inputWrapper.addClass(b),e._toggleText(!1),e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(b),e._blur()},_format:function(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var t,n=this,a="k-formatted-value",r=n.element.addClass(f).show()[0],s=r.accessKey,o=n.wrapper;t=o.find(C+a),t[0]||(t=e('<input type="text"/>').insertBefore(r).addClass(a)),t[0].style.cssText=r.style.cssText,t[0].tabIndex=r.tabIndex,r.tabIndex=0,r.type="text",t.attr("placeholder",n.options.placeholder),s&&(t.attr("accesskey",s),r.accessKey=""),n._text=t.attr("readonly",!0).addClass(r.className)},_keydown:function(e){var t=this,n=e.keyCode;n==s.DOWN?t._step(-1):n==s.UP?t._step(1):n==s.ENTER&&t._change(t.element.val()),t._prevent(n,e.shiftKey)&&!e.ctrlKey&&e.preventDefault()},_paste:function(e){var t=this,n=e.target,a=n.value;setTimeout(function(){t._parse(n.value)===N&&t._update(a)})},_prevent:function(e,t){var n,r=this,o=r.element[0],i=o.value,l=r.options,u=l.min,c=r._format(l.format),p=c[C],d=l.decimals,_=a(o),f=_[0],m=_[1],v=0===f&&m===i.length,g=!0;return d===N&&(d=c.decimals),e>16&&21>e||e>32&&37>e||e>47&&58>e||e>95&&106>e||e==s.INSERT||e==s.DELETE||e==s.LEFT||e==s.RIGHT||e==s.TAB||e==s.BACKSPACE||e==s.ENTER?(g=!1,t&&(n=parseInt(String.fromCharCode(e),10),isNaN(n)||(n+="",o.value=i.substring(0,f)+n+i.substring(m),a(o,f+n.length),g=!0))):(S[e]===p||110==e)&&d>0&&(-1==i.indexOf(p)||v)?110==e?(o.value=i.substring(0,f)+p+i.substring(m),a(o,f+p.length)):g=!1:!(u===N||0>u)||-1!=i.indexOf("-")||189!=e&&109!=e&&173!=e||0!==f||(g=!1),g},_option:function(e,n){var a=this,r=a.options;return n===t?r[e]:(n=a._parse(n),(n||"step"!==e)&&(r[e]=a._parse(n),a.element.attr("aria-value"+e,r[e])),t)},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_step:function(e){var t=this,n=t.element,a=t._parse(n.val())||0;document.activeElement!=n[0]&&t._focusin(),a+=t.options.step*e,t._update(t._adjust(a)),t.trigger(m)},_toggleHover:function(t){e(t.currentTarget).toggleClass(y,"mouseenter"===t.type)},_toggleText:function(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parse:function(e,t){return u(e,this._culture(t),this.options.format)},_update:function(e){var t,n=this,a=n.options,s=a.format,o=a.decimals,i=n._culture(),l=n._format(s,i);o===N&&(o=l.decimals),e=n._parse(e,i),t=e!==N,t&&(e=parseFloat(e.toFixed(o))),n._value=e=n._adjust(e),n._placeholder(r.toString(e,s,i)),n.element.val(t?(""+e).replace(C,l[C]):"").attr("aria-valuenow",e)},_placeholder:function(e){this._text.val(e),c||e||this._text.val(this.options.placeholder)},_wrapper:function(){var t,n=this,a=n.element,r=a[0];t=a.parents(".k-numerictextbox"),t.is("span.k-numerictextbox")||(t=a.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=r.style.cssText,r.style.width="",n.wrapper=t.addClass("k-widget k-numerictextbox").addClass(r.className).css("display",""),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var e=this,t=e.element,n=t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(t[0].value)})},e._form=n.on("reset",e._resetHandler))}});o.plugin(W)})(window.kendo.jQuery);;(function(t,e){function a(e){var a,u=r.ui.validator.ruleResolvers||{},F={};for(a in u)t.extend(!0,F,u[a].resolve(e));return F}function u(t){return t.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function F(t){return t=(t+"").split("."),t.length>1?t[1].length:0}var r=window.kendo,n=r.ui.Widget,i=".kendoValidator",l="k-invalid-msg",o="k-invalid",s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,d=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,p=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",f=":checkbox:not([disabled],[readonly])",D="[type=number],[type=range]",c="blur",m="name",v="form",g="novalidate",x=t.proxy,h=function(t,e){return"string"==typeof e&&(e=RegExp("^(?:"+e+")$")),e.test(t)},y=function(t,e,a){var u=t.val();return t.filter(e).length&&""!==u?h(u,a):!0},C=function(t,a){return t.length?t[0].attributes[a]!==e:!1},E=/(\[|\]|\$|\.|\:|\+)/g;r.ui.validator||(r.ui.validator={rules:{},messages:{}});var _=n.extend({init:function(e,u){var F=this,i=a(e);u=u||{},u.rules=t.extend({},r.ui.validator.rules,i.rules,u.rules),u.messages=t.extend({},r.ui.validator.messages,i.messages,u.messages),n.fn.init.call(F,e,u),F._errorTemplate=r.template(F.options.errorTemplate),F.element.is(v)&&F.element.attr(g,g),F._errors={},F._attachEvents()},options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(t){var e=t.filter("[type=checkbox]").length&&"checked"!==t.attr("checked"),a=t.val();return!(C(t,"required")&&(""===a||!a||e))},pattern:function(t){return t.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==t.val()?h(t.val(),t.attr("pattern")):!0},min:function(t){if(t.filter(D+",["+r.attr("type")+"=number]").filter("[min]").length&&""!==t.val()){var e=parseFloat(t.attr("min"))||0,a=parseFloat(t.val());return a>=e}return!0},max:function(t){if(t.filter(D+",["+r.attr("type")+"=number]").filter("[max]").length&&""!==t.val()){var e=parseFloat(t.attr("max"))||0,a=parseFloat(t.val());return e>=a}return!0},step:function(t){if(t.filter(D+",["+r.attr("type")+"=number]").filter("[step]").length&&""!==t.val()){var e,a=parseFloat(t.attr("min"))||0,u=parseFloat(t.attr("step"))||1,n=parseFloat(t.val()),i=F(u);return i?(e=Math.pow(10,i),0===(n-a)*e%(u*e)/Math.pow(100,i)):0===(n-a)%u}return!0},email:function(t){return y(t,"[type=email],["+r.attr("type")+"=email]",s)},url:function(t){return y(t,"[type=url],["+r.attr("type")+"=url]",d)},date:function(t){return t.filter("[type^=date],["+r.attr("type")+"=date]").length&&""!==t.val()?null!==r.parseDate(t.val(),t.attr(r.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){n.fn.destroy.call(this),this.element.off(i)},_submit:function(t){return this.validate()?!0:(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),!1)},_attachEvents:function(){var e=this;e.element.is(v)&&e.element.on("submit"+i,x(e._submit,e)),e.options.validateOnBlur&&(e.element.is(p)?(e.element.on(c+i,function(){e.validateInput(e.element)}),e.element.is(f)&&e.element.on("click"+i,function(){e.validateInput(e.element)})):(e.element.on(c+i,p,function(){e.validateInput(t(this))}),e.element.on("click"+i,f,function(){e.validateInput(t(this))})))},validate:function(){var t,e,a,u=this,F=!1;if(u._errors={},!u.element.is(p)){for(t=u.element.find(p),e=0,a=t.length;a>e;e++)u.validateInput(t.eq(e))||(F=!0);return!F}return u.validateInput(u.element)},validateInput:function(e){e=t(e);var a,F=this,r=F._errorTemplate,n=F._checkValidity(e),i=n.valid,s="."+l,d=e.attr(m)||"",p=F._findMessageContainer(d).add(e.next(s)).hide();if(e.removeAttr("aria-invalid"),!i){a=F._extractMessage(e,n.key),F._errors[d]=a;var f=t(r({message:u(a)}));F._decorateMessageContainer(f,d),p.replaceWith(f).length||f.insertAfter(e),f.show(),e.attr("aria-invalid",!0)}return e.toggleClass(o,!i),i},_findMessageContainer:function(t){var e,a=r.ui.validator.messageLocators,u=this.element.find("."+l+"["+r.attr("for")+"="+t.replace(E,"\\$1")+"]");for(e in a)u=u.add(a[e].locate(this.element,t));return u},_decorateMessageContainer:function(t,e){var a,u=r.ui.validator.messageLocators;t.addClass(l).attr(r.attr("for"),e||"");for(a in u)u[a].decorate(t,e);t.attr("role","alert")},_extractMessage:function(e,a){var u=this,F=u.options.messages[a],n=e.attr(m);return F=t.isFunction(F)?F(e):F,r.format(e.attr(r.attr(a+"-msg"))||e.attr("validationMessage")||e.attr("title")||F||"",n,e.attr(a))},_checkValidity:function(t){var e,a=this.options.rules;for(e in a)if(!a[e](t))return{valid:!1,key:e};return{valid:!0}},errors:function(){var t,e=[],a=this._errors;for(t in a)e.push(a[t]);return e}});r.ui.plugin(_)})(window.kendo.jQuery);;(function(e,t){function n(e){var t,i,s=[];for(t=0,i=e.length;i>t;t++)s=e[t].hasSubgroups?s.concat(n(e[t].items)):s.concat(e[t].items);return s}function i(e,n,i){var s=i[e];return s?new N(g.initWidget(n,s.options,i)):t}function s(e){var t,n,i,a,r,h,o,d={};for(o=e.match(D),t=0,n=o.length;n>t;t++)i=o[t],a=i.indexOf(":"),r=i.substring(0,a),h=i.substring(a+1),"{"==h.charAt(0)&&(h=s(h)),d[r]=h;return d}function a(e,t,n){var i,s={};for(i in e)s[i]=new n(t,e[i]);return s}function r(e,t,n){var h,d,l,c=e.getAttribute("data-"+g.ns+"role"),u=e.getAttribute("data-"+g.ns+"bind"),f=e.children,b=!0,v={};if((c||u)&&o(e),c&&(l=i(c,e,n)),u&&(u=s(u.replace(j,"")),l||(v=g.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:C}),v.roles=n,l=new T(e,v)),l.source=t,d=a(u,t,F),v.template&&(d.template=new S(t,"",v.template)),d.click&&(u.events=u.events||{},u.events.click=u.click,delete d.click),d.source&&(b=!1),u.attr&&(d.attr=a(u.attr,t,F)),u.style&&(d.style=a(u.style,t,F)),u.events&&(d.events=a(u.events,t,A)),l.bind(d)),l&&(e.kendoBindingTarget=l),b&&f)for(h=0;f.length>h;h++)r(f[h],t,n)}function h(t,n){var i,s,a=g.rolesFromNamespaces([].slice.call(arguments,2));for(n=g.observable(n),t=e(t),i=0,s=t.length;s>i;i++)r(t[i],n,a)}function o(t){var n=t.kendoBindingTarget;n&&(n.destroy(),e.support.deleteExpando?delete t.kendoBindingTarget:t.removeAttribute?t.removeAttribute("kendoBindingTarget"):t.kendoBindingTarget=null)}function d(e){var t,n,i=e.children;if(o(e),i)for(t=0,n=i.length;n>t;t++)d(i[t])}function l(t){var n,i;for(t=e(t),n=0,i=t.length;i>n;n++)d(t[n])}function c(e,t){var n=e.element,i=n[0].kendoBindingTarget;i&&h(n,i.source,t)}var u,g=window.kendo,f=g.Observable,b=g.data.ObservableObject,v=g.data.ObservableArray,p={}.toString,m={},y=g.Class,x=e.proxy,w="value",_="source",B="events",k="checked",C="change";(function(){var e=document.createElement("a");e.innerText!==t?u="innerText":e.textContent!==t&&(u="textContent")})();var F=f.extend({init:function(e,t){var n=this;f.fn.init.call(n),n.source=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof f,n._access=function(e){n.dependencies[e.field]=!0},n.observable&&(n._change=function(e){n.change(e)},n.source.bind(C,n._change))},change:function(e){var t,n,i,s=this;if("this"===s.path)s.trigger(C,e);else for(t in s.dependencies)if(n=t.indexOf(e.field),0===n&&(i=t.charAt(e.field.length),!i||"."===i||"["===i)){s.trigger(C,e);break}},start:function(){this.observable&&this.source.bind("get",this._access)},stop:function(){this.observable&&this.source.unbind("get",this._access)},get:function(){var e,n=this,i=n.source,s=n.path,a=i;if(n.start(),n.observable){for(a=i.get(s);a===t&&i;)i=i.parent(),i instanceof b&&(a=i.get(s));"function"==typeof a&&(e=s.lastIndexOf("."),e>0&&(i=i.get(s.substring(0,e))),a=x(a,i),a=a(n.source)),i&&i!==n.source&&(n.currentSource=i,i.unbind(C,n._change).bind(C,n._change))}return n.stop(),a},set:function(e){var t=this,n=t.currentSource||t.source;n.set(t.path,e)},destroy:function(){this.observable&&this.source.unbind(C,this._change)}}),A=F.extend({get:function(){var e,t=this.source,n=this.path;for(e=t.get(n);!e&&t;)t=t.parent(),t instanceof b&&(e=t.get(n));return x(e,t)}}),S=F.extend({init:function(e,t,n){var i=this;F.fn.init.call(i,e,t),i.template=n},render:function(e){var t;return this.start(),t=g.render(this.template,e),this.stop(),t}}),O=y.extend({init:function(e,t,n){this.element=e,this.bindings=t,this.options=n},bind:function(e,t){var n=this;e=t?e[t]:e,e.bind(C,function(e){n.refresh(t||e)}),n.refresh(t)},destroy:function(){}});m.attr=O.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),m.style=O.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()}}),m.enabled=O.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),m.readonly=O.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),m.disabled=O.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),m.events=O.extend({init:function(e,t,n){O.fn.init.call(this,e,t,n),this.handlers={}},refresh:function(t){var n=e(this.element),i=this.bindings.events[t],s=this.handlers[t];s&&n.off(t,s),s=this.handlers[t]=i.get(),n.on(t,i.source,s)},destroy:function(){var t,n=e(this.element);for(t in this.handlers)n.off(t,this.handlers[t])}}),m.text=O.extend({refresh:function(){var e=this.bindings.text.get();null==e&&(e=""),this.element[u]=e}}),m.visible=O.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),m.invisible=O.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),m.html=O.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),m.value=O.extend({init:function(t,n,i){O.fn.init.call(this,t,n,i),this._change=x(this.change,this),this.eventName=i.valueUpdate||C,e(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=C,this.bindings[w].set(this.element.value),this._initChange=!1},refresh:function(){if(!this._initChange){var e=this.bindings[w].get();null==e&&(e=""),this.element.value=e}this._initChange=!1},destroy:function(){e(this.element).off(this.eventName,this._change)}}),m.source=O.extend({init:function(e,t,n){O.fn.init.call(this,e,t,n)},refresh:function(e){var t=this,n=t.bindings.source.get();n instanceof v?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&t.render()):t.render()},container:function(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,n=this.container().nodeName.toLowerCase();return t||(t="select"==n?e.valueField||e.textField?g.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==n?"<tr><td>#:data#</td></tr>":"ul"==n||"ol"==n?"<li>#:data#</li>":"#:data#",t=g.template(t)),t},destroy:function(){var e=this.bindings.source.get();e.unbind(C,this._change)},add:function(t,n){var i,s,a,h=this.container(),o=h.cloneNode(!1),d=h.children[t];if(e(o).html(g.render(this.template(),n)),o.children.length)for(i=0,s=n.length;s>i;i++)a=o.children[0],h.insertBefore(a,d||null),r(a,n[i],this.options.roles)},remove:function(e,t){var n,i=this.container();for(n=0;t.length>n;n++)i.removeChild(i.children[e])},render:function(){var t,n,i,s=this.bindings.source.get(),a=this.container(),h=this.template();if(s instanceof v||"[object Array]"===p.call(s)||(s.parent&&(i=s.parent),s=new v([s]),s.parent&&(s.parent=i)),this.bindings.template){if(e(a).html(this.bindings.template.render(s)),a.children.length)for(t=0,n=s.length;n>t;t++)r(a.children[t],s[t],this.options.roles)}else e(a).html(g.render(h,s))}}),m.input={checked:O.extend({init:function(t,n,i){O.fn.init.call(this,t,n,i),this._change=x(this.change,this),e(this.element).change(this._change)},change:function(){var e=this.element,t=this.value();if("radio"==e.type)this.bindings[k].set(t);else if("checkbox"==e.type){var n,i=this.bindings[k].get();i instanceof v?(t=this.element.value,"on"!==t&&"off"!==t&&(n=i.indexOf(t),n>-1?i.splice(n,1):i.push(t))):this.bindings[k].set(t)}},refresh:function(){var e=this.bindings[k].get(),t=e,n=this.element;"checkbox"==n.type?(t instanceof v&&(e=this.element.value,t.indexOf(e)>=0&&(e=!0)),n.checked=e===!0):"radio"==n.type&&null!=e&&n.value===""+e&&(n.checked=!0)},value:function(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t},destroy:function(){e(this.element).off(C,this._change)}})},m.select={value:O.extend({init:function(t,n,i){O.fn.init.call(this,t,n,i),this._change=x(this.change,this),e(this.element).change(this._change)},change:function(){var e,t,n,i,s,a,r=[],h=this.element,o=this.options.valueField||this.options.textField;for(s=0,a=h.options.length;a>s;s++)t=h.options[s],t.selected&&(i=t.attributes.value,i=i&&i.specified?t.value:t.text,r.push(i));if(o)for(e=this.bindings.source.get(),n=0;r.length>n;n++)for(s=0,a=e.length;a>s;s++)if(e[s].get(o)==r[n]){r[n]=e[s];break}i=this.bindings[w].get(),i instanceof v?i.splice.apply(i,[0,i.length].concat(r)):i instanceof b||!o?this.bindings[w].set(r[0]):this.bindings[w].set(r[0].get(o))},refresh:function(){var e,t,n=this.element,i=n.options,s=this.bindings[w].get(),a=s,r=this.options.valueField||this.options.textField;a instanceof v||(a=new v([s]));for(var h=0;a.length>h;h++)for(s=a[h],r&&s instanceof b&&(s=s.get(r)),e=0;i.length>e;e++)t=i[e].value,""===t&&""!==s&&(t=i[e].text),t==s&&(i[e].selected=!0)},destroy:function(){e(this.element).off(C,this._change)}})},m.widget={events:O.extend({init:function(e,t,n){O.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:O.extend({init:function(e,t,n){O.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=x(this.change,this),this.widget.bind(C,this._change)},change:function(){this.bindings[k].set(this.value())},refresh:function(){this.widget.check(this.bindings[k].get()===!0)},value:function(){var e=this.element,t=e.value;return("on"==t||"off"==t)&&(t=e.checked),t},destroy:function(){this.widget.unbind(C,this._change)}}),visible:O.extend({init:function(e,t,n){O.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:O.extend({init:function(e,t,n){O.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:O.extend({init:function(e,t,n){O.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:O.extend({init:function(e,t,n){O.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:O.extend({init:function(e,t,n){var i=this;O.fn.init.call(i,e.element[0],t,n),i.widget=e,i._dataBinding=x(i.dataBinding,i),i._dataBound=x(i.dataBound,i),i._itemChange=x(i.itemChange,i)},itemChange:function(e){r(e.item[0],e.data,this._ns(e.ns))},dataBinding:function(){var e,t,n=this.widget,i=n.items();for(e=0,t=i.length;t>e;e++)d(i[e])},_ns:function(t){t=t||g.ui;var n=[g.ui,g.dataviz.ui,g.mobile.ui];return n.splice(e.inArray(t,n),1),n.unshift(t),g.rolesFromNamespaces(n)},dataBound:function(e){var t,i,s=this.widget,a=s.items(),h=s.dataSource,o=h.view(),d=h.group()||[];if(a.length)for(d.length&&(o=n(o)),t=0,i=o.length;i>t;t++)r(a[t],o[t],this._ns(e.ns))},refresh:function(e){var t,n=this,i=n.widget;e=e||{},e.action||(n.destroy(),i.bind("dataBinding",n._dataBinding),i.bind("dataBound",n._dataBound),i.bind("itemChange",n._itemChange),i.dataSource instanceof g.data.DataSource&&(t=n.bindings.source.get(),t instanceof g.data.DataSource?i.setDataSource(t):t&&t._dataSource?i.setDataSource(t._dataSource):i.dataSource.data(t)))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}}),value:O.extend({init:function(t,n,i){O.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(C,this._change);var s=this.bindings.value.get();this._valueIsObservableObject=null==s||s instanceof b},change:function(){var e,t,n=this.widget.value(),i=this.options.dataValueField||this.options.dataTextField;if(i){var s,a=this._valueIsObservableObject;if(this.bindings.source&&(s=this.bindings.source.get()),""===n&&a)n=null;else for((!s||s instanceof g.data.DataSource)&&(s=this.widget.dataSource.view()),e=0,t=s.length;t>e;e++)if(s[e].get(i)==n){n=a?s[e]:s[e].get(i);break}}this.bindings.value.set(n)},refresh:function(){var e=this.options.dataValueField||this.options.dataTextField,t=this.bindings.value.get();e&&t instanceof b&&(t=t.get(e)),this.widget.value(t)},destroy:function(){this.widget.unbind(C,this._change)}})};var T=y.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,n,i,s,a=this.target.nodeName.toLowerCase(),r=m[a]||{};for(t in e)t==w?n=!0:t==_?i=!0:t==B?s=!0:this.applyBinding(t,e,r);i&&this.applyBinding(_,e,r),n&&this.applyBinding(w,e,r),s&&this.applyBinding(B,e,r)},applyBinding:function(e,t,n){var i,s=n[e]||m[e],a=this.toDestroy,r=t[e];if(s)if(s=new s(this.target,t,this.options),a.push(s),r instanceof F)s.bind(r),a.push(r);else for(i in r)s.bind(r,i),a.push(r[i]);else if("template"!==e)throw Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,n=this.toDestroy;for(e=0,t=n.length;t>e;e++)n[e].destroy()}}),N=T.extend({bind:function(e){var t,n=this,i=!1,s=!1;for(t in e)t==w?i=!0:t==_?s=!0:n.applyBinding(t,e);s&&n.applyBinding(_,e),i&&n.applyBinding(w,e)},applyBinding:function(e,t){var n,i=m.widget[e],s=this.toDestroy,a=t[e];if(!i)throw Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(i=new i(this.target,t,this.target.options),s.push(i),a instanceof F)i.bind(a),s.push(a);else for(n in a)i.bind(a,n),s.push(a[n])}}),D=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,j=/\s/g;g.unbind=l,g.bind=h,g.data.binders=m,g.data.Binder=O,g.notify=c,g.observable=function(e){return e instanceof b||(e=new b(e)),e},g.observableHierarchy=function(e){function t(e){var n,i;for(n=0;e.length>n;n++)e[n]._initChildren(),i=e[n].children,i.fetch(),e[n].items=i.data(),t(e[n].items)}var n=g.data.HierarchicalDataSource.create(e);return n.fetch(),t(n.data()),n._data._dataSource=n,n._data}})(window.kendo.jQuery);;(function(t,e){function a(e){return e=null!=e?e:"",e.type||t.type(e)||"string"}function n(e){e.find(":input:not(:button, ["+l.attr("role")+"=upload], ["+l.attr("skip")+"]), select").each(function(){var e=l.attr("bind"),a=this.getAttribute(e)||"",n="checkbox"===this.type||"radio"===this.type?"checked:":"value:",i=this.name;-1===a.indexOf(n)&&i&&(a+=(a.length?",":"")+n+i,t(this).attr(e,a))})}function i(t){var e,n,i=(t.model.fields||t.model)[t.field],o=a(i),r=i?i.validation:{},d=l.attr("type"),s=l.attr("bind"),u={name:t.field};for(e in r)n=r[e],v(e,h)>=0?u[d]=e:f(n)||(u[e]=p(n)?n.value||e:n),u[l.attr(e+"-msg")]=n.message;return v(o,h)>=0&&(u[d]=o),u[s]=("boolean"===o?"checked:":"value:")+t.field,u}function o(t){var e,a,n,i,o,r;if(t&&t.length)for(r=[],e=0,a=t.length;a>e;e++)n=t[e],o=n.text||n.value||n,i=null==n.value?n.text||n:n.value,r[e]={text:o,value:i};return r}function r(t,e){var a,n=t?t.validation||{}:{};for(a in n)f(n[a])&&(e[a]=n[a])}var l=window.kendo,d=l.ui,s=d.Widget,u=t.extend,f=t.isFunction,p=t.isPlainObject,v=t.inArray,c=/(\[|\]|\$|\.|\:|\+)/g,m='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',g="change",h=["url","email","number","date","boolean"],k={number:function(e,a){var n=i(a);t('<input type="text"/>').attr(n).appendTo(e).kendoNumericTextBox({format:a.format}),t("<span "+l.attr("for")+'="'+a.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},date:function(e,a){var n=i(a),o=a.format;o&&(o=l._extractFormat(o)),n[l.attr("format")]=o,t('<input type="text"/>').attr(n).appendTo(e).kendoDatePicker({format:a.format}),t("<span "+l.attr("for")+'="'+a.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},string:function(e,a){var n=i(a);t('<input type="text" class="k-input k-textbox"/>').attr(n).appendTo(e)},"boolean":function(e,a){var n=i(a);t('<input type="checkbox" />').attr(n).appendTo(e)},values:function(e,a){var n=i(a);t("<select "+l.attr("text-field")+'="text"'+l.attr("value-field")+'="value"'+l.attr("source")+"='"+l.stringify(o(a.values)).replace(/\'/g,"&apos;")+"'"+l.attr("role")+'="dropdownlist"/>').attr(n).appendTo(e),t("<span "+l.attr("for")+'="'+a.field+'" class="k-invalid-msg"/>').hide().appendTo(e)}},y=s.extend({init:function(e,a){var n=this;s.fn.init.call(n,e,a),n._validateProxy=t.proxy(n._validate,n),n.refresh()},events:[g],options:{name:"Editable",editors:k,clearContainer:!0,errorTemplate:m},editor:function(t,e){var n=this,i=n.options.editors,o=p(t),r=o?t.field:t,l=n.options.model||{},d=o&&t.values,s=d?"values":a(e),f=o&&t.editor,v=f?t.editor:i[s],m=n.element.find("[data-container-for="+r.replace(c,"\\$1")+"]");v=v?v:i.string,f&&"string"==typeof t.editor&&(v=function(e){e.append(t.editor)}),m=m.length?m:n.element,v(m,u(!0,{},o?t:{field:r},{model:l}))},_validate:function(e){var a,n=this,i="boolean"==typeof e.value,o=n._validationEventInProgress,r={};r[e.field]=e.value,a=t(":input["+l.attr("bind")+'="'+(i?"checked:":"value:")+e.field+'"]',n.element);try{n._validationEventInProgress=!0,(!n.validatable.validateInput(a)||!o&&n.trigger(g,{values:r}))&&e.preventDefault()}finally{n._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var t=this;s.fn.destroy.call(t),t.options.model.unbind("set",t._validateProxy),l.unbind(t.element),l.destroy(t.element),t.element.removeData("kendoValidator")},refresh:function(){var a,i,o,d,s,u,f,v=this,c=v.options.fields||[],m=v.options.clearContainer?v.element.empty():v.element,g=v.options.model||{},h={};for(t.isArray(c)||(c=[c]),a=0,i=c.length;i>a;a++)o=c[a],d=p(o),s=d?o.field:o,u=(g.fields||g)[s],r(u,h),v.editor(o,u);if(!i){f=g.fields||g;for(s in f)r(f[s],h)}n(m),l.bind(m,v.options.model),v.options.model.bind("set",v._validateProxy),v.validatable=m.kendoValidator({validateOnBlur:!1,errorTemplate:v.options.errorTemplate||e,rules:h}).data("kendoValidator"),m.find(":focusable:first").focus()}});d.plugin(y)})(window.kendo.jQuery);;(function(t){function e(e){e.preventDefault();var n=t(e.data.root),i=n.closest(".k-widget").parent();i[0]||(i=n.parent()),i.trigger(t.Event(e.type,{target:n[0]}))}function n(t,e){var n=t.x.location,i=t.y.location,o=e.x.location,r=e.y.location,a=n-o,s=i-r;return{center:{x:(n+o)/2,y:(i+r)/2},distance:Math.sqrt(a*a+s*s)}}function i(t){var e,n,i,o=[],a=t.originalEvent,s=0;if(t.api)o.push({id:2,event:t,target:t.target,location:t});else if(t.type.match(/touch/))for(n=a?a.changedTouches:[],e=n.length;e>s;s++)i=n[s],o.push({location:i,event:t,target:i.target,id:i.identifier});else r.pointers?o.push({location:a,event:t,target:t.target,id:a.pointerId}):o.push({id:1,event:t,target:t.target,location:t});return o}var o=window.kendo,r=o.support,a=r.pointers,s=window.document,c=t(s.documentElement),u=o.Class,h=o.Observable,l=t.now,d=t.extend,p=r.mobileOS,f=p&&p.android,g="press",v="start",_="move",m="end",y="cancel",T="tap",x="gesturestart",w="gesturechange",D="gestureend",S="gesturetap",E=u.extend({init:function(t,e){var n=this;n.axis=t,n._updateLocationData(e),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=l()},move:function(t){var e=this,n=t["page"+e.axis],i=l(),o=i-e.timeStamp||1;(n||!f)&&(e.delta=n-e.location,e._updateLocationData(t),e.initialDelta=n-e.startLocation,e.velocity=e.delta/o,e.timeStamp=i)},_updateLocationData:function(t){var e=this,n=e.axis;e.location=t["page"+n],e.client=t["client"+n],e.screen=t["screen"+n]}}),M=u.extend({init:function(t,e,n){var i=this;d(i,{x:new E("X",n.location),y:new E("Y",n.location),userEvents:t,target:e,currentTarget:n.currentTarget,id:n.id,_moved:!1,_finished:!1}),i._trigger(g,n)},move:function(t){var e=this;if(!e._finished){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(b.current&&b.current!==e.userEvents)return e.dispose();e._start(t)}e._finished||e._trigger(_,t)}},end:function(t){var e=this;e.endTime=l(),e._finished||(e._moved?e._trigger(m,t):e._trigger(T,t),e.dispose())},dispose:function(){var e=this,n=e.userEvents,i=n.touches;e._finished=!0,i.splice(t.inArray(e,i),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(t){this.startTime=l(),this._moved=!0,this._trigger(v,t)},_trigger:function(t,e){var n=this,i=e.event,o={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(t,o)&&i.preventDefault()},_withinIgnoreThreshold:function(){var t=this.x.initialDelta,e=this.y.initialDelta;return this.userEvents.threshold>=Math.sqrt(t*t+e*e)}}),b=h.extend({init:function(n,i){var s,u=this;if(i=i||{},s=u.filter=i.filter,u.threshold=i.threshold||0,u.touches=[],u._maxTouches=i.multiTouch?2:1,u.eventNS=o.guid(),n=t(n).handler(u).autoApplyNS(u.eventNS),h.fn.init.call(u),d(u,{element:n,surface:i.global?c:i.surface||n,stopPropagation:i.stopPropagation,pressed:!1}),u.surface.handler(u).autoApplyNS(u.eventNS).on("move","_move").on("up cancel","_end"),n.on("down",s,"_start"),a&&n.css("-ms-touch-action","pinch-zoom double-tap-zoom"),i.preventDragEvent&&n.on("dragstart",o.preventDefault),i.allowSelection||n.on("mousedown selectstart",s,{root:n},e),r.eventCapture)for(var l=o.eventMap.up.split(" "),p=0,f=l.length,E=u.surface[0],M=function(t){u._isMoved()&&t.preventDefault()};f>p;p++)E.addEventListener(l[p],M,!0);u.bind([g,T,v,_,m,y,x,w,D,S],i)},destroy:function(){var t=this;t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t._disposeAll()},capture:function(){b.current=this},cancel:function(){this._disposeAll(),this.trigger(y)},notify:function(e,i){var o=this,r=o.touches;if(this._isMultiTouch()){switch(e){case _:e=w;break;case m:e=D;break;case T:e=S}t.extend(i,{touches:r},n(r[0],r[1]))}return this.trigger(e,i)},press:function(t,e,n){this._apiCall("_start",t,e,n)},move:function(t,e){this._apiCall("_move",t,e)},end:function(t,e){this._apiCall("_end",t,e)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){t.each(this.touches,function(){this.dispose()})},_isMoved:function(){return t.grep(this.touches,function(t){return t.isMoved()}).length},_start:function(e){var n,o,r=this,a=0,s=r.filter,c=i(e),u=c.length;if(!r._maxTouchesReached())for(b.current=null,r.currentTarget=e.currentTarget,r.stopPropagation&&e.stopPropagation();u>a&&!r._maxTouchesReached();a++)o=c[a],n=t(o.target),n=s?n.is(s)?n:n.closest(s,r.element):r.element,n.length&&(r.touches.push(new M(r,n,o)),r._isMultiTouch()&&r.notify("gesturestart",{}))},_move:function(t){this._eachTouch("move",t)},_end:function(t){this._eachTouch("end",t)},_eachTouch:function(t,e){var n,o,r,a,s=this,c={},u=i(e),h=s.touches;for(n=0;h.length>n;n++)o=h[n],c[o.id]=o;for(n=0;u.length>n;n++)r=u[n],a=c[r.id],a&&a[t](r)},_apiCall:function(e,n,i,o){this[e]({api:!0,pageX:n,pageY:i,target:o||this.element,stopPropagation:t.noop,preventDefault:t.noop})}});o.getTouches=i,o.touchDelta=n,o.UserEvents=b})(window.kendo.jQuery);;(function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(r){return!1}}function r(e){return S?f.elementFromPoint(e.x.screen,e.y.screen):f.elementFromPoint(e.x.client,e.y.client)}function i(e,t){return parseInt(e.css(t),10)||0}function a(e,t){return Math.min(Math.max(e,t.min),t.max)}function o(e,t){var n=e.offset(),r=n.left+i(e,"borderLeftWidth")+i(e,"paddingLeft"),a=n.top+i(e,"borderTopWidth")+i(e,"paddingTop"),o=r+e.width()-t.outerWidth(!0),s=a+e.height()-t.outerHeight(!0);return{x:{min:r,max:o},y:{min:a,max:s}}}function s(e,n,r){for(var i,a,o=0,s=n&&n.length,c=r&&r.length;e&&e.parentNode;){for(o=0;s>o;o++)if(i=n[o],i.element[0]===e)return{target:i,targetElement:e};for(o=0;c>o;o++)if(a=r[o],d.matchesSelector.call(e,a.options.filter))return{target:a,targetElement:e};e=e.parentNode}return t}var c,l,u=window.kendo,d=u.support,f=window.document,g=u.Class,h=u.ui.Widget,p=u.Observable,v=u.UserEvents,m=e.proxy,x=e.extend,y=u.getOffset,_={},b={},T={},E=d.mobileOS,w=E&&E.android,S=w&&"chrome"==E.browser,M="keyup",z="change",D="dragstart",O="drag",C="dragend",k="dragcancel",W="dragenter",H="dragleave",P="drop",A=p.extend({init:function(t,n){var r=this,i=t[0];r.capture=!1,e.each(u.eventMap.down.split(" "),function(){i.addEventListener(this,m(r._press,r),!0)}),e.each(u.eventMap.up.split(" "),function(){i.addEventListener(this,m(r._release,r),!0)}),p.fn.init.call(r),r.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),L=p.extend({init:function(t){var n=this;p.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.max=0,n.horizontal?(n.measure="width",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="height",n.scrollSize="scrollHeight",n.axis="y")},outOfBounds:function(e){return e>this.max||this.min>e},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.getTotal(),r=n*t.scale,i=t.getSize();t.size=i,t.total=r,t.min=Math.min(t.max,t.size-r),t.minScale=t.size/n,t.enabled=t.forcedEnabled||r>i,e||t.trigger(z,t)}}),F=p.extend({init:function(e){var t=this,n=m(t.refresh,t);p.fn.init.call(t),t.x=new L(x({horizontal:!0},e)),t.y=new L(x({horizontal:!1},e)),t.forcedMinScale=e.minScale,t.bind(z,e),u.onResize(n)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.max(e.x.minScale,e.y.minScale),e.trigger(z)}}),N=p.extend({init:function(e){var t=this;x(t,e),p.fn.init.call(t)},dragMove:function(e){var t=this,n=t.dimension,r=t.axis,i=t.movable,a=i[r]+e;n.enabled&&((n.min>a&&0>e||a>n.max&&e>0)&&(e*=t.resistance),i.translateAxis(r,e),t.trigger(z,t))}}),B=g.extend({init:function(e){var t,n,r,i,a=this;x(a,{elastic:!0},e),r=a.elastic?.5:0,i=a.movable,a.x=t=new N({axis:"x",dimension:a.dimensions.x,resistance:r,movable:i}),a.y=n=new N({axis:"y",dimension:a.dimensions.y,resistance:r,movable:i}),a.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e},gesturechange:function(e){var r,o=a.gesture,s=o.center,c=e.center,l=e.distance/o.distance,u=a.dimensions.minScale;u>=i.scale&&1>l&&(l+=.8*(1-l)),r={x:(i.x-s.x)*l+c.x-i.x,y:(i.y-s.y)*l+c.y-i.y},i.scaleWith(l),t.dragMove(r.x),n.dragMove(r.y),a.dimensions.rescale(i.scale),a.gesture=e},move:function(e){t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip()},end:function(e){e.preventDefault()}})}}),G=d.transitions.prefix+"Transform",I=Math.round;l=d.hasHW3D?function(e,t,n){return"translate3d("+I(e)+"px,"+I(t)+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+I(e)+"px,"+I(t)+"px) scale("+n+")"};var j=p.extend({init:function(t){var n=this;p.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(l(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){x(this,e),this.refresh()},refresh:function(){var e=this,t=l(e.x,e.y,e.scale);t!=e.coordinates&&(e.element[0].style[G]=t,e._saveCoordinates(t),e.trigger(z))},_saveCoordinates:function(e){this.coordinates=e}}),Q=h.extend({init:function(e,t){var n=this;h.fn.init.call(n,e,t);var r=n.options.group;r in b?b[r].push(n):b[r]=[n]},events:[W,H,P],options:{name:"DropTarget",group:"default"},destroy:function(){var e,t=this.options.group,n=b[t]||T[t];if(n.length>1){for(h.fn.destroy.call(this),e=0;n.length>e;e++)if(n[e]==this){n.splice(e,1);break}}else Q.destroyGroup(t)},_trigger:function(e,n){var r=this,i=_[r.options.group];return i?r.trigger(e,x({},n.event,{draggable:i,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(W,e)},_out:function(e){this._trigger(H,e)},_drop:function(e){var t=this,n=_[t.options.group];n&&(n.dropped=!t._trigger(P,e))}});Q.destroyGroup=function(e){var t,n=b[e]||T[e];if(n){for(t=0;n.length>t;t++)h.fn.destroy.call(n[t]);n.length=0,delete b[e],delete T[e]}},Q._cache=b;var R=Q.extend({init:function(e,t){var n=this;h.fn.init.call(n,e,t);var r=n.options.group;r in T?T[r].push(n):T[r]=[n]},options:{name:"DropTargetArea",group:"default",filter:null}}),U=h.extend({init:function(e,t){var n=this;h.fn.init.call(n,e,t),n.userEvents=new v(n.element,{global:!0,stopPropagation:!0,filter:n.options.filter,threshold:n.options.distance,start:m(n._start,n),move:m(n._drag,n),end:m(n._end,n),cancel:m(n._cancel,n)}),n._afterEndHandler=m(n._afterEnd,n),n.captureEscape=function(e){e.keyCode===u.keys.ESC&&(n._trigger(k,{event:e}),n.userEvents.cancel())}},events:[D,O,C,k],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(t){var n,r=this,i=r.options,o=r.boundaries,s=i.axis,c=r.options.cursorOffset;c?n={left:t.x.location+c.left,top:t.y.location+c.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,n=e.extend({},r.hintOffset)),o&&(n.top=a(n.top,o.y),n.left=a(n.left,o.x)),"x"===s?delete n.top:"y"===s&&delete n.left,r.hint.css(n)},_start:function(t){var n=this,r=n.options,i=r.container,a=r.hint;if(n.currentTarget=t.target,n.currentTargetOffset=y(n.currentTarget),a){n.hint=e.isFunction(a)?e(a.call(n,n.currentTarget)):a;var s=y(n.currentTarget);n.hintOffset=s,n.hint.css({position:"absolute",zIndex:2e4,left:s.left,top:s.top}).appendTo(f.body)}_[r.group]=n,n.dropped=!1,i&&(n.boundaries=o(i,n.hint)),n._trigger(D,t)&&(n.userEvents.cancel(),n._afterEnd()),e(f).on(M,n.captureEscape)},_drag:function(n){var r=this;n.preventDefault(),r._withDropTarget(n,function(r,i){if(!r)return c&&(c._trigger(H,x(n,{dropTarget:e(c.targetElement)})),c=null),t;if(c){if(i===c.targetElement)return;c._trigger(H,x(n,{dropTarget:e(c.targetElement)}))}r._trigger(W,x(n,{dropTarget:e(i)})),c=x(r,{targetElement:i})}),r._trigger(O,n),r.hint&&r._updateHint(n)},_end:function(t){var n=this;n._withDropTarget(t,function(n,r){n&&(n._drop(x({},t,{dropTarget:e(r)})),c=null)}),n._trigger(C,t),n._cancel(t.event)},_cancel:function(){var e=this;e.hint&&!e.dropped?e.hint.animate(e.currentTargetOffset,"fast",e._afterEndHandler):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,x({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var i,a,o=this,c=o.options,l=b[c.group],u=T[c.group];(l&&l.length||u&&u.length)&&(i=r(e),o.hint&&n(o.hint[0],i)&&(o.hint.hide(),i=r(e),i||(i=r(e)),o.hint.show()),a=s(i,l,u),a?t(a.target,a.targetElement):t())},destroy:function(){var e=this;h.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy()},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete _[t.options.group],t.trigger("destroy"),e(f).off(M,t.captureEscape)}});u.ui.plugin(Q),u.ui.plugin(R),u.ui.plugin(U),u.TapCapture=A,u.containerBoundaries=o,x(u.ui,{Pane:B,PaneDimensions:F,Movable:j})})(window.kendo.jQuery);;(function(e,i){function t(e){return e!==i}function n(e,i,t){return Math.max(Math.min(e,t),i)}function o(e,i){var t=e.children(x);return t.data("kendoWindow")||t.data("kendo"+i)}function r(i){return e(y).filter(function(){var t=e(this),n=o(t,i);return n.options.modal&&t.is(P)&&n.options.visible}).sort(function(i,t){return+e(i).css("zIndex")-+e(t).css("zIndex")})}function s(e,i){return function(){var e=this,t=e.wrapper,n=t[0].style,o=e.options;if(!o.isMaximized&&!o.isMinimized)return e.restoreOptions={width:n.width,height:n.height},t.find(_).hide().end().find(U).parent().hide().eq(0).before(l.action({name:"Restore"})),i.call(e),e}}function a(e){var i=this;i.owner=e,i._draggable=new h(e.wrapper,{filter:_,group:e.wrapper.id+"-resizing",dragstart:m(i.dragstart,i),drag:m(i.drag,i),dragend:m(i.dragend,i)})}function d(e){var i=this;i.owner=e,i._draggable=new h(e.wrapper,{filter:b,group:e.wrapper.id+"-moving",dragstart:m(i.dragstart,i),drag:m(i.drag,i),dragend:m(i.dragend,i),dragcancel:m(i.dragcancel,i)})}var l,c=window.kendo,p=c.ui.Widget,h=c.ui.Draggable,f=e.isPlainObject,m=e.proxy,u=e.extend,g=e.each,w=c.template,v="body",k=".kendoWindow",y=".k-window",z=".k-window-title",b=z+"bar",x=".k-window-content",_=".k-resize-handle",T=".k-overlay",W="k-content-frame",M="k-loading",C="k-state-hover",H="k-state-focused",P=":visible",S="hidden",O="cursor",D="open",I="activate",L="deactivate",F="close",R="refresh",A="resize",j="dragstart",q="dragend",E="error",N="overflow",G="zIndex",U=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",K=".k-window-titlebar .k-window-action",Q=c.isLocalUrl,B=p.extend({init:function(i,n){var o,r,s,h,u,w,v,_=this,T=!1;p.fn.init.call(_,i,n),n=_.options,i=_.element,u=n.content,_.appendTo=e(n.appendTo||document.body),_._animations(),u&&!f(u)&&(u=n.content={url:u}),i.parent().is(_.appendTo)||(i.find("script").filter(function(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}).remove(),i.is(P)?(r=i.offset(),T=!0):(s=i.css("visibility"),h=i.css("display"),i.css({visibility:S,display:""}),r=i.offset(),i.css({visibility:s,display:h}))),t(n.visible)&&null!==n.visible||(n.visible=i.is(P)),o=_.wrapper=i.closest(y),i.is(".k-content")&&o[0]||(i.addClass("k-window-content k-content"),_._createWindow(i,n),o=_.wrapper=i.closest(y),_._dimensions()),r&&o.css({top:r.top,left:r.left}),u&&_.refresh(u),_.toFront(),w=o.children(x),_._tabindex(w),n.visible&&n.modal&&_._overlay(o.is(P)).css({opacity:.5}),o.on("mouseenter"+k,K,function(){e(this).addClass(C)}).on("mouseleave"+k,K,function(){e(this).removeClass(C)}).on("touchend"+k+" click"+k,K,m(_._windowActionHandler,_)),w.on("keydown"+k,m(_._keydown,_)).on("focus"+k,function(){o.addClass(H)}).on("blur"+k,function(){o.removeClass(H)}),n.resizable&&(o.on("dblclick"+k,b,m(_.toggleMaximization,_)),g("n e s w se sw ne nw".split(" "),function(e,i){o.append(l.resizeHandle(i))}),_.resizing=new a(_)),n.draggable&&(_.dragging=new d(_)),v=i.attr("id"),v&&(v+="_wnd_title",o.find(b).children(z).attr("id",v),w.attr({role:"dialog","aria-labelledby":v})),o.add(o.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+k,m(_.toFront,_)),_.touchScroller=c.touchScroller(i),_._resizeHandler=function(e){return _._onDocumentResize(e)},e(window).on("resize",_._resizeHandler),n.visible&&(_.element.focus(),_.trigger(D),_.trigger(I)),c.notify(_)},_dimensions:function(){var e=this,i=e.wrapper,t=e.element,n=e.options;e.title(n.title),n.width&&i.width(n.width),n.height&&i.height(n.height),g(["minWidth","minHeight","maxWidth","maxHeight"],function(e,i){var o=n[i];o&&1/0!=o&&t.css(i,o)}),n.visible||i.hide()},_animations:function(){var e=this.options;e.animation===!1&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},setOptions:function(e){p.fn.setOptions.call(this,e),this._animations(),this._dimensions()},events:[D,I,L,F,R,A,j,q,E],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,visible:null},_closable:function(){return e.inArray("close",e.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_keydown:function(e){var i,t,o,r,s=this,a=s.options,d=c.keys,l=e.keyCode,p=s.wrapper,h=10,f=s.options.isMaximized;e.target==e.currentTarget&&(l==d.ESC&&s._closable()&&s._close(!0),!a.draggable||e.ctrlKey||f||(i=p.offset(),l==d.UP?t=p.css("top",i.top-h):l==d.DOWN?t=p.css("top",i.top+h):l==d.LEFT?t=p.css("left",i.left-h):l==d.RIGHT&&(t=p.css("left",i.left+h))),a.resizable&&e.ctrlKey&&!f&&(l==d.UP?(t=!0,r=p.height()-h):l==d.DOWN&&(t=!0,r=p.height()+h),l==d.LEFT?(t=!0,o=p.width()-h):l==d.RIGHT&&(t=!0,o=p.width()+h),t&&(p.css({width:n(o,a.minWidth,a.maxWidth),height:n(r,a.minHeight,a.maxHeight)}),s.trigger(A))),t&&e.preventDefault())},_overlay:function(i){var t=this.appendTo.children(".k-overlay"),n=this.wrapper;return t.length||(t=e("<div class='k-overlay' />")),t.insertBefore(n[0]).toggle(i).css(G,parseInt(n.css(G),10)-1),t},_windowActionHandler:function(t){var n=e(t.target).closest(".k-window-action").find(".k-icon"),o=this;g({"k-i-close":function(){o._close(!0)},"k-i-maximize":o.maximize,"k-i-minimize":o.minimize,"k-i-restore":o.restore,"k-i-refresh":o.refresh},function(e,r){return n.hasClass(e)?(t.preventDefault(),r.call(o),!1):i})},center:function(){var i=this.wrapper,t=e(window);return i.css({left:t.scrollLeft()+Math.max(0,(t.width()-i.width())/2),top:t.scrollTop()+Math.max(0,(t.height()-i.height())/2)}),this},title:function(e){var i=this,t=i.wrapper,n=i.options,o=t.find(b),r=o.children(z),s=o.outerHeight();return arguments.length?(e===!1?(t.addClass("k-window-titleless"),o.remove()):(o.length||t.prepend(l.titlebar(u(l,n))),t.css("padding-top",s),o.css("margin-top",-s)),r.text(e),i):r.text()},content:function(e){var i=this.wrapper.children(x);return e?(i.html(e),this):i.html()},open:function(){var i,t=this,n=t.wrapper,o=t.options,r=o.animation.open,s=n.children(x),a=s.css(N);return t.trigger(D)||(t.toFront(),t.element.focus(),o.visible=!0,o.modal&&(i=t._overlay(!1),r.duration?i.kendoStop().kendoAnimate({effects:"fade:in",duration:r.duration}):i.css("opacity",.5).show()),n.is(P)||(s.css(N,S),n.show().kendoStop().kendoAnimate({effects:r.effects,duration:r.duration,complete:function(){t.element.focus(),t.trigger(I),s.css(N,a)}}))),o.isMaximized&&(t._documentScrollTop=e(document).scrollTop(),e("html, body").css(N,S)),t},_close:function(t){var n,s,a,d=this,l=d.wrapper,c=d.options,p=c.animation.open,h=c.animation.close;l.is(P)&&!d.trigger(F,{userTriggered:!!t})&&(c.visible=!1,e(y).each(function(i,t){var n=e(t),o=n.find(x);t!=l&&o.find("> ."+W).length>0&&o.children(".k-overlay").remove()}),n=r(c.name),s=c.modal&&!n.length,a=c.modal?d._overlay(!0):e(i),s?h.duration?a.kendoStop().kendoAnimate({effects:"fade:out",duration:h.duration,hide:!0}):a.hide():n.length&&o(n.eq(n.length-1),c.name)._overlay(!0),l.kendoStop().kendoAnimate({effects:h.effects||p.effects,reverse:h.reverse===!0,duration:h.duration,complete:function(){l.hide(),d.trigger(L)}})),d.options.isMaximized&&(e("html, body").css(N,""),d._documentScrollTop&&d._documentScrollTop>0&&e(document).scrollTop(d._documentScrollTop))},close:function(){return this._close(!1),this},toFront:function(i){var t=this,n=t.wrapper,o=n[0],r=+n.css(G),s=r,a=document.activeElement,d=t.element,c=i&&i.target?i.target:null;if(e(y).each(function(i,t){var n=e(t),s=n.css(G),a=n.find(x);isNaN(s)||(r=Math.max(+s,r)),t!=o&&a.find("> ."+W).length>0&&a.append(l.overlay)}),(10001==r||r>s)&&n.css(G,r+2),t.element.find("> .k-overlay").remove(),!(e(a).is(d)||e(c).is(K+","+K+" .k-icon,:input")||d.find(a).length&&d.find(c).length)){d.focus();var p=e(window).scrollTop(),h=parseInt(t.wrapper.position().top,10);h>0&&0>h-p&&(p>0?e(window).scrollTop(h):t.wrapper.css("top",p))}return t},toggleMaximization:function(){return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var i=this,t=i.options,n=i.restoreOptions;if(t.isMaximized||t.isMinimized)return i.wrapper.css({position:"absolute",left:n.left,top:n.top,width:n.width,height:n.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(U).parent().show(),e("html, body").css(N,""),this._documentScrollTop&&this._documentScrollTop>0&&e(document).scrollTop(this._documentScrollTop),t.isMaximized=t.isMinimized=!1,i.trigger(A),i},maximize:s("maximize",function(){var i=this,t=i.wrapper,n=t.position();u(i.restoreOptions,{left:n.left,top:n.top}),t.css({left:0,top:0,position:"fixed"}),this._documentScrollTop=e(document).scrollTop(),e("html, body").css(N,S),i.options.isMaximized=!0,i._onDocumentResize()}),minimize:s("minimize",function(){var e=this;e.wrapper.css("height",""),e.element.hide(),e.options.isMinimized=!0}),_onDocumentResize:function(){var i=this,t=i.wrapper,n=e(window);i.options.isMaximized&&(t.css({width:n.width(),height:n.height()-parseInt(t.css("padding-top"),10)}),i.trigger(A))},refresh:function(i){var n,o,r,s=this,a=s.options,d=e(s.element);return f(i)||(i={url:i}),i=u({},a.content,i),o=t(a.iframe)?a.iframe:i.iframe,r=i.url,r?(t(o)||(o=!Q(r)),o?(n=d.find("."+W)[0],n?n.src=r||n.src:d.html(l.contentFrame(u({},a,{content:i}))),d.find("."+W).unbind("load"+k).on("load"+k,function(){s.trigger(R)})):s._ajaxRequest(i)):(i.template&&s.content(w(i.template)({})),s.trigger(R)),s},_ajaxRequest:function(e){var i=this,t=e.template,n=i.wrapper.find(".k-window-titlebar .k-i-refresh"),o=setTimeout(function(){n.addClass(M)},100);jQuery.ajax(u({type:"GET",dataType:"html",cache:!1,error:m(function(e,t){i.trigger(E,{status:t,xhr:e})},i),complete:function(){clearTimeout(o),n.removeClass(M)},success:m(function(e){t&&(e=w(t)(e||{})),i.element.html(e),i.trigger(R)},i)},e))},destroy:function(){var i,t,n=this;p.fn.destroy.call(n),c.destroy(n.wrapper),n.resizing&&n.resizing.destroy(),n.dragging&&n.dragging.destroy(),n.wrapper.remove().add(n.wrapper.find(".k-resize-handle,.k-window-titlebar")).off(k),e(window).off("resize",n._resizeHandler),i=r(),t=n.options.modal&&!i.length,t?n._overlay(!1).remove():i.length>0&&o(i.eq(i.length-2),n.options.name)._overlay(!0)},_createWindow:function(){var i,t,n=this,o=n.element,r=n.options,s=c.support.isRtl(o);r.scrollable===!1&&o.attr("style","overflow:hidden;"),r.iframe&&r.content&&o.html(l.contentFrame(r)),t=e(l.wrapper(r)),r.title!==!1&&t.append(l.titlebar(u(l,r))),i=o.find("iframe:not(.k-content)").map(function(){var e=this.getAttribute("src");return this.src="",e}),t.toggleClass("k-rtl",s).appendTo(n.appendTo).append(o).find("iframe:not(.k-content)").each(function(e){this.src=i[e]}),t.find(".k-window-title").css(s?"left":"right",t.find(".k-window-actions").outerWidth()+10),o.show()}});l={wrapper:w("<div class='k-widget k-window' />"),action:w("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:w("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:w("<iframe frameborder='0' title='#= title #' class='"+W+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:w("<div class='k-resize-handle k-resize-#= data #'></div>")},a.prototype={dragstart:function(i){var t=this,n=t.owner,o=n.wrapper;t.elementPadding=parseInt(n.wrapper.css("padding-top"),10),t.initialCursorPosition=o.offset(),t.resizeDirection=i.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),t.initialSize={width:o.width(),height:o.height()},t.containerOffset=n.appendTo.offset(),o.append(l.overlay).find(_).not(i.currentTarget).hide(),e(v).css(O,i.currentTarget.css(O))},drag:function(e){var i,t,o,r,s=this,a=s.owner,d=a.wrapper,l=a.options,c=s.resizeDirection,p=s.containerOffset,h=s.initialCursorPosition,f=s.initialSize,m=e.x.location,u=e.y.location;c.indexOf("e")>=0?(i=m-h.left,d.width(n(i,l.minWidth,l.maxWidth))):c.indexOf("w")>=0&&(r=h.left+f.width,i=n(r-m,l.minWidth,l.maxWidth),d.css({left:r-i-p.left,width:i})),c.indexOf("s")>=0?(t=u-h.top-s.elementPadding,d.height(n(t,l.minHeight,l.maxHeight))):c.indexOf("n")>=0&&(o=h.top+f.height,t=n(o-u,l.minHeight,l.maxHeight),d.css({top:o-t-p.top,height:t})),a.trigger(A)},dragend:function(i){var t=this,n=t.owner,o=n.wrapper;return o.find(T).remove().end().find(_).not(i.currentTarget).show(),e(v).css(O,""),n.touchScroller&&n.touchScroller.reset(),27==i.keyCode&&o.css(t.initialCursorPosition).css(t.initialSize),!1},destroy:function(){this._draggable.destroy()}},d.prototype={dragstart:function(i){var t=this.owner,n=t.element,o=n.find(".k-window-actions"),r=t.appendTo.offset();t.trigger(j),t.initialWindowPosition=t.wrapper.position(),t.startPosition={left:i.x.client-t.initialWindowPosition.left,top:i.y.client-t.initialWindowPosition.top},t.minLeftPosition=o.length>0?o.outerWidth()+parseInt(o.css("right"),10)-n.outerWidth():20-n.outerWidth(),t.minLeftPosition-=r.left,t.minTopPosition=-r.top,t.wrapper.append(l.overlay).find(_).hide(),e(v).css(O,i.currentTarget.css(O))},drag:function(i){var t=this.owner,n={left:Math.max(i.x.client-t.startPosition.left,t.minLeftPosition),top:Math.max(i.y.client-t.startPosition.top,t.minTopPosition)};e(t.wrapper).css(n)},_finishDrag:function(){var i=this.owner;i.wrapper.find(_).toggle(!i.options.isMinimized).end().find(T).remove(),e(v).css(O,"")},dragcancel:function(e){this._finishDrag(),e.currentTarget.closest(y).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(q),!1},destroy:function(){this._draggable.destroy()}},c.ui.plugin(B)})(window.kendo.jQuery);;(function(e,t){function n(e,t,n){for(var a,o=0,s=t.length-1;s>o;++o)a=t[o],a in e||(e[a]={}),e=e[a];e[t[s]]=n}var a=window.kendo,o=a.ui,s=o.Select,i=a.support.mobileOS,r=".kendoDropDownList",l="disabled",p="change",c="select",d="k-state-focused",u="k-state-default",_="k-state-disabled",f="k-state-selected",h="mouseenter"+r+" mouseleave"+r,v=e.proxy,m=s.extend({init:function(n,o){var i,l,p,d=this,u=o&&o.index;d.ns=r,o=e.isArray(o)?{dataSource:o}:o,s.fn.init.call(d,n,o),d._focusHandler=function(){d.wrapper.focus()},o=d.options,n=d.element.on("focus"+r,d._focusHandler),d._reset(),d._word="",d._wrapper(),d._tabindex(),d._aria(),d._span(),d._popup(),d._mobile(),d._accessors(),d._dataSource(),d._enable(),d._cascade(),d.selectedIndex=-1,u!==t&&(o.index=u),o.autoBind?d.dataSource.fetch():(p=o.text,p||(i=d._optionLabelText(o.optionLabel),l=i&&0===o.index,n.is(c)?p=l?i:n.children(":selected").text():!n[0].value&&l&&(p=i)),d.text(p)),a.notify(d)},options:{name:"DropDownList",enable:!0,index:0,autoBind:!0,text:"",template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:["open","close",p,"select","dataBinding","dataBound","cascade"],setOptions:function(e){s.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},destroy:function(){var e=this;e.wrapper.off(r),e.element.off(r),e._inputWrapper.off(r),s.fn.destroy.call(e)},enable:function(e){var t=this,n=t.element,a=t.wrapper.off(r),o=t._inputWrapper.off(h);e===!1?(n.attr(l,l),o.removeClass(u).addClass(_)):(n.removeAttr(l,l),o.addClass(u).removeClass(_).on(h,t._toggleHover),a.on("touchend"+r+" click"+r,function(e){t._blured=!1,e.preventDefault(),t.toggle()}).on("keydown"+r,v(t._keydown,t)).on("keypress"+r,v(t._keypress,t)).on("focusin"+r,function(){o.addClass(d),t._blured=!1}).on("focusout"+r,function(){t._blured||(t._blur(),o.removeClass(d),t._blured=!0,n.blur())}))},open:function(){var e=this;e.ul[0].firstChild?(e.popup.open(),e._scroll(e._current)):(e._open=!0,e._request||e.dataSource.fetch())},toggle:function(e){this._toggle(e)},refresh:function(){var e=this,t=e._data(),n=t.length,o=e.options.optionLabel;e.trigger("dataBinding"),e._current&&e.current(null),e.ul[0].innerHTML=a.render(e.template,t),e._height(n),e.popup.visible()&&e.popup._position(),e.element.is(c)&&(o&&n&&(o=e._optionLabelText(o),o='<option value="">'+o+"</option>"),e._options(t,o)),e._open&&(e._open=!1,e.toggle(!!n)),e._hideBusy(),e._makeUnselectable(),!e._fetch&&n&&e._selectItem(),e._bound=!0,e.trigger("dataBound")},search:function(e){if(e){var n=this,a=n.options.ignoreCase;a&&(e=e.toLowerCase()),n._select(function(o){var s=n._text(o);return s!==t?(s+="",a&&(s=s.toLowerCase()),0===s.indexOf(e)):t})}},text:function(e){var n=this.span;return e===t?n.text():(n.text(e),t)},value:function(e){var n,a,o=this;return e===t?o._accessor():(null!==e&&(e=""+e),o._selectedValue=e,a=e||o.options.optionLabel&&!o.element[0].disabled&&""===e,a&&o._fetchItems(e)||(n=o._index(e),o.select(n>-1?n:0)),t)},_accept:function(e){this._focus(e)},_optionLabelText:function(){var e=this.options,t=e.dataTextField,n=e.optionLabel;return n&&t&&"object"==typeof n?this._text(n):n},_data:function(){var e=this,t=e.options,o=t.optionLabel,s=t.dataTextField,i=t.dataValueField,r=e.dataSource.view(),l=r.length,p=o,c=0;if(o&&l){for("object"==typeof o?p=o:s&&(p={},s=s.split("."),i=i.split("."),n(p,i,""),n(p,s,o)),p=new a.data.ObservableArray([p]);l>c;c++)p.push(r[c]);r=p}return r},_keydown:function(e){var t=this,n=e.keyCode,o=a.keys,s=t.ul[0];n===o.LEFT?n=o.UP:n===o.RIGHT&&(n=o.DOWN),e.keyCode=n,t._move(e),n===o.HOME?(e.preventDefault(),t._select(s.firstChild)):n===o.END&&(e.preventDefault(),t._select(s.lastChild))},_keypress:function(e){var t=this;setTimeout(function(){t._word+=String.fromCharCode(e.keyCode||e.charCode),t._search()})},_popup:function(){s.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=a.wrap(this.element).addClass("km-popup")})},_search:function(){var e=this;clearTimeout(e._typing),e._typing=setTimeout(function(){e._word=""},e.options.delay),e.search(e._word)},_select:function(e){var n,a,s,i=this,r=i._current,l=i._data();e=i._get(e),e&&e[0]&&!e.hasClass(f)&&(r&&r.removeClass(f),s=o.List.inArray(e[0],i.ul[0]),s>-1&&(l=l[s],a=i._text(l),n=i._value(l),i.selectedIndex=s,i.text(a),i._accessor(n!==t?n:a,s),i._selectedValue=i._accessor(),i.current(e.addClass(f)),i._optionID&&i._current.attr("aria-selected",!0)))},_mobile:function(){var e=this,t=e.popup,n=t.element.parents(".km-root").eq(0);n.length&&i&&(t.options.animation.open.effects=i.android||i.meego?"fadeIn":i.ios?"slideIn:up":t.options.animation.open.effects)},_span:function(){var t,n=this,a=n.wrapper,o="span.k-input";t=a.find(o),t[0]||(a.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=a.find(o)),n.span=t,n._inputWrapper=e(a[0].firstChild),n._arrow=a.find(".k-icon").mousedown(function(e){e.preventDefault()})},_wrapper:function(){var e,t=this,n=t.element,a=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=a.style.cssText),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(a.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var e=this,n=e.options.optionLabel;return e.dataSource.view()[0]&&n?(e.select(0),t):(e.text(n),e.element.val(""),e.selectedIndex=-1,t)}});o.plugin(m)})(window.kendo.jQuery);;(function(e){function t(l,s){l.filters&&(l.filters=e.grep(l.filters,function(e){return t(e,s),e.filters?e.filters.length:e.field!=s}))}function l(e){var t,l,s,a,r,i;if(e&&e.length)for(i=[],t=0,l=e.length;l>t;t++)s=e[t],r=s.text||s.value||s,a=null==s.value?s.text||s:s.value,i[t]={text:r,value:a};return i}var s=window.kendo,a=s.ui,r=e.proxy,i="kendoPopup",n=".kendoFilterMenu",o="Is equal to",d="Is not equal to",f={number:"numerictextbox",date:"datepicker"},u=e.isFunction,c=a.Widget,p='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',v='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',g=c.extend({init:function(t,a){var o,d,g,m,b=this,h="string",k=a.ui,x=u(k);c.fn.init.call(b,t,a),m=a.operators||{},t=b.element,a=b.options,a.appendToElement?b.link=e():(d=t.addClass("k-filterable").find(".k-grid-filter"),d[0]||(d=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),d.attr("tabindex",-1).on("click"+n,r(b._click,b))),b._refreshHandler=r(b.refresh,b),b.dataSource=a.dataSource.bind("change",b._refreshHandler),b.field=a.field||t.attr(s.attr("field")),b.model=b.dataSource.reader.model,b._parse=function(e){return e+""},b.model&&b.model.fields&&(g=b.model.fields[b.field],g&&(h=g.type||"string",g.parse&&(b._parse=r(g.parse,g)))),a.values&&(h="enums"),m=m[h]||a.operators[h];var _;for(_ in m)break;b._defaultFilter=function(){return{field:b.field,operator:_||"eq",value:""}},x||(o=k||f[h]),b.form=e('<form class="k-filter-menu"/>').html(s.template("boolean"===h?p:v)({field:b.field,ns:s.ns,messages:a.messages,extra:a.extra,operators:m,type:h,role:o,values:l(a.values)})).on("keydown"+n,r(b._keydown,b)).on("submit"+n,r(b._submit,b)).on("reset"+n,r(b._reset,b)),a.appendToElement?(t.append(b.form),b.popup=b.element.closest(".k-popup").data(i)):(b.popup=b.form[i]({anchor:d,open:r(b._open,b),activate:r(b._activate,b),close:b.options.closeCallback}).data(i),b.link=d),x&&b.form.find(".k-textbox").removeClass("k-textbox").each(function(){k(e(this))}),b.form.find("["+s.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+s.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+s.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+s.attr("role")+"=datepicker]").removeClass("k-textbox"),b.refresh()},refresh:function(){var e=this,t=e.dataSource.filter()||{filters:[],logic:"and"};e.filterModel=s.observable({logic:"and",filters:[e._defaultFilter(),e._defaultFilter()]}),s.bind(e.form.children().first(),e.filterModel),e._bind(t)?e.link.addClass("k-state-active"):e.link.removeClass("k-state-active")},destroy:function(){var e=this;c.fn.destroy.call(e),s.unbind(e.form),s.destroy(e.form),e.form.unbind(n),e.popup.destroy(),e.link.unbind(n),e.dataSource.unbind("change",e._refreshHandler)},_bind:function(e){var t,l,s,a,r=this,i=e.filters,n=!1,o=0,d=r.filterModel;for(t=0,l=i.length;l>t;t++)a=i[t],a.field==r.field?(d.set("logic",e.logic),s=d.filters[o],s||(d.filters.push({field:r.field}),s=d.filters[o]),s.set("value",r._parse(a.value)),s.set("operator",a.operator),o++,n=!0):a.filters&&(n=n||r._bind(a));return n},_merge:function(l){var s,a,r,i=this,n=l.logic||"and",o=l.filters,d=i.dataSource.filter()||{filters:[],logic:"and"};for(t(d,i.field),o=e.grep(o,function(e){return""!==e.value}),a=0,r=o.length;r>a;a++)s=o[a],s.value=i._parse(s.value);return o.length&&(d.filters.length?(l.filters=o,"and"!==d.logic&&(d.filters=[{logic:d.logic,filters:d.filters}],d.logic="and"),o.length>1?d.filters.push(l):d.filters.push(o[0])):(d.filters=o,d.logic=n)),d},filter:function(e){e=this._merge(e),e.filters.length&&this.dataSource.filter(e)},clear:function(){var t=this,l=t.dataSource.filter()||{filters:[]};l.filters=e.grep(l.filters,function(l){return l.filters?(l.filters=e.grep(l.filters,function(e){return e.field!=t.field}),l.filters.length):l.field!=t.field}),l.filters.length||(l=null),t.dataSource.filter(l)},_submit:function(e){var t=this;e.preventDefault(),t.filter(t.filterModel.toJSON()),t.popup.close()},_reset:function(){this.clear(),this.popup.close()},_click:function(e){e.preventDefault(),e.stopPropagation(),this.popup.toggle()},_open:function(){var t;e(".k-filter-menu").not(this.form).each(function(){t=e(this).data(i),t&&t.close()})},_activate:function(){this.form.find(":focusable:first").focus()},_keydown:function(e){e.keyCode==s.keys.ESC&&this.popup.close()},options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:o,neq:d,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:o,neq:d,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:o,neq:d,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:o,neq:d}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-"}}});a.plugin(g)})(window.kendo.jQuery);;(function(e,t){function n(e,t){return e=e.split(" ")[!t+0]||e,e.replace("top","up").replace("bottom","down")}function i(e,t,n){e=e.split(" ")[!t+0]||e;var i={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},r=/left|right/.test(e);return r?(i.origin=["top",e],i.position[1]=l.directions[e].reverse):(i.origin[0]=e,i.position[0]=l.directions[e].reverse),i.origin=i.origin.join(" "),i.position=i.position.join(" "),i}function r(t,n){try{return e.contains(t,n)}catch(i){return!1}}function o(t){t=e(t),t.addClass("k-item").children(w).addClass(P),t.children("a").addClass(I).children(w).addClass(P),t.filter(":not([disabled])").addClass(z),t.filter(".k-separator:empty").append("&nbsp;"),t.filter("li[disabled]").addClass(G).removeAttr("disabled").attr("aria-disabled",!0),t.children("a").filter(":focus").parent().addClass(N),t.filter("[role]").length||t.attr("role","menuitem"),t.children("."+I).length||t.contents().filter(function(){return!(this.nodeName.match(C)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll("<span class='"+I+"'/>"),a(t),s(t)}function a(t){t=e(t),t.find("> .k-link > [class*=k-i-arrow]").remove(),t.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=e(this),n=t.parent().parent();t.append("<span class='k-icon "+(n.hasClass(H+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function s(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(D),t.filter(".k-last:not(:last-child)").removeClass(T),t.filter(":first-child").addClass(D),t.filter(":last-child").addClass(T)}var l=window.kendo,c=l.ui,d=l.support.touch&&l.support.mobileOS,p=d||l.support.pointers,u=l.support.mousedown,m=l.support.click,f=e.extend,h=e.proxy,g=e.each,v=l.template,k=l.keys,_=c.Widget,C=/^(ul|a|div)$/i,b=".kendoMenu",w="img",x="open",H="k-menu",I="k-link",T="k-last",y="close",A="timer",D="k-first",P="k-image",O="select",R="zIndex",U=l.support.pointers?"MSPointerOver":"mouseenter",E=l.support.pointers?"MSPointerOut":"mouseleave",S="kendoPopup",z="k-state-default",L="k-state-hover",B="k-state-focused",G="k-state-disabled",M=".k-group",N="k-state-active",W=":not(.k-list) > .k-item",j=".k-item.k-state-disabled",V=".k-item:not(.k-state-disabled)",q=".k-item:not(.k-state-disabled) > .k-link",Z=":not(.k-item.k-separator)",$=Z+":eq(0)",F=Z+":last",Q="div:not(.k-animation-container,.k-list-container)",J={content:v("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:v("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:v("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:v("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:v("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:v("<span class='#= arrowClass(item, group) #'></span>"),sprite:v("<span class='k-sprite #= spriteCssClass #'></span>"),empty:v("")},K={wrapperCssClass:function(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n},textClass:function(){return I},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e,t){var n="k-icon";return n+=t.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(e){return e.encoded===!1?e.text:l.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(e){return e.content?e.content:"&nbsp;"}},X=_.extend({init:function(t,n){var i=this;_.fn.init.call(i,t,n),t=i.wrapper=i.element,n=i.options,i._initData(n),i._updateClasses(),i._animations(n),i.nextItemZIndex=100,i._tabindex(),i._focusProxy=h(i._focusHandler,i),t.on("touchstart MSPointerDown",i._focusProxy).on(m+b,j,!1).on(m+b,V,h(i._click,i)).on("keydown"+b,h(i._keydown,i)).on("focus"+b,h(i._focus,i)).on("focus"+b,".k-content",h(i._focus,i)).on("blur"+b,h(i._removeHoverItem,i)).on(U+b,V,h(i._mouseenter,i)).on(E+b,V,h(i._mouseleave,i)).on(U+b+" "+E+b+" "+u+b+" "+m+b,q,h(i._toggleHover,i)),n.openOnClick&&(i.clicked=!1,i._documentClickHandler=h(i._documentClick,i),e(document).click(i._documentClickHandler)),t.attr("role","menubar"),t[0].id&&(i._ariaId=l.format("{0}_mn_active",t[0].id)),l.notify(i)},events:[x,y,O],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},_initData:function(e){var t=this;e.dataSource&&(t.element.empty(),t.append(e.dataSource,t.element))},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=f(!0,t,e.animation),"dataSource"in e&&this._initData(e),_.fn.setOptions.call(this,e)},destroy:function(){var t=this;_.fn.destroy.call(t),t.element.off(b),t._documentClickHandler&&e(document).unbind("click",t._documentClickHandler)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find("> .k-group, > .k-animation-container > .k-group"):null);return g(n.items,function(){n.group.append(this),a(this)}),a(t),s(n.group.find(".k-first, .k-last").add(n.items)),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return g(n.items,function(){t.before(this),a(this),s(this)}),s(t),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return g(n.items,function(){t.after(this),a(this),s(this)}),s(t),this},_insert:function(t,n,i){var r,a,s=this;n&&n.length||(i=s.element);var l=e.isPlainObject(t),c={firstLevel:i.hasClass(H),horizontal:i.hasClass(H+"-horizontal"),expanded:!0,length:i.children().length};return n&&!i.length&&(i=e(X.renderGroup({group:c})).appendTo(n)),l||e.isArray(t)?r=e.map(l?[t]:t,function(t,n){return"string"==typeof t?e(t):e(X.renderItem({group:c,item:f(t,{index:n})}))}):(r=e(t),a=r.find("> ul").addClass("k-group").attr("role","menu"),r=r.filter("li"),r.add(a.find("> li")).each(function(){o(this)})),{items:r,group:i}},remove:function(e){e=this.element.find(e);var t=this,n=e.parentsUntil(t.element,W),i=e.parent("ul");if(e.remove(),i&&!i.children(W).length){var r=i.parent(".k-animation-container");r.length?r.remove():i.remove()}return n.length&&(n=n.eq(0),a(n),s(n)),t},open:function(r){var o=this,a=o.options,s="horizontal"==a.orientation,c=a.direction,d=l.support.isRtl(o.wrapper);return r=o.element.find(r),/^(top|bottom|default)$/.test(c)&&(c=d?s?(c+" left").replace("default","bottom"):"left":s?(c+" right").replace("default","bottom"):"right"),r.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=e(this).data("kendoPopup");t&&t.close()}),r.each(function(){var r=e(this);clearTimeout(r.data(A)),r.data(A,setTimeout(function(){var e,l=r.find(".k-group:first:hidden");if(l[0]&&o.trigger(x,{item:r[0]})===!1){r.data(R,r.css(R)),r.css(R,o.nextItemZIndex++),e=l.data(S);var p=r.parent().hasClass(H),u=p&&s,m=i(c,p,d),h=a.animation.open.effects,g=h!==t?h:"slideIn:"+n(c,p);e?(e=l.data(S),e.options.origin=m.origin,e.options.position=m.position,e.options.animation.open.effects=g):e=l.kendoPopup({origin:m.origin,position:m.position,collision:a.popupCollision!==t?a.popupCollision:u?"fit":"fit flip",anchor:r,appendTo:r,animation:{open:f(!0,{effects:g},a.animation.open),close:a.animation.close},close:function(e){var t=e.sender.wrapper.parent();o.trigger(y,{item:t[0]})?e.preventDefault():(t.css(R,t.data(R)),t.removeData(R))}}).data(S),l.removeAttr("aria-hidden"),e.open()}},o.options.hoverDelay))}),o},close:function(t){var n=this,i=n.element;return t=i.find(t),t.length||(t=i.find(">.k-item")),t.each(function(){var t=e(this);clearTimeout(t.data(A)),t.data(A,setTimeout(function(){var e=t.find(".k-group:first:visible").data(S);e&&(e.close(),e.element.attr("aria-hidden",!0))},n.options.hoverDelay))}),n},_toggleDisabled:function(t,n){this.element.find(t).each(function(){e(this).toggleClass(z,n).toggleClass(G,!n).attr("aria-disabled",!n)})},_toggleHover:function(t){var n=e(l.eventTarget(t)||t.target).closest(W),i=t.type==U||-1!==u.indexOf(t.type);n.parents("li."+G).length||n.toggleClass(L,i),this._removeHoverItem()},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass(B)&&(e.removeClass(B),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element;t.addClass("k-widget k-reset k-header "+H).addClass(H+"-"+this.options.orientation),t.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-group > li"),e.each(function(){o(this)})},_mouseenter:function(t){var n=this,i=e(t.currentTarget),o=i.children(".k-animation-container").length||i.children(M).length;t.delegateTarget==i.parents(".k-menu")[0]&&((!n.options.openOnClick||n.clicked)&&!r(t.currentTarget,t.relatedTarget)&&o&&n.open(i),(n.options.openOnClick&&n.clicked||p)&&i.siblings().each(h(function(e,t){n.close(t)},n)))},_mouseleave:function(n){var i=this,o=e(n.currentTarget),a=o.children(".k-animation-container").length||o.children(M).length;return o.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(n.stopImmediatePropagation(),t):(i.options.openOnClick||d||l.support.pointers&&2==n.originalEvent.pointerType||r(n.currentTarget,n.relatedTarget)||!a||i.close(o),t)},_click:function(n){var i,r,o,a=this,s=a.options,c=e(l.eventTarget(n)),d=c[0]?c[0].nodeName.toUpperCase():"",p="INPUT"==d||"SELECT"==d||"BUTTON"==d,u=c.closest("."+I),m=c.closest(W),f=u.attr("href"),h=!!f&&"#"!=f.charAt(f.length-1);if(!m.children(Q)[0])return m.hasClass(G)?(n.preventDefault(),t):(n.handled||!a.trigger(O,{item:m[0]})||p||n.preventDefault(),n.handled=!0,r=m.children(M+",.k-animation-container"),o=r.is(":visible"),s.closeOnClick&&!h&&(!r.length||s.openOnClick&&o)?(m.removeClass(L).css("height"),a._oldHoverItem=a._findRootParent(m),a.close(u.parentsUntil(a.element,W)),a.clicked=!1,-1!="touchend MSPointerUp".indexOf(n.type)&&n.preventDefault(),t):((m.parent().hasClass(H)&&s.openOnClick||l.support.touch)&&(h||p||n.preventDefault(),a.clicked=!0,i=r.is(":visible")?y:x,a[i](m)),t))},_documentClick:function(e){r(this.element[0],e.target)||(this.clicked=!1)},_focus:function(n){var i=this,r=n.target,o=i._hoverItem();return r!=i.wrapper[0]?(n.stopPropagation(),e(r).closest(".k-content").closest(".k-group").closest(".k-item").addClass(B),i.wrapper.focus(),t):(r==i.wrapper[0]&&o.length?i._moveHover([],o):r!=i.wrapper[0]||i._oldHoverItem||document.activeElement==i.wrapper[0]||i._moveHover([],i.wrapper.children().first()),t)},_keydown:function(e){var n,i,r,o=this,a=e.keyCode,s=o._oldHoverItem,c=l.support.isRtl(o.wrapper);if(e.target==e.currentTarget||a==k.ESC){if(s||(s=o._oldHoverItem=o._hoverItem()),i=o._itemBelongsToVertival(s),r=o._itemHasChildren(s),a==k.RIGHT)n=o[c?"_itemLeft":"_itemRight"](s,i,r);else if(a==k.LEFT)n=o[c?"_itemRight":"_itemLeft"](s,i,r);else if(a==k.DOWN)n=o._itemDown(s,i,r);else if(a==k.UP)n=o._itemUp(s,i,r);else if(a==k.ESC)n=o._itemEsc(s,i);else if(a==k.ENTER||a==k.SPACEBAR)n=s.children(".k-link"),n.length>0&&(o._click({target:n[0],preventDefault:function(){}}),o._moveHover(s,o._findRootParent(s)));else if(a==k.TAB)return n=o._findRootParent(s),o.close(n),o._moveHover(s,n),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length?e.parent().hasClass("k-group")||t:t},_itemHasChildren:function(e){return e.length?e.children("ul.k-group, div.k-animation-container").length>0:!1},_moveHover:function(e,t){var n=this,i=n._ariaId;e.length&&t.length&&(e.removeClass(B),e[0].id===i&&e.removeAttr("id")),t.length&&(t[0].id&&(i=t[0].id),t.addClass(B),n._oldHoverItem=t,i&&(n.element.removeAttr("aria-activedescendant"),t.attr("id",i),n.element.attr("aria-activedescendant",i)))},_findRootParent:function(e){return e.parent().hasClass("k-menu")?e:e.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass("k-menu")},_itemRight:function(e,t,n){var i,r,o=this;return t?n?(o.open(e),i=e.find(".k-group").children().first()):"horizontal"==o.options.orientation&&(r=o._findRootParent(e),o.close(r),i=r.nextAll($)):(i=e.nextAll($),i.length||(i=e.prevAll(F))),i&&!i.length?i=o.wrapper.children(".k-item").first():i||(i=[]),o._moveHover(e,i),i},_itemLeft:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._isRootItem(n)&&"horizontal"==i.options.orientation&&(n=n.prevAll($))):(n=e.prevAll($),n.length||(n=e.nextAll(F))),n.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n},_itemDown:function(e,t,n){var i,r=this;if(t)i=e.nextAll($);else{if(!n||e.hasClass(G))return;r.open(e),i=e.find(".k-group").children().first()}return!i.length&&e.length?i=e.parent().children().first():e.length||(i=r.wrapper.children(".k-item").first()),r._moveHover(e,i),i},_itemUp:function(e,t){var n,i=this;if(t)return n=e.prevAll($),!n.length&&e.length?n=e.parent().children().last():e.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n},_itemEsc:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._moveHover(e,n),n):e},_focusHandler:function(t){var n=this,i=e(l.eventTarget(t)).closest(W);setTimeout(function(){n._moveHover([],i),i.children(".k-content")[0]&&i.parent().closest(".k-item").removeClass(B)},200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});f(X,{renderItem:function(e){e=f({menu:{},group:{}},e);var t=J.empty,n=e.item;return J.item(f(e,{image:n.imageUrl?J.image:t,sprite:n.spriteCssClass?J.sprite:t,itemWrapper:J.itemWrapper,renderContent:X.renderContent,arrow:n.items||n.content?J.arrow:t,subGroup:X.renderGroup},K))},renderGroup:function(e){return J.group(f({renderItems:function(e){for(var t="",n=0,i=e.items,r=i?i.length:0,o=f({length:r},e.group);r>n;n++)t+=X.renderItem(f(e,{group:o,item:f({index:n},i[n])}));return t}},e,K))},renderContent:function(e){return J.content(f(e,K))}}),l.ui.plugin(X)})(window.kendo.jQuery);;(function(e,n){function s(n){return e.trim(n).replace(/&nbsp;/gi,"")}var t=window.kendo,l=t.ui,i=e.proxy,o=e.extend,r=e.grep,a=e.map,u=e.inArray,c="k-state-selected",d="asc",f="desc",p="change",m="kendoPopup",k="kendoFilterMenu",h="kendoMenu",w=".kendoColumnMenu",b=/(\[|\]|\$|\.|\:|\+)/g,C=l.Widget,_=C.extend({init:function(n,s){var l,o=this;C.fn.init.call(o,n,s),n=o.element,s=o.options,o.owner=s.owner,o.dataSource=s.dataSource,o.field=n.attr(t.attr("field")),l=n.find(".k-header-column-menu"),l[0]||(l=n.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),o.link=l.attr("tabindex",-1).on("click"+w,i(o._click,o)),o.wrapper=e('<div class="k-column-menu"/>'),o.wrapper.html(t.template(v)({ns:t.ns,messages:s.messages,sortable:s.sortable,filterable:s.filterable,columns:o._ownerColumns(),showColumns:s.columns})),o.popup=o.wrapper[m]({anchor:l,open:i(o._open,o),activate:i(o._activate,o),close:o.options.closeCallback}).data(m),o._menu(),o._sort(),o._columns(),o._filter()},options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns"},columns:!0,sortable:!0,filterable:!0},destroy:function(){var e=this;C.fn.destroy.call(e),e.filterMenu&&e.filterMenu.destroy(),e.dataSource.unbind("refresh",e._refreshHandler),e.options.columns&&(e.owner.unbind("columnShow",e._updateColumnsMenuHandler),e.owner.unbind("columnHide",e._updateColumnsMenuHandler)),e.menu.element.off(w),e.menu.destroy(),e.wrapper.off(w),e.popup.destroy(),e.link.off(w)},close:function(){this.menu.close(),this.popup.close(),this.popup.element.off("keydown"+w)},_click:function(e){e.preventDefault(),e.stopPropagation(),this.popup.toggle()},_open:function(){var n=this;e(".k-column-menu").not(n.wrapper).each(function(){e(this).data(m).close()}),n.popup.element.on("keydown"+w,function(e){e.keyCode==t.keys.ESC&&n.close()})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var e=this.owner.columns,n=r(e,function(e){var n=!0,t=s(e.title||"");return(e.menu===!1||!e.field&&!t.length)&&(n=!1),n});return a(n,function(n){return{field:n.field||n.title,title:n.title||n.field,hidden:n.hidden,index:u(n,e)}})},_menu:function(){this.menu=this.wrapper.children()[h]({orientation:"vertical",closeOnClick:!1}).data(h)},_sort:function(){var n=this;n.options.sortable&&(n.refresh(),n._refreshHandler=i(n.refresh,n),n.dataSource.bind(p,n._refreshHandler),n.menu.element.on("click"+w,".k-sort-asc, .k-sort-desc",function(){var s=e(this),t=s.hasClass("k-sort-asc")?d:f;s.parent().find(".k-sort-"+(t==d?f:d)).removeClass(c),n._sortDataSource(s,t),n.close()}))},_sortDataSource:function(e,s){var t,l,i=this,o=i.options.sortable,r=i.dataSource,a=r.sort()||[];if(e.hasClass(c)&&o&&o.allowUnsort!==!1?(e.removeClass(c),s=n):e.addClass(c),o===!0||"single"===o.mode)a=[{field:i.field,dir:s}];else{for(t=0,l=a.length;l>t;t++)if(a[t].field===i.field){a.splice(t,1);break}a.push({field:i.field,dir:s})}r.sort(a)},_columns:function(){var n=this;n.options.columns&&(n._updateColumnsMenu(),n._updateColumnsMenuHandler=i(n._updateColumnsMenu,n),n.owner.bind(["columnHide","columnShow"],n._updateColumnsMenuHandler),n.menu.bind("select",function(s){var l,i,o,a,c=e(s.item),d=n.owner.columns;c.parent().closest("li.k-columns-item")[0]&&(l=c.find(":checkbox"),l.attr("disabled")||(a=l.attr(t.attr("field")),o=r(d,function(e){return e.field==a||e.title==a})[0],i=u(o,d),o.hidden===!0?n.owner.showColumn(i):n.owner.hideColumn(i)))}))},_updateColumnsMenu:function(){var e="["+t.attr("field")+"=",n=this._ownerColumns(),s=a(n,function(n){return e+n.field.replace(b,"\\$1")+"]"}).join(","),l=r(n,function(e){return!e.hidden}),i=a(l,function(n){return e+n.field.replace(b,"\\$1")+"]"}).join(",");this.wrapper.find(s).attr("checked",!1),this.wrapper.find(i).attr("checked",!0).attr("disabled",1==l.length)},_filter:function(){var e=this,n=e.options;n.filterable!==!1&&(e.filterMenu=e.wrapper.find(".k-filterable")[k](o(!0,{},{appendToElement:!0,dataSource:n.dataSource,values:n.values,field:e.field},n.filterable)).data(k))},refresh:function(){var e,n,s,t=this,l=t.options.dataSource.sort()||[],i=t.field;for(t.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(c),n=0,s=l.length;s>n;n++)e=l[n],i==e.field&&t.wrapper.find(".k-sort-"+e.dir).addClass(c)}}),v='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var col in columns) {#<li><input type="checkbox" data-#=ns#field="#=columns[col].field#" data-#=ns#index="#=columns[col].index#"/>#=columns[col].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';l.plugin(_)})(window.kendo.jQuery);;(function(t){function e(t){return t.position().top+3}var a=window.kendo,r=a.ui.Widget,n=t.proxy,i=".kendoGroupable",o=a.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),d=function(e){return t('<div class="k-header k-drag-clue" />').css({width:e.width(),paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight"),lineHeight:e.height()+"px",paddingTop:e.css("paddingTop"),paddingBottom:e.css("paddingBottom")}).html(e.attr(a.attr("title"))||e.attr(a.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},s=t('<div class="k-grouping-dropclue"/>'),l=/(\[|\]|\$|\.|\:|\+)/g,g=r.extend({init:function(o,l){var g,c,u=this,p=a.guid(),f=n(u._intializePositions,u),h=u._dropCuePositions=[];r.fn.init.call(u,o,l),u.draggable=c=u.options.draggable||new a.ui.Draggable(u.element,{filter:u.options.draggableElements,hint:d,group:p}),g=u.groupContainer=t(u.options.groupContainer,u.element).kendoDropTarget({group:c.options.group,dragenter:function(t){u._canDrag(t.draggable.currentTarget)&&(t.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),s.css({top:e(g),left:0}).appendTo(g))},dragleave:function(t){t.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),s.remove()},drop:function(e){var r,n=e.draggable.currentTarget,i=n.attr(a.attr("field")),o=n.attr(a.attr("title")),d=u.indicator(i),l=u._dropCuePositions,g=l[l.length-1];(n.hasClass("k-group-indicator")||u._canDrag(n))&&(g?(r=u._dropCuePosition(s.offset().left+parseInt(g.element.css("marginLeft"),10)+parseInt(g.element.css("marginRight"),10)),r&&u._canDrop(t(d),r.element,r.left)&&(r.before?r.element.before(d||u.buildIndicator(i,o)):r.element.after(d||u.buildIndicator(i,o)),u._change())):(u.groupContainer.append(u.buildIndicator(i,o)),u._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:d,group:c.options.group,dragcancel:n(u._dragCancel,u),dragstart:function(t){var a=t.currentTarget,r=parseInt(a.css("marginLeft"),10),n=a.position().left-r;f(),s.css({top:e(g),left:n}).appendTo(g),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){u._dragEnd(this)},drag:n(u._drag,u)}).on("click"+i,".k-button",function(e){e.preventDefault(),u._removeIndicator(t(this).parent())}).on("click"+i,".k-link",function(e){var r=t(this).parent(),n=u.buildIndicator(r.attr(a.attr("field")),r.attr(a.attr("title")),"asc"==r.attr(a.attr("dir"))?"desc":"asc");r.before(n).remove(),u._change(),e.preventDefault()}),c.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){u._dragEnd(this)},dragcancel:n(u._dragCancel,u),dragstart:function(t){var e,a,r;return u.options.allowDrag||u._canDrag(t.currentTarget)?(f(),h.length?(e=h[h.length-1].element,a=parseInt(e.css("marginRight"),10),r=e.position().left+e.outerWidth()+a):r=0,undefined):(t.preventDefault(),undefined)},drag:n(u._drag,u)}),u.dataSource=u.options.dataSource,u.dataSource&&(u._refreshHandler=n(u.refresh,u),u.dataSource.bind("change",u._refreshHandler))},refresh:function(){var e=this,r=e.dataSource;e.groupContainer.empty().append(t.map(r.group()||[],function(t){var r=t.field.replace(l,"\\$1"),n=e.element.find(e.options.filter).filter("["+a.attr("field")+"="+r+"]");return e.buildIndicator(t.field,n.attr(a.attr("title")),t.dir)}).join("")),e._invalidateGroupContainer()},destroy:function(){var t=this;r.fn.destroy.call(t),t.groupContainer.off(i).kendoDropTarget("destroy").kendoDraggable("destroy"),t.options.draggable||t.draggable.destroy(),t.dataSource&&t._refreshHandler&&t.dataSource.unbind("change",t._refreshHandler)},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(e){var r=t(".k-group-indicator",this.groupContainer);return t.grep(r,function(r){return t(r).attr(a.attr("field"))===e})[0]},buildIndicator:function(t,e,r){return o({field:t,dir:r,title:e,ns:a.ns})},descriptors:function(){var e,r,n,i,o,d=this,s=t(".k-group-indicator",d.groupContainer);return e=d.element.find(d.options.filter).map(function(){var e=t(this),n=e.attr(a.attr("aggregates")),d=e.attr(a.attr("field"));if(n&&""!==n)for(r=n.split(","),n=[],i=0,o=r.length;o>i;i++)n.push({field:d,aggregate:r[i]});return n}).toArray(),t.map(s,function(r){return r=t(r),n=r.attr(a.attr("field")),{field:n,dir:r.attr(a.attr("dir")),aggregates:e||[]}})},_removeIndicator:function(t){var e=this;t.remove(),e._invalidateGroupContainer(),e._change()},_change:function(){var t=this;t.dataSource&&t.dataSource.group(t.descriptors())},_dropCuePosition:function(e){var a=this._dropCuePositions;if(s.is(":visible")&&0!==a.length){e=Math.ceil(e);var r=a[a.length-1],n=r.right,i=parseInt(r.element.css("marginLeft"),10),o=parseInt(r.element.css("marginRight"),10);return e>=n?e={left:r.element.position().left+r.element.outerWidth()+o,element:r.element,before:!1}:(e=t.grep(a,function(t){return e>=t.left&&t.right>=e})[0],e&&(e={left:e.element.position().left-i,element:e.element,before:!0})),e}},_drag:function(t){var e=a.touchLocation(t),r=this._dropCuePosition(e.x);r&&s.css({left:r.left})},_canDrag:function(t){var e=t.attr(a.attr("field"));return"false"!=t.attr(a.attr("groupable"))&&e&&(t.hasClass("k-group-indicator")||!this.indicator(e))},_canDrop:function(t,e,a){var r=t.next();return t[0]!==e[0]&&(!r[0]||e[0]!==r[0]||a>r.position().left)},_dragEnd:function(e){var r=this,n=e.currentTarget.attr(a.attr("field")),i=r.indicator(n);e!==r.options.draggable&&!e.dropped&&i&&r._removeIndicator(t(i)),r._dragCancel()},_dragCancel:function(){s.remove(),this._dropCuePositions=[]},_intializePositions:function(){var e,a=this,r=t(".k-group-indicator",a.groupContainer);a._dropCuePositions=t.map(r,function(a){return a=t(a),e=a.offset().left,{left:parseInt(e,10),right:parseInt(e+a.outerWidth(),10),element:a}})},_invalidateGroupContainer:function(){var t=this.groupContainer;t.is(":empty")&&t.html(this.options.messages.empty)}});a.ui.plugin(g)})(window.kendo.jQuery);;(function(e,t){function a(e,t,a,n){return e({idx:t,text:a,ns:p.ns,numeric:n})}function n(e,t){return w({className:e.substring(1),text:t})}function s(e,t,a,n){e.find(t).parent().attr(p.attr("page"),a).attr("tabindex",-1).toggleClass("k-state-disabled",n)}function i(e,t){s(e,m,1,1>=t)}function r(e,t){s(e,c,Math.max(1,t-1),1>=t)}function l(e,t,a){s(e,h,Math.min(a,t+1),t>=a)}function o(e,t,a){s(e,f,a,t>=a)}var p=window.kendo,d=p.ui,g=d.Widget,u=e.proxy,m=".k-i-seek-w",f=".k-i-seek-e",c=".k-i-arrow-w",h=".k-i-arrow-e",k="change",S=".kendoPager",x="click",v="keydown",b="disabled",w=p.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),z=g.extend({init:function(t,a){var s,d,b=this;g.fn.init.call(b,t,a),a=b.options,b.dataSource=p.data.DataSource.create(a.dataSource),b.linkTemplate=p.template(b.options.linkTemplate),b.selectTemplate=p.template(b.options.selectTemplate),s=b.page(),d=b.totalPages(),b._refreshHandler=u(b.refresh,b),b.dataSource.bind(k,b._refreshHandler),a.previousNext&&(b.element.find(m).length||(b.element.append(n(m,a.messages.first)),i(b.element,s,d)),b.element.find(c).length||(b.element.append(n(c,a.messages.previous)),r(b.element,s,d))),a.numeric&&(b.list=b.element.find(".k-pager-numbers"),b.list.length||(b.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(b.element))),a.input&&(b.element.find(".k-pager-input").length||b.element.append('<span class="k-pager-input k-label">'+a.messages.page+'<input class="k-textbox">'+p.format(a.messages.of,d)+"</span>"),b.element.on(v+S,".k-pager-input input",u(b._keydown,b))),a.previousNext&&(b.element.find(h).length||(b.element.append(n(h,a.messages.next)),l(b.element,s,d)),b.element.find(f).length||(b.element.append(n(f,a.messages.last)),o(b.element,s,d))),a.pageSizes&&(b.element.find(".k-pager-sizes").length||e('<span class="k-pager-sizes k-label"><select/>'+a.messages.itemsPerPage+"</span>").appendTo(b.element).find("select").html(e.map(e.isArray(a.pageSizes)?a.pageSizes:[5,10,20],function(e){return"<option>"+e+"</option>"}).join("")).end().appendTo(b.element),b.element.find(".k-pager-sizes select").val(b.pageSize()),p.ui.DropDownList&&b.element.find(".k-pager-sizes select").show().kendoDropDownList(),b.element.on(k+S,".k-pager-sizes select",u(b._change,b))),a.refresh&&(b.element.find(".k-pager-refresh").length||b.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+a.messages.refresh+'"><span class="k-icon k-i-refresh">'+a.messages.refresh+"</span></a>"),b.element.on("touchend"+S+" "+x+S,".k-pager-refresh",u(b._refreshClick,b))),a.info&&(b.element.find(".k-pager-info").length||b.element.append('<span class="k-pager-info k-label" />')),b.element.on("touchend"+S+" "+x+S,"a",u(b._click,b)).addClass("k-pager-wrap k-widget"),a.autoBind&&b.refresh(),p.notify(b)},destroy:function(){var e=this;g.fn.destroy.call(e),e.element.off(S),e.dataSource.unbind(k,e._refreshHandler)},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(e){var t=this;t.dataSource.unbind(k,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(k,t._refreshHandler),t.options.autoBind&&e.fetch()},refresh:function(){var e,t,n,s=this,d=1,g="",u=s.page(),m=s.options,f=s.pageSize(),c=s.dataSource.total(),h=s.totalPages(),k=s.linkTemplate,S=m.buttonCount;if(m.numeric){for(u>S&&(n=u%S,d=0===n?u-S+1:u-n+1),t=Math.min(d+S-1,h),d>1&&(g+=a(k,d-1,"...",!1)),e=d;t>=e;e++)g+=a(e==u?s.selectTemplate:k,e,e,!0);h>t&&(g+=a(k,e,"...",!1)),""===g&&(g=s.selectTemplate({text:0})),s.list.html(g)}m.info&&(g=c>0?p.format(m.messages.display,(u-1)*f+1,Math.min(u*f,c),c):m.messages.empty,s.element.find(".k-pager-info").html(g)),m.input&&s.element.find(".k-pager-input").html(s.options.messages.page+'<input class="k-textbox">'+p.format(m.messages.of,h)).find("input").val(u).attr(b,1>c).toggleClass("k-state-disabled",1>c),m.previousNext&&(i(s.element,u,h),r(s.element,u,h),l(s.element,u,h),o(s.element,u,h)),m.pageSizes&&s.element.find(".k-pager-sizes select").val(f).filter("["+p.attr("role")+"=dropdownlist]").kendoDropDownList("value",f).kendoDropDownList("text",f)},_keydown:function(e){if(e.keyCode===p.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),a=parseInt(t.val(),10);(isNaN(a)||1>a||a>this.totalPages())&&(a=this.page()),t.val(a),this.page(a)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var t=parseInt(e.currentTarget.value,10);isNaN(t)||this.dataSource.pageSize(t)},_click:function(t){var a=e(t.currentTarget);t.preventDefault(),a.is(".k-state-disabled")||this.page(a.attr(p.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e===t?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(e),this.trigger(k,{index:e}),t)}});d.plugin(z)})(window.kendo.jQuery);;(function(e){function t(e,t){var n=e.offset(),s=t.left+t.width,i=t.top+t.height;return n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(n.left>s||t.left>n.right||n.top>i||t.top>n.bottom)}function n(e,n,s,i){var l,a,o;for(l=0,a=e.length;a>l;l++)o=e.eq(l),t(o,s)?o.hasClass(r)?i&&n!==o[0]&&o.removeClass(r).addClass(v):o.hasClass(c)||o.hasClass(v)||o.addClass(c):o.hasClass(c)?o.removeClass(c):i&&o.hasClass(v)&&o.removeClass(v).addClass(r)}var s=window.kendo,i=s.ui.Widget,l=e.proxy,a=Math.abs,o="aria-selected",r="k-state-selected",c="k-state-selecting",f="k-selectable",u="change",d=".kendoSelectable",v="k-state-unselecting",h=!1;(function(e){(function(){e('<div class="parent"><span /></div>').on("click",">*",function(){h=!0}).find("span").click()})()})(e);var m=i.extend({init:function(t,n){var a,o=this;i.fn.init.call(o,t,n),o._marquee=e("<div class='k-marquee'></div>"),o._lastActive=null,o.element.addClass(f),a=o.options.multiple,o.userEvents=new s.UserEvents(o.element,{global:!0,allowSelection:!a,filter:(h?"":"."+f+" ")+o.options.filter,tap:l(o._tap,o)}),a&&o.userEvents.bind("start",l(o._start,o)).bind("move",l(o._move,o)).bind("end",l(o._end,o))},events:[u],options:{name:"Selectable",filter:">*",multiple:!1},_tap:function(t){var n,s=e(t.target),i=this,l=t.event.ctrlKey,a=i.options.multiple,o=a&&t.event.shiftKey;s.closest("."+f)[0]===i.element[0]&&(n=s.hasClass(r),a&&l||i.clear(),o?i.selectRange(i._firstSelectee(),s):(n&&l?(i._unselect(s),i._notify(u)):i.value(s),i._lastActive=i._downTarget=s))},_start:function(t){var n=this,s=e(t.target),i=s.hasClass(r),l=t.event.ctrlKey;return n._downTarget=s,s.closest("."+f)[0]!==n.element[0]?(n.userEvents.cancel(),n._downTarget=null,undefined):(n._marquee.appendTo(document.body).css({left:t.x.client+1,top:t.y.client+1,width:0,height:0}),l||n.clear(),i&&(n._selectElement(s,!0),l&&s.addClass(v)),undefined)},_move:function(e){var t=this,s={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:a(e.x.initialDelta),height:a(e.y.initialDelta)},i=t.element.find(t.options.filter);t._marquee.css(s),n(i,t._downTarget[0],s,e.event.ctrlKey),e.preventDefault()},_end:function(){var e=this;e._marquee.remove(),e._unselect(e.element.find(e.options.filter+"."+v)).removeClass(v),e.value(e.element.find(e.options.filter+"."+c)),e._lastActive=e._downTarget},value:function(e){var t=this,n=l(t._selectElement,t);return e?(e.each(function(){n(this)}),t._notify(u),undefined):t.element.find(t.options.filter+"."+r)},_firstSelectee:function(){var e,t=this;return null!==t._lastActive?t._lastActive:(e=t.value(),e.length>0?e[0]:t.element.find(t.options.filter))},_selectElement:function(t,n){var s=e(t),i=!n&&this._notify("select",{element:t});s.removeClass(c),i||(s.addClass(r),this.options.aria&&s.attr(o,!0))},_notify:function(e,t){return t=t||{},this.trigger(e,t)},_unselect:function(e){return e.removeClass(r),this.options.aria&&e.attr(o,!1),e},clear:function(){var e=this.element.find(this.options.filter+"."+r);this._unselect(e)},selectRange:function(t,n){var s,i,a,o,c=this,f=!1,d=c.element.find(c.options.filter),v=l(c._selectElement,c);for(t=e(t)[0],n=e(n)[0],s=0,i=d.length;i>s;s++)o=d[s],f?(v(o),f=o!==n):o===t?(f=t!==n,v(o)):o===n?(a=t,t=n,n=a,f=!0,v(o)):e(o).removeClass(r);c._notify(u)},destroy:function(){var e=this;i.fn.destroy.call(e),e.element.off(d),e.userEvents.destroy()}});s.ui.plugin(m)})(window.kendo.jQuery);;(function(e,r){var t=window.kendo,n=e.proxy,a="dir",i="asc",o="single",l="field",d="desc",s=".kendoSortable",c=".k-link",f="aria-sort",k=t.ui.Widget,u=k.extend({init:function(e,r){var t,a=this;k.fn.init.call(a,e,r),a._refreshHandler=n(a.refresh,a),a.dataSource=a.options.dataSource.bind("change",a._refreshHandler),t=a.element.find(c),t[0]||(t=a.element.wrapInner('<a class="k-link" href="#"/>').find(c)),a.link=t,a.element.on("click"+s,n(a._click,a))},options:{name:"Sortable",mode:o,allowUnsort:!0},destroy:function(){var e=this;k.fn.destroy.call(e),e.element.off(s),e.dataSource.unbind("change",e._refreshHandler)},refresh:function(){var r,n,o,s,c=this,k=c.dataSource.sort()||[],u=c.element,p=u.attr(t.attr(l));for(u.removeAttr(t.attr(a)),u.removeAttr(f),r=0,n=k.length;n>r;r++)o=k[r],p==o.field&&u.attr(t.attr(a),o.dir);s=u.attr(t.attr(a)),u.find(".k-i-arrow-n,.k-i-arrow-s").remove(),s===i?(e('<span class="k-icon k-i-arrow-n" />').appendTo(c.link),u.attr(f,"ascending")):s===d&&(e('<span class="k-icon k-i-arrow-s" />').appendTo(c.link),u.attr(f,"descending"))},_click:function(e){var n,s,c=this,f=c.element,k=f.attr(t.attr(l)),u=f.attr(t.attr(a)),p=c.options,h=c.dataSource.sort()||[];if(u=u===i?d:u===d&&p.allowUnsort?r:i,p.mode===o)h=[{field:k,dir:u}];else if("multiple"===p.mode){for(n=0,s=h.length;s>n;n++)if(h[n].field===k){h.splice(n,1);break}h.push({field:k,dir:u})}e.preventDefault(),c.dataSource.sort(h)}});t.ui.plugin(u)})(window.kendo.jQuery);;(function(e){function r(r,d){r=e(r),d?r.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):r.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var d=window.kendo,a=d.ui.Widget,n="change",i="k-reorderable",o=a.extend({init:function(o,t){var g,l=this,s=d.guid()+"-reorderable";a.fn.init.call(l,o,t),o=l.element.addClass(i),t=l.options,l.draggable=g=t.draggable||new d.ui.Draggable(o,{group:s,filter:t.filter,hint:t.hint}),l.reorderDropCue=e('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),o.find(g.options.filter).kendoDropTarget({group:g.options.group,dragenter:function(e){if(l._draggable){var d=this.element,a=d[0]===l._draggable[0];r(e.draggable.hint,a),a||l.reorderDropCue.css({height:d.outerHeight(),top:d.offset().top,left:d.offset().left+(d.index()>l._draggable.index()?d.outerWidth():0)}).appendTo(document.body)}},dragleave:function(e){r(e.draggable.hint,!0),l.reorderDropCue.remove()},drop:function(){if(l._draggable){var e,r=l._draggable[0],d=this.element[0];r!==d&&(e=o.find(g.options.filter),l.trigger(n,{element:l._draggable,oldIndex:e.index(r),newIndex:e.index(d)}))}}}),g.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){l.reorderDropCue.remove(),l._draggable=null},dragend:function(){l.reorderDropCue.remove(),l._draggable=null},dragstart:function(e){l._draggable=e.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[n],destroy:function(){var e=this;a.fn.destroy.call(e),e.draggable&&e.draggable.destroy(),d.destroy(e.element)}});d.ui.plugin(o)})(window.kendo.jQuery);;(function(i,t){var n=window.kendo,o=n.ui,s=o.Widget,e=i.proxy,r=i.isFunction,a=i.extend,l="horizontal",c="vertical",u="start",p="resize",_="resizeend",g=s.extend({init:function(i,t){var n=this;s.fn.init.call(n,i,t),n.orientation=n.options.orientation.toLowerCase()!=c?l:c,n._positionMouse=n.orientation==l?"x":"y",n._position=n.orientation==l?"left":"top",n._sizingDom=n.orientation==l?"outerWidth":"outerHeight",n.draggable=new o.Draggable(i,{distance:0,filter:t.handle,drag:e(n._resize,n),dragcancel:e(n._cancel,n),dragstart:e(n._start,n),dragend:e(n._stop,n)}),n.userEvents=n.draggable.userEvents},events:[p,_,u],options:{name:"Resizable",orientation:l},_max:function(i){var n=this,o=n.hint?n.hint[n._sizingDom]():0,s=n.options.max;return r(s)?s(i):s!==t?n._initialElementPosition+s-o:s},_min:function(i){var n=this,o=n.options.min;return r(o)?o(i):o!==t?n._initialElementPosition+o:o},_start:function(t){var n=this,o=n.options.hint,s=i(t.currentTarget);n._initialElementPosition=s.position()[n._position],n._initialMousePosition=t[n._positionMouse].startLocation,o&&(n.hint=r(o)?i(o(s)):o,n.hint.css({position:"absolute"}).css(n._position,n._initialElementPosition).appendTo(n.element)),n.trigger(u,t),n._maxPosition=n._max(t),n._minPosition=n._min(t),i(document.body).css("cursor",s.css("cursor"))},_resize:function(n){var o,s=this,e=(i(n.currentTarget),s._maxPosition),r=s._minPosition,l=s._initialElementPosition+(n[s._positionMouse].location-s._initialMousePosition);o=r!==t?Math.max(r,l):l,s.position=o=e!==t?Math.min(e,o):o,s.hint&&s.hint.toggleClass(s.options.invalidClass||"",o==e||o==r).css(s._position,o),s.resizing=!0,s.trigger(p,a(n,{position:o}))},_stop:function(t){var n=this;n.hint&&n.hint.remove(),n.resizing=!1,n.trigger(_,a(t,{position:n.position})),i(document.body).css("cursor","")},_cancel:function(i){var n=this;n.hint&&(n.position=t,n.hint.css(n._position,n._initialElementPosition),n._stop(i))},destroy:function(){var i=this;s.fn.destroy.call(i),i.draggable&&i.draggable.destroy()},press:function(i){if(i){var t=i.position(),n=this;n.userEvents.press(t.left,t.top,i[0]),n.targetPosition=t,n.target=i}},move:function(i){var n=this,o=n._position,s=n.targetPosition,e=n.position;e===t&&(e=s[o]),s[o]=e+i,n.userEvents.move(s.left,s.top)},end:function(){this.userEvents.end(),this.target=this.position=t}});n.ui.plugin(g)})(window.kendo.jQuery);;(function(e,t){function r(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function a(e){var t,r=" ";if(e){if(typeof e===ut)return e;for(t in e)r+=t+'="'+e[t]+'"'}return r}function l(t){var r=0;return e("> .k-grouping-header, > .k-grid-toolbar",t).each(function(){r+=this.offsetHeight}),r}function o(t,r){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",r)}function n(e){var t,r,a={},l={};if(!W(e))for(R(e)||(e=[e]),t=0,r=e.length;r>t;t++)a[e[t].aggregate]=0,l[e[t].field]=a;return l}function i(e,t,r){var a=e.eq(t),l=e.eq(r);a[t>r?"insertBefore":"insertAfter"](l)}function s(e,t,r){var a,l,o,n;for(r=R(r)?r:[r],a=0,l=r.length;l>a;a++)o=r[a],S(o)&&o.click&&(n=o.name||o.text,t.on(it+U,"a.k-grid-"+(n||"").replace(/\s/g,""),{commandName:n},D(o.click,e)))}function d(e){return A(e,function(e){return!e.hidden})}function c(e){e=e||{};var t=e.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",T({},e,{style:t})}function u(e){e=e||{};var t=e.style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function p(t,r,a,l){var o,n=t.find(">colgroup"),i=H(r,function(e){return o=e.width,o&&0!==parseInt(o,10)?k.format('<col style="width:{0}"/>',typeof o===ut?o:o+"px"):"<col />"});(a||n.find(".k-hierarchy-col").length)&&i.splice(0,0,'<col class="k-hierarchy-col" />'),n.length&&n.remove(),n=e("<colgroup/>").append(e(Array(l+1).join('<col class="k-group-col">')+i.join(""))),t.prepend(n)}function f(e){var t,r,a,l={};for(r=0,a=e.length;a>r;r++)t=e[r],l[t.value]=t.text;return l}function h(e,t,r){var a=r&&r.length&&S(r[0])&&"value"in r[0],l=a?f(r)[e]:e;return l=null!=l?l:"",t?k.format(t,l):l}function g(e,t,r){for(var a=0,l=e[a];l;){if((r||"none"!=l.style.display)&&!bt.test(l.className)){e[t+a].style.display=r?"":"none";break}l=e[++a]}}function m(e,t){var r,a,l;if(typeof e===ut&&e===t)return e;if(S(e)&&e.name===t)return e;if(R(e))for(r=0,a=e.length;a>r;r++)if(l=e[r],typeof l===ut&&l===t||l.name===t)return l;return null}function b(t){var r=e(t.currentTarget),a=r.closest("table")[0];(a===this.table[0]||a===this.thead.parent()[0])&&(this.current(r),(r.is("th")||!e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input"))&&setTimeout(function(){a.focus()}),r.is("th")&&t.preventDefault())}var k=window.kendo,v=k.ui,_=k.data.DataSource,w=v.Groupable,y=k.support.tbodyInnerHtml,C=v.Widget,x=k.keys,S=e.isPlainObject,T=e.extend,H=e.map,A=e.grep,R=e.isArray,E=e.inArray,D=e.proxy,I=e.isFunction,W=e.isEmptyObject,M=Math,N="progress",q="error",B=":not(.k-group-cell):not(.k-hierarchy-cell):visible",z="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",F="tr:not(.k-footer-template):visible",L=":not(.k-group-cell):not(.k-hierarchy-cell):visible",P=F+":first>"+L+":first",O="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",G=O+":visible["+k.attr("field")+"]",j=O+"["+k.attr("field")+"]",U=".kendoGrid",$="edit",K="save",J="remove",V="detailInit",X="change",Q="columnHide",Y="columnShow",Z="saveChanges",et="dataBound",tt="detailExpand",rt="detailCollapse",at="k-state-focused",lt="k-state-selected",ot="columnResize",nt="columnReorder",it="click",st="height",dt="tabIndex",ct="function",ut="string",pt="Are you sure you want to delete this record?",ft=/(\}|\#)/gi,ht=3,gt=/#/gi,mt="[\\x20\\t\\r\\n\\f]",bt=RegExp("(^|"+mt+")"+"(k-group-cell|k-hierarchy-cell)"+"("+mt+"|$)"),kt='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',vt=!1,_t=C.extend({init:function(e,t){var r=this;C.fn.init.call(r,e,t),r._refreshHandler=D(r.refresh,r),r.setDataSource(t.dataSource),r.wrap()},setDataSource:function(e){var t=this;t.dataSource&&t.dataSource.unbind(X,t._refreshHandler),t.dataSource=e,t.dataSource.bind(X,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:e.noop},destroy:function(){var e=this;C.fn.destroy.call(e),e.dataSource.unbind(X,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(U),e.drag&&e.drag.destroy()},wrap:function(){var t,r=this,a=k.support.scrollbar()+1,l=r.element;l.css({width:"auto",overflow:"hidden"}).css(vt?"padding-left":"padding-right",a),r.content=l.children().first(),t=r.wrapper=r.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+U+" mousewheel"+U,D(r._wheelScroll,r)),k.support.kineticScrollNeeded&&(r.drag=new k.UserEvents(r.wrapper,{global:!0,move:function(e){r.verticalScrollbar.scrollTop(r.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),r.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:a}).appendTo(l).bind("scroll"+U,D(r._scroll,r))},_wheelScroll:function(e){var r,a=this,l=a.verticalScrollbar.scrollTop(),o=e.originalEvent,n=o.wheelDeltaY;o.wheelDelta?(n===t||n)&&(r=o.wheelDelta):o.detail&&o.axis===o.VERTICAL_AXIS&&(r=10*-o.detail),r&&(e.preventDefault(),a.verticalScrollbar.scrollTop(l+-r))},_scroll:function(e){var t=this,r=e.currentTarget.scrollTop,a=t.dataSource,l=t.itemHeight,o=a.skip()||0,n=t._rangeStart||o,i=t.element.innerHeight(),s=!!(t._scrollbarTop&&t._scrollbarTop>r),d=M.max(M.floor(r/l),0),c=M.max(d+M.floor(i/l),0);t._scrollTop=r-n*l,t._scrollbarTop=r,t._fetch(d,c,s)||(t.wrapper[0].scrollTop=t._scrollTop)},_fetch:function(e,t,r){var a=this,l=a.dataSource,o=a.itemHeight,n=l.take(),i=a._rangeStart||l.skip()||0,s=M.floor(e/n)*n,d=!1,c=.33;return i>e?(d=!0,i=M.max(0,t-n),a._scrollTop=(e-i)*o,a._page(i,n)):t>=i+n&&!r?(d=!0,i=e,a._scrollTop=o,a._page(i,n)):a._fetching||(s+n-n*c>e&&e>n&&l.prefetch(s-n,n),t>s+n*c&&l.prefetch(s+n,n)),d},_page:function(e,t){var r=this,a=r.dataSource;clearTimeout(r._timeout),r._fetching=!0,r._rangeStart=e,a.inRange(e,t)?a.range(e,t):(k.ui.progress(r.wrapper.parent(),!0),r._timeout=setTimeout(function(){a.range(e,t)},100))},refresh:function(){var e,t,r,a=this,l="",o=25e4,n=a.dataSource,i=a._rangeStart,s=k.support.kineticScrollNeeded?0:k.support.scrollbar(),d=a.wrapper[0];k.ui.progress(a.wrapper.parent(),!1),clearTimeout(a._timeout),r=a.itemHeight=a.options.itemHeight()||0;var c=d.scrollWidth>d.offsetWidth?s:0;for(e=n.total()*r+c,t=0;M.floor(e/o)>t;t++)l+='<div style="width:1px;height:'+o+'px"></div>';e%o&&(l+='<div style="width:1px;height:'+e%o+'px"></div>'),a.verticalScrollbar.html(l),d.scrollTop=a._scrollTop,a.drag&&a.drag.cancel(),i&&!a._fetching&&(a._rangeStart=n.skip()),a._fetching=!1}}),wt={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},yt=C.extend({init:function(e,t){var r=this;t=R(t)?{dataSource:t}:t,C.fn.init.call(r,e,t),vt=k.support.isRtl(e),r._element(),r._aria(),r._columns(r.options.columns),r._dataSource(),r._tbody(),r._pageable(),r._thead(),r._groupable(),r._toolbar(),r._setContentHeight(),r._templates(),r._navigatable(),r._selectable(),r._details(),r._editable(),r._attachCustomCommandsEvent(),r.options.autoBind?r.dataSource.fetch():r._footer(),k.notify(r)},events:[X,"dataBinding",et,tt,rt,V,$,K,J,Z,ot,nt,Y,Q],setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t._pageable(),t.options.groupable&&t._groupable(),t._thead(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.autoBind&&e.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null},destroy:function(){var e=this;C.fn.destroy.call(e),e.pager&&e.pager.destroy(),e.groupable&&e.groupable.destroy(),e.virtualScrollable&&e.virtualScrollable.destroy(),e._destroyColumnAttachments(),e._destroyEditable(),e.dataSource.unbind(X,e._refreshHandler).unbind(N,e._progressHandler).unbind(q,e._errorHandler),e.element.add(e.wrapper).add(e.table).add(e.thead).add(e.wrapper.find(">.k-grid-toolbar")),e.content&&e.element.add(e.content).add(e.content.find(">.k-virtual-scrollable-wrap")),e.element.off(U),k.destroy(e.wrapper)},setOptions:function(e){var t=this;C.fn.setOptions.call(this,e),t._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var t=this;t.thead.find("th").each(function(){var t=e(this),r=t.data("kendoFilterMenu"),a=t.data("kendoSortable"),l=t.data("kendoColumnMenu");r&&r.destroy(),a&&a.destroy(),l&&l.destroy()})},_attachCustomCommandsEvent:function(){var e,t,r,a=this,l=a.columns||[];for(t=0,r=l.length;r>t;t++)e=l[t].command,e&&s(a,a.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var t=this,r=t.element;r.is("table")||(r=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),r.length||(r=e("<table />").appendTo(t.element))),t.table=r.attr("cellspacing",0).attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_positionColumnResizeHandle:function(t){var r,a=this,n=a.options.scrollable,i=a.resizeHandle;a.thead.on("mousemove"+U,"th:not(.k-group-cell,.k-hierarchy-cell)",function(s){var d=e(this),c=s.clientX,u=e(window).scrollLeft(),p=d.offset().left+(vt?0:this.offsetWidth);if(c+u>p-ht&&p+ht>c+u){if(i||(i=a.resizeHandle=e('<div class="k-resize-handle"/>'),t.append(i)),vt){var f=d.closest(".k-grid-header-wrap"),h=e.browser.msie?f.scrollLeft():0,g=e.browser.webkit?f[0].scrollWidth-f[0].offsetWidth-f.scrollLeft():0,m=e.browser.mozilla?f[0].scrollWidth-f[0].offsetWidth-(f[0].scrollWidth-f[0].offsetWidth-f.scrollLeft()):0;r=d.position().left-g+m-h}else r=this.offsetWidth,d.prevAll(":visible").each(function(){r+=this.offsetWidth});i.css({top:n?0:l(a.wrapper),left:r-ht,height:d.outerHeight(),width:3*ht}).data("th",d).show()}else i?i.hide():o(a.wrapper,"")})},_resizable:function(){var t,r,a,l,n,i=this,s=i.options;s.resizable&&(t=s.scrollable?i.wrapper.find(".k-grid-header-wrap:first"):i.wrapper,i._positionColumnResizeHandle(t),t.kendoResizable({handle:".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:t.data("th").outerHeight()+i.tbody.attr("clientHeight")})},start:function(t){var d=e(t.currentTarget).data("th"),c=e.inArray(d[0],d.parent().children(":visible")),u=i.tbody.parent(),p=i.footer||e();o(i.wrapper,"col-resize"),n=s.scrollable?i.thead.parent().find("col:eq("+c+")").add(u.children("colgroup").find("col:eq("+c+")")).add(p.find("colgroup").find("col:eq("+c+")")):u.children("colgroup").find("col:eq("+c+")"),r=t.x.location,a=d.outerWidth(),l=i.tbody.outerWidth()},resize:function(t){var o=vt?-1:1,d=a+t.x.location*o-r*o,c=i.footer||e();d>10&&(n.css("width",d),s.scrollable&&(i._footerWidth=l+t.x.location*o-r*o,i.tbody.parent().add(i.thead.parent()).add(c.find("table")).css("width",i._footerWidth)))},resizeend:function(t){var r,l=e(t.currentTarget).data("th"),n=l.outerWidth();o(i.wrapper,""),a!=n&&(r=i.columns[l.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(l)],r.width=n,i.trigger(ot,{column:r,oldWidth:a,newWidth:n})),i.resizeHandle.hide()}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({group:k.guid(),filter:">.k-grid-header "+O+",>table>.k-grid-header "+O,hint:function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(k.attr("title"))||t.attr(k.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var e=this;e.options.reorderable&&e.wrapper.kendoReorderable({draggable:e._draggableInstance,change:function(t){var r=E(e.columns[t.newIndex],e.columns),a=e.columns[t.oldIndex];e.trigger(nt,{newIndex:r,oldIndex:E(a,e.columns),column:a}),e.reorderColumn(r,a)}})},reorderColumn:function(e,t){var r,a,l,o=this,n=E(t,o.columns),s=E(t,d(o.columns)),c=o.footer||o.wrapper.find(".k-grid-footer");if(n!==e)for(o.columns.splice(n,1),o.columns.splice(e,0,t),o._templates(),i(o.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,e),o.options.scrollable&&i(o.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,e),i(o.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),n,e),c&&c.length&&(i(c.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),s,e),i(c.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)),r=o.tbody.children(":not(.k-grouping-row,.k-detail-row)"),a=0,l=r.length;l>a;a+=1)i(r.eq(a).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)},cellIndex:function(t){return e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)},_modelForContainer:function(t){t=e(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var r=t.attr(k.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var t=this,r=t.options.editable,a=function(){var r=document.activeElement,a=t._editContainer;!a||e.contains(a[0],r)||a[0]===r||e(r).closest(".k-animation-container").length||t.editable.end()&&t.closeCell()};if(r){var l=t._editMode();"incell"===l?r.update!==!1&&t.wrapper.on(it+U,"tr:not(.k-grouping-row) > td",function(r){var a=e(this);a.hasClass("k-hierarchy-cell")||a.hasClass("k-detail-cell")||a.hasClass("k-group-cell")||a.hasClass("k-edit-cell")||a.has("a.k-grid-delete").length||a.has("button.k-grid-delete").length||a.closest("tbody")[0]!==t.tbody[0]||e(r.target).is(":input")||(t.editable?t.editable.end()&&(t.closeCell(),t.editCell(a)):t.editCell(a))}).on("focusin"+U,function(){clearTimeout(t.timer),t.timer=null}).on("focusout"+U,function(){t.timer=setTimeout(a,1)}):r.update!==!1&&t.wrapper.on(it+U,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(r){r.preventDefault(),t.editRow(e(this).closest("tr"))}),r.destroy!==!1?t.wrapper.on(it+U,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(r){r.preventDefault(),r.stopPropagation(),t.removeRow(e(this).closest("tr"))}):t.wrapper.on(it+U,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){t._confirmation()||e.preventDefault()})}},editCell:function(e){var t=this,r=t.columns[t.cellIndex(e)],a=t._modelForContainer(e);!a||a.editable&&!a.editable(r.field)||r.command||!r.field||(t._attachModelChange(a),t._editContainer=e,t.editable=e.addClass("k-edit-cell").kendoEditable({fields:{field:r.field,format:r.format,editor:r.editor,values:r.values},model:a,change:function(r){t.trigger(K,{values:r.values,container:e,model:a})&&r.preventDefault()}}).data("kendoEditable"),e.parent().addClass("k-grid-edit-row"),t.trigger($,{container:e,model:a}))},_destroyEditable:function(){var e=this,t=function(){e.editable&&(e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null)};e.editable&&("popup"===e._editMode()?e._editContainer.data("kendoWindow").bind("deactivate",t).close():t())},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,r=e._modelForContainer(t);r&&r.unbind(X,e._modelChangeHandler)},closeCell:function(){var t=this,r=t._editContainer.removeClass("k-edit-cell"),a=r.closest("tr").attr(k.attr("uid")),l=t.columns[t.cellIndex(r)],o=t.dataSource.getByUid(a);r.parent().removeClass("k-grid-edit-row"),t._destroyEditable(),t._displayCell(r,l,o),r.hasClass("k-dirty-cell")&&e('<span class="k-dirty"/>').prependTo(r)},_displayCell:function(e,t,r){var a=this,l={storage:{},count:0},o=T({},k.Template,a.options.templateSettings),n=k.template(a._cellTmpl(t,l),o);l.count>0&&(n=D(n,l.storage)),e.empty().html(n(r))},removeRow:function(t){var r,a,l=this;l._confirmation()&&(t=e(t).hide(),r=l._modelForContainer(t),r&&!l.trigger(J,{row:t,model:r})&&(l.dataSource.remove(r),a=l._editMode(),("inline"===a||"popup"===a)&&l.dataSource.sync()))},_editMode:function(){var e="incell",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(r){var a,l=this,o=l._modelForContainer(r),n=l._editMode(),i=l.options.navigatable;l.cancelRow(),o&&(l._attachModelChange(o),"popup"===n?l._createPopupEditor(o):"inline"===n?l._createInlineEditor(r,o):"incell"===n&&e(r).children(B).each(function(){var r=e(this),a=l.columns[r.index()];return o=l._modelForContainer(r),o&&(!o.editable||o.editable(a.field))&&a.field?(l.editCell(r),!1):t}),a=l._editContainer,a.on(it+U,"a.k-grid-cancel",function(t){t.preventDefault(),t.stopPropagation();var r=l.items().index(e(l.current()).parent());l.cancelRow(),i&&(l.current(l.items().eq(r).children().filter(L).first()),l.table.focus())}),a.on(it+U,"a.k-grid-update",function(e){e.preventDefault(),e.stopPropagation(),l.saveRow()}))},_createPopupEditor:function(t){var r,a,l,o,n,i,s,d,c,u=this,p="<div "+k.attr("uid")+'="'+t.uid+'"><div class="k-edit-form-container">',f=[],h=u.options.editable,g=h.template,b=S(h)?h.window:{},v=T({},k.Template,u.options.templateSettings);if(g)for(typeof g===ut&&(g=window.unescape(g)),p+=k.template(g,v)(t),l=0,o=u.columns.length;o>l;l++)r=u.columns[l],r.command&&(d=m(r.command,"edit"),d&&(a=d));else for(l=0,o=u.columns.length;o>l;l++)if(r=u.columns[l],r.command)r.command&&(d=m(r.command,"edit"),d&&(a=d));else if(p+='<div class="k-edit-label"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>",t.editable&&!t.editable(r.field)||!r.field){var _={storage:{},count:0};n=k.template(u._cellTmpl(r,_),v),_.count>0&&(n=D(n,_.storage)),p+='<div class="k-edit-field">'+n(t)+"</div>"}else f.push({field:r.field,format:r.format,editor:r.editor,values:r.values}),p+="<div "+k.attr("container-for")+'="'+r.field+'" class="k-edit-field"></div>';a&&S(a)&&(a.text&&S(a.text)&&(i=a.text.update,s=a.text.cancel),a.attr&&(c=a.attr)),p+=u._createButton({name:"update",text:i,attr:c})+u._createButton({name:"canceledit",text:s,attr:c}),p+="</div></div>";var w=u._editContainer=e(p).appendTo(u.wrapper).eq(0).kendoWindow(T({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(e){e.userTriggered&&u.cancelRow()}},b));u.editable=u._editContainer.kendoEditable({fields:f,model:t,clearContainer:!1}).data("kendoEditable"),w.data("kendoWindow").center().open(),u.trigger($,{container:w,model:t})},_createInlineEditor:function(t,r){var a,l,o,n=this,i=[];t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(l=e(this),a=n.columns[n.cellIndex(l)],a.command||!a.field||r.editable&&!r.editable(a.field)){if(a.command&&(o=m(a.command,"edit"))){l.empty();var t,s,d;S(o)&&(o.text&&S(o.text)&&(t=o.text.update,s=o.text.cancel),o.attr&&(d=o.attr)),e(n._createButton({name:"update",text:t,attr:d})+n._createButton({name:"canceledit",text:s,attr:d})).appendTo(l)}}else i.push({field:a.field,format:a.format,editor:a.editor,values:a.values}),l.attr("data-container-for",a.field),l.empty()}),n._editContainer=t,n.editable=t.addClass("k-grid-edit-row").kendoEditable({fields:i,model:r,clearContainer:!1}).data("kendoEditable"),n.trigger($,{container:t,model:r})},cancelRow:function(){var e,t=this,r=t._editContainer;r&&(e=t._modelForContainer(r),t.dataSource.cancelChanges(e),"popup"!==t._editMode()?t._displayRow(r):t._displayRow(t.items().filter("["+k.attr("uid")+"="+e.uid+"]")),t._destroyEditable())},saveRow:function(){var e=this,t=e._editContainer,r=e._modelForContainer(t),a=e.editable;t&&a&&a.end()&&!e.trigger(K,{container:t,model:r})&&e.dataSource.sync()},_displayRow:function(t){var r=this,a=r._modelForContainer(t);a&&t.replaceWith(e((t.hasClass("k-alt")?r.altRowTemplate:r.rowTemplate)(a)))},_showMessage:function(e){return window.confirm(e)},_confirmation:function(){var e=this,t=e.options.editable,r=t===!0||typeof t===ut?pt:t.confirmation;return r!==!1&&null!=r?e._showMessage(r):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var e=this;(e.editable&&e.editable.end()||!e.editable)&&!e.trigger(Z)&&e.dataSource.sync()},addRow:function(){var e,t=this,r=t.dataSource,a=t._editMode(),l=t.options.editable.createAt||"",o=r.pageSize(),n=r.view()||[];if(t.editable&&t.editable.end()||!t.editable){"incell"!=a&&t.cancelRow(),e=r.indexOf(n[0]),"bottom"==l.toLowerCase()&&(e+=n.length,o&&!r.options.serverPaging&&n.length>=o&&(e-=1)),0>e&&(e=0);var i=r.insert(e,{}),s=i.uid,d=t.table.find("tr["+k.attr("uid")+"="+s+"]"),c=d.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(t._firstEditableColumnIndex(d));"inline"!==a&&"popup"!==a||!d.length?c.length&&t.editCell(c):t.editRow(d)}},_firstEditableColumnIndex:function(e){var t,r,a,l=this,o=l.columns,n=l._modelForContainer(e);for(r=0,a=o.length;a>r;r++)if(t=o[r],n&&(!n.editable||n.editable(t.field))&&!t.command&&t.field)return r;return-1},_toolbar:function(){var t,r=this,a=r.wrapper,l=r.options.toolbar,o=r.options.editable;l&&(t=r.wrapper.find(".k-grid-toolbar"),t.length||(I(l)||(l=typeof l===ut?l:r._toolbarTmpl(l).replace(gt,"\\#"),l=D(k.template(l),r)),t=e('<div class="k-toolbar k-grid-toolbar" />').html(l({})).prependTo(a)),o&&o.create!==!1&&t.on(it+U,".k-grid-add",function(e){e.preventDefault(),r.addRow()}).on(it+U,".k-grid-cancel-changes",function(e){e.preventDefault(),r.cancelChanges()}).on(it+U,".k-grid-save-changes",function(e){e.preventDefault(),r.saveChanges()}))},_toolbarTmpl:function(e){var t,r,a=this,l="";if(R(e))for(t=0,r=e.length;r>t;t++)l+=a._createButton(e[t]);return l},_createButton:function(e){var t=e.template||kt,r=typeof e===ut?e:e.name||e.text,l={className:"k-grid-"+(r||"").replace(/\s/g,""),text:r,imageClass:"",attr:"",iconClass:""};if(!(r||S(e)&&e.template))throw Error("Custom commands should have name specified");return S(e)?(e.className&&(e.className+=" "+l.className),"edit"===r&&S(e.text)&&(e=T(!0,{},e),e.text=e.text.edit),e.attr&&S(e.attr)&&(e.attr=a(e.attr)),l=T(!0,l,wt[r],e)):l=T(!0,l,wt[r]),k.template(t)(l)},_groupable:function(){var t=this;t.table.on(it+U,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",function(r){var a=e(this),l=a.closest("tr");a.hasClass("k-i-collapse")?t.collapseGroup(l):t.expandGroup(l),r.preventDefault(),r.stopPropagation()}),t._attachGroupable()},_attachGroupable:function(){var t=this,r=t.wrapper,a=t.options.groupable;a&&(r.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(r),t.groupable&&t.groupable.destroy(),t.groupable=new w(r,T({},a,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:">.k-grid-header "+G+",>table>.k-grid-header "+G,filter:">.k-grid-header "+j+",>table>.k-grid-header "+j,allowDrag:t.options.reorderable})))},_selectable:function(){var e,r,a=this,l=a.options.selectable;l&&(e=typeof l===ut&&l.toLowerCase().indexOf("multiple")>-1,r=typeof l===ut&&l.toLowerCase().indexOf("cell")>-1,a.selectable=new k.ui.Selectable(a.table,{filter:">"+(r?z:"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:!0,multiple:e,change:function(){a.trigger(X)}}),a.options.navigatable&&a.table.on("keydown"+U,function(l){var o=a.current();if(l.keyCode===x.SPACEBAR&&l.target==a.table[0]&&!o.is(".k-edit-cell,.k-header")&&o.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(l.preventDefault(),l.stopPropagation(),o=r?o:o.parent(),e)if(l.ctrlKey){if(o.hasClass(lt))return o.removeClass(lt),a.trigger(X),t}else a.selectable.clear();else a.selectable.clear();a.selectable.value(o)}}))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(X)},select:function(r){var a=this,l=a.selectable;return r=e(r),r.length?(l.options.multiple||(l.clear(),r=r.first()),l.value(r),t):l.value()},current:function(e){var r=this,a=r.options.scrollable,l=r._current,o=r.table.add(r.thead.parent());return e!==t&&e.length&&(l&&l[0]===e[0]||(l&&(l.removeClass(at).removeAttr("id"),o.removeAttr("aria-activedescendant")),e.attr("id",r._cellId),r._current=e.addClass(at),o.attr("aria-activedescendant",r._cellId),e.length&&a&&(r._scrollTo(e.parent()[0],r.content[0]),a.virtual?r._scrollTo(e[0],r.content.find(">.k-virtual-scrollable-wrap")[0]):r._scrollTo(e[0],r.content[0])))),r._current},_removeCurrent:function(){this._current&&(this._current.removeClass(at),this._current=null)},_scrollTo:function(e,t){var r="td"===e.tagName.toLowerCase(),a=e[r?"offsetLeft":"offsetTop"],l=e[r?"offsetWidth":"offsetHeight"],o=t[r?"scrollLeft":"scrollTop"],n=t[r?"clientWidth":"clientHeight"],i=a+l;t[r?"scrollLeft":"scrollTop"]=o>a?a:i>o+n?i-n:o},_navigatable:function(){var t=this,r=D(t.current,t),a=t.table,l=t.thead.parent(),o=a;t.options.navigatable&&(t.options.scrollable&&(o=a.add(l),l.attr(dt,-1)),l.on("keydown"+U,function(e){e.altKey&&e.keyCode==x.DOWN&&(r().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),a.attr(dt,M.max(a.attr(dt)||0,0)).on("mousedown"+U+" keydown"+U,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),o.on("mousedown"+U,F+">"+L,D(b,t)).on("focus"+U,function(){var t=r();t&&t.is(":visible")?t.addClass(at):r(e(this).find(P)),this==a[0]?(l.attr(dt,-1),a.attr(dt,0)):(a.attr(dt,-1),l.attr(dt,0))}).on("focusout"+U,function(){var e=r();e&&e.removeClass(at)}).on("keydown"+U,function(l){var o,n,i,s=l.keyCode,d=!1,c=!l.isDefaultPrevented()&&!e(l.target).is(":button,a,:input,a>.k-icon"),u=t.options.pageable,p=t.dataSource,f="incell"==t._editMode(),h=l.shiftKey,g=k.support.browser,m=r();if(m&&m.is("th")&&(c=!0),c&&s==x.UP)m?(n=m.parent().prevAll(F).first(),n[0]||(n=t.thead.parent().focus().find(F).first()),i=m.index(),m=n.children().eq(i),m[0]&&m.is(L)||(m=n.children(L).first())):m=a.find(P),d=!0,r(m);else if(c&&s==x.DOWN)m?(n=m.parent().nextAll(F).first(),!n[0]&&m.is("th")&&(n=t.tbody.parent().focus().end().find(F).first()),i=m.index(),m=n.children().eq(i),m[0]&&m.is(L)||(m=n.children(L).first())):m=a.find(P),d=!0,r(m);else if(c&&s==x.LEFT)r(m?m.prevAll(B+":first"):a.find(P)),d=!0;else if(c&&s==x.RIGHT)m?m.next()[0]&&(m=m.nextAll(B+":first")):m=a.find(P),d=!0,r(m);else if(c&&u&&x.PAGEDOWN==s)p.page(p.page()+1),d=!0;else if(c&&u&&x.PAGEUP==s)p.page(p.page()-1),d=!0;else if(s==x.ENTER||x.F2==s)if(m=m?m:a.find(P),m.is("th"))m.find(".k-link").click(),d=!0;else if(m.parent().is(".k-master-row,.k-grouping-row"))m.parent().find(".k-icon:first").click(),d=!0;else{var b=m.find(":focusable:first");!m.hasClass("k-edit-cell")&&b[0]&&m.hasClass("k-state-focused")?(b.focus(),d=!0):t.options.editable&&!e(l.target).is(":button,.k-button")&&(t._handleEditing(m),d=!0)}else if(x.ESC==s)m&&e.contains(m[0],document.activeElement)&&!m.hasClass("k-edit-cell")&&!m.parent().hasClass("k-grid-edit-row")?(t.table[0].focus(),d=!0):!t._editContainer||m&&!t._editContainer.has(m[0])&&m[0]!==t._editContainer[0]||(f?t.closeCell():(o=t.items().index(e(m).parent()),document.activeElement.blur(),t.cancelRow(),o>=0&&t.current(t.items().eq(o).children().filter(L).first())),g.msie&&9>parseInt(g.version,10)&&document.body.focus(),a.focus(),d=!0);else if(x.TAB==s){var v;m=e(m),t.options.editable&&f&&(v=e(document.activeElement).closest(".k-edit-cell"),v[0]&&v[0]!==m[0]&&(m=v)),v=h?m.prevAll(B+":first"):m.nextAll(":visible:first"),v.length||(v=m.parent()[h?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(B+(h?":last":":first"))),!m.is("th")&&v.length&&t.options.editable&&f&&(t._handleEditing(m,v),d=!0)}d&&(l.preventDefault(),l.stopPropagation())}))},_handleEditing:function(r,a){var l,o,n=this,i=e(document.activeElement),s=n._editMode(),d=n._editContainer;if(o="incell"==s?r.hasClass("k-edit-cell"):r.parent().hasClass("k-grid-edit-row"),n.editable){if(e.contains(d[0],i[0])&&(i.blur(),k.support.browser.opera&&i.change()),!n.editable)return n.table.focus(),t;if(!n.editable.end())return"incell"==s?n.current(d):n.current(d.children().filter(B).first()),l=d.find(":focusable:first")[0],l&&l.focus(),t;"incell"==s?n.closeCell():(n.saveRow(),o=!0)}a&&n.current(a),n.table.focus(),(!o&&!a||a)&&("incell"==s?n.editCell(n.current()):n.editRow(n.current().parent()))},_wrapper:function(){var e=this,t=e.table,r=e.options.height,a=e.element;a.is("div")||(a=a.wrap("<div/>").parent()),e.wrapper=a.addClass("k-grid k-widget"),r&&(e.wrapper.css(st,r),t.css(st,"auto"))},_tbody:function(){var t,r=this,a=r.table;t=a.find(">tbody"),t.length||(t=e("<tbody/>").appendTo(a)),r.tbody=t},_scrollable:function(){var t,r,a=this,l=a.options,o=l.scrollable,n=o!==!0&&o.virtual&&!a.virtualScrollable,i=!k.support.kineticScrollNeeded||n?k.support.scrollbar():0;if(o){t=a.wrapper.children(".k-grid-header"),t[0]||(t=e('<div class="k-grid-header" />').insertBefore(a.table)),t.css(vt?"padding-left":"padding-right",o.virtual?i+1:i),r=e('<table role="grid" cellspacing="0" />'),r.append(a.thead),t.empty().append(e('<div class="k-grid-header-wrap" />').append(r)),a.content=a.table.parent(),a.content.is(".k-virtual-scrollable-wrap")&&(a.content=a.content.parent()),a.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(a.content=a.table.wrap('<div class="k-grid-content" />').parent()),n&&(a.virtualScrollable=new _t(a.content,{dataSource:a.dataSource,itemHeight:D(a._averageRowHeight,a)})),a.scrollables=t.children(".k-grid-header-wrap");var s=a.wrapper.find(".k-grid-footer"),d=vt&&e.browser.webkit?i:0;if(s.length&&(a.scrollables=a.scrollables.add(s.children(".k-grid-footer-wrap"))),o.virtual)a.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+U,function(){a.scrollables.scrollLeft(this.scrollLeft+d)});else{a.content.bind("scroll"+U,function(){a.scrollables.scrollLeft(this.scrollLeft+d)});var c=k.touchScroller(a.content);c&&c.movable&&c.movable.bind("change",function(e){a.scrollables.scrollLeft(-e.sender.x)})}}},_setContentHeight:function(){var e=this,t=e.options,r=e.wrapper.innerHeight(),a=e.wrapper.children(".k-grid-header"),l=k.support.scrollbar();if(t.scrollable){r-=a.outerHeight(),e.pager&&(r-=e.pager.element.outerHeight()),t.groupable&&(r-=e.wrapper.children(".k-grouping-header").outerHeight()),t.toolbar&&(r-=e.wrapper.children(".k-grid-toolbar").outerHeight()),e.footerTemplate&&(r-=e.wrapper.children(".k-grid-footer").outerHeight());var o=function(e){var t,r;return e[0].style.height?!0:(t=e.height(),e.height("auto"),r=e.height(),t!=r?(e.height(""),!0):(e.height(""),!1))};o(e.wrapper)&&(r>2*l?e.content.height(r):e.content.height(2*l+1))}},_averageRowHeight:function(){var e=this,t=e._rowHeight;e._rowHeight||(e._rowHeight=t=e.table.outerHeight()/e.table[0].rows.length,e._sum=t,e._measures=1);var r=e.table.outerHeight()/e.table[0].rows.length;return t!==r&&(e._measures++,e._sum+=r,e._rowHeight=e._sum/e._measures),t},_dataSource:function(){var e,r=this,a=r.options,l=a.dataSource;l=R(l)?{data:l}:l,S(l)&&(T(l,{table:r.table,fields:r.columns}),e=a.pageable,S(e)&&e.pageSize!==t&&(l.pageSize=e.pageSize)),r.dataSource&&r._refreshHandler?r.dataSource.unbind(X,r._refreshHandler).unbind(N,r._progressHandler).unbind(q,r._errorHandler):(r._refreshHandler=D(r.refresh,r),r._progressHandler=D(r._requestStart,r),r._errorHandler=D(r._error,r)),r.dataSource=_.create(l).bind(X,r._refreshHandler).bind(N,r._progressHandler).bind(q,r._errorHandler)
},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var r,a,l,o,n,i=this,s=t.model,d=i.tbody.find("tr["+k.attr("uid")+"="+s.uid+"]"),c=d.hasClass("k-alt");if(d.children(".k-edit-cell").length&&!i.options.rowTemplate)d.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){r=e(this),a=i.columns[i.cellIndex(r)],a.field===t.field&&(r.hasClass("k-edit-cell")?r.addClass("k-dirty-cell"):(i._displayCell(r,a,s),e('<span class="k-dirty"/>').prependTo(r)))});else if(!d.hasClass("k-grid-edit-row")){for(l=e((c?i.altRowTemplate:i.rowTemplate)(s)),d.replaceWith(l),o=0,n=i.columns.length;n>o;o++)a=i.columns[o],a.field===t.field&&(r=l.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(o),e('<span class="k-dirty"/>').prependTo(r));i.trigger("itemChange",{item:l,data:s,ns:v})}},_pageable:function(){var t,r=this,a=r.options.pageable;a&&(t=r.wrapper.children("div.k-grid-pager"),t.length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(r.wrapper)),r.pager&&r.pager.destroy(),r.pager="object"==typeof a&&a instanceof k.ui.Pager?a:new k.ui.Pager(t,T({},a,{dataSource:r.dataSource})))},_footer:function(){var t=this,r=t.dataSource.aggregates(),a="",l=t.footerTemplate,o=t.options,i=t.footer||t.wrapper.find(".k-grid-footer");if(l)if(r=W(r)?n(t.dataSource.aggregate()):r,a=e(t._wrapFooter(l(r))),i.length){var s=a;i.replaceWith(s),i=t.footer=s}else i=t.footer=o.scrollable?o.pageable?a.insertBefore(t.wrapper.children("div.k-grid-pager")):a.appendTo(t.wrapper):a.insertBefore(t.tbody);else i&&!t.footer&&(t.footer=i);i.length&&(o.scrollable&&(t.scrollables=t.scrollables.not(".k-grid-footer-wrap").add(t.footer.attr("tabindex",-1).children(".k-grid-footer-wrap"))),t._footerWidth&&i.find("table").css("width",t._footerWidth))},_wrapFooter:function(t){var r=this,a="",l=k.support.mobileOS?0:k.support.scrollbar();return r.options.scrollable?(a=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table cellspacing="0"><tbody>'+t+"</tbody></table></div></div>"),r._appendCols(a.find("table")),a.css(vt?"padding-left":"padding-right",l),a):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var t,r,a,l,o,n,i=this,s=i.columns,d=i.options,c=d.columnMenu,u=function(){i.thead.parent().focus()};c&&("boolean"==typeof c&&(c={}),i.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(p){r=s[p],n=e(this),r.command||!r.field&&!n.attr("data-"+k.ns+"field")||(t=n.data("kendoColumnMenu"),t&&t.destroy(),l=r.sortable!==!1&&c.sortable!==!1?d.sortable:!1,o=d.filterable&&r.filterable!==!1&&c.filterable!==!1?T({},r.filterable,d.filterable):!1,a={dataSource:i.dataSource,values:r.values,columns:c.columns,sortable:l,filterable:o,messages:c.messages,owner:i,closeCallback:u},n.kendoColumnMenu(a))}))},_filterable:function(){var t,r,a=this,l=a.columns,o=function(){a.thead.parent().focus()},n=a.options.filterable;n&&!a.options.columnMenu&&a.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){t=e(this),l[i].filterable===!1||l[i].command||!l[i].field&&!t.attr("data-"+k.ns+"field")||(r=t.data("kendoFilterMenu"),r&&r.destroy(),t.kendoFilterMenu(T(!0,{},n,l[i].filterable,{dataSource:a.dataSource,values:l[i].values,closeCallback:o})))})},_sortable:function(){var t,r,a,l=this,o=l.columns,n=l.options.sortable;n&&l.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){t=o[i],t.sortable!==!1&&!t.command&&t.field&&(r=e(this),a=r.data("kendoSortable"),a&&a.destroy(),r.attr("data-"+k.ns+"field",t.field).kendoSortable(T({},n,{dataSource:l.dataSource,aria:!0})))})},_columns:function(t){var r,a=this,l=a.table,o=l.find("col"),n=a.options.dataSource;t=t.length?t:H(l.find("th"),function(t,r){t=e(t);var a=t.attr(k.attr("sortable")),l=t.attr(k.attr("filterable")),n=t.attr(k.attr("type")),i=t.attr(k.attr("groupable")),s=t.attr(k.attr("field")),d=t.attr(k.attr("menu"));return s||(s=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:s,type:n,sortable:"false"!==a,filterable:"false"!==l,groupable:"false"!==i,menu:d,template:t.attr(k.attr("template")),width:o.eq(r).css("width")}}),r=!(a.table.find("tbody tr").length>0&&(!n||!n.transport)),a.columns=H(t,function(e){return e=typeof e===ut?{field:e}:e,e.hidden&&(e.attributes=c(e.attributes),e.footerAttributes=c(e.footerAttributes),e.headerAttributes=c(e.headerAttributes)),T({encoded:r},e)})},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t){var l,o,n,i,s=this,d=T({},k.Template,s.options.templateSettings),c=s.columns.length,u={storage:{},count:0},p=s._hasDetails(),f=[],h=s._groups();if(!e){for(e="<tr",t&&f.push("k-alt"),p&&f.push("k-master-row"),f.length&&(e+=' class="'+f.join(" ")+'"'),c&&(e+=" "+k.attr("uid")+'="#='+d.paramName+'.uid#"'),e+=" role='row'>",h>0&&(e+=r(h)),p&&(e+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),l=0;c>l;l++)n=s.columns[l],o=n.template,i=typeof o,e+="<td"+a(n.attributes)+" role='gridcell'>",e+=s._cellTmpl(n,u),e+="</td>";e+="</tr>"}return e=k.template(e,d),u.count>0?D(e,u.storage):e},_headerCellText:function(e){var t=this,r=T({},k.Template,t.options.templateSettings),a=e.headerTemplate,l=typeof a,o=e.title||e.field||"";return l===ct?o=k.template(a,r)({}):l===ut&&(o=a),o},_cellTmpl:function(e,t){var r,a,l=this,o=T({},k.Template,l.options.templateSettings),n=e.template,i=o.paramName,s=e.field,d="",c=e.format,u=typeof n,p=e.values;if(e.command){if(R(e.command)){for(r=0,a=e.command.length;a>r;r++)d+=l._createButton(e.command[r]);return d.replace(gt,"\\#")}return l._createButton(e.command).replace(gt,"\\#")}return u===ct?(t.storage["tmpl"+t.count]=n,d+="#=this.tmpl"+t.count+"("+i+")#",t.count++):u===ut?d+=n:p&&p.length&&S(p[0])&&"value"in p[0]&&s?(d+="#var v ="+k.stringify(f(p))+"#",d+="#var f = v[",o.useWithBlock||(d+=i+"."),d+=s+"]#",d+="${f != null ? f : ''}"):(d+=e.encoded?"${":"#=",c&&(d+='kendo.format("'+c.replace(ft,"\\$1")+'",'),s?(s=i+"."+s,d+=s+"==null?'':"+s):d+="''",c&&(d+=")"),d+=e.encoded?"}":"#"),d},_templates:function(){var t=this,r=t.options,a=t.dataSource,l=a.group(),o=t.footer||t.wrapper.find(".k-grid-footer"),n=a.aggregate();t.rowTemplate=t._tmpl(r.rowTemplate),t.altRowTemplate=t._tmpl(r.altRowTemplate||r.rowTemplate,!0),t._hasDetails()&&(t.detailTemplate=t._detailTmpl(r.detailTemplate||"")),(!W(n)&&!o.length||A(t.columns,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(n,"footerTemplate","k-footer-template")),l&&A(t.columns,function(e){return e.groupFooterTemplate}).length&&(n=e.map(l,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(n,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(e,t,l){var o,i,s,d,c,u=this,p=T({},k.Template,u.options.templateSettings),f=p.paramName,h="",g=u.columns,m={},b=0,v={},_=u._groups(),w=n(e);for(h+='<tr class="'+l+'">',_>0&&(h+=r(_)),u._hasDetails()&&(h+='<td class="k-hierarchy-cell">&nbsp;</td>'),o=0,i=u.columns.length;i>o;o++)c=g[o],s=c[t],d=typeof s,h+="<td"+a(c.footerAttributes)+">",s?(d!==ct&&(v=w[c.field]?T({},p,{paramName:f+"."+c.field}):{},s=k.template(s,v)),m["tmpl"+b]=s,h+="#=this.tmpl"+b+"("+f+")#",b++):h+="&nbsp;",h+="</td>";return h+="</tr>",h=k.template(h,p),b>0?D(h,m):h},_detailTmpl:function(e){var t=this,a="",l=T({},k.Template,t.options.templateSettings),o=l.paramName,n={},i=0,s=t._groups(),c=d(t.columns).length,u=typeof e;return a+='<tr class="k-detail-row">',s>0&&(a+=r(s)),a+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">",u===ct?(n["tmpl"+i]=e,a+="#=this.tmpl"+i+"("+o+")#",i++):a+=e,a+="</td></tr>",a=k.template(a,l),i>0?D(a,n):a},_hasDetails:function(){var e=this;return null!==e.options.detailTemplate||(e._events[V]||[]).length},_details:function(){var t=this;t.table.on(it+U,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(r){var a,l,o=e(this),n=o.hasClass("k-plus"),i=o.closest("tr.k-master-row"),s=t.detailTemplate,d=t._hasDetails();return o.toggleClass("k-plus",!n).toggleClass("k-minus",n),d&&!i.next().hasClass("k-detail-row")&&(l=t.dataItem(i),e(s(l)).addClass(i.hasClass("k-alt")?"k-alt":"").insertAfter(i),t.trigger(V,{masterRow:i,detailRow:i.next(),data:l,detailCell:i.next().find(".k-detail-cell")})),a=i.next(),t.trigger(n?tt:rt,{masterRow:i,detailRow:a}),a.toggle(n),t._current&&t._current.attr("aria-expanded",n),r.preventDefault(),!1})},dataItem:function(t){return this._data[this.tbody.find("> tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)").index(e(t))]},expandRow:function(t){e(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){e(t).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var r,l,o,n,i,s=this,d=s.columns,c=s._hasDetails()&&d.length,u="",p=s.table.find(">thead");if(p.length||(p=e("<thead/>").insertBefore(s.tbody)),o=s.element.find("tr:has(th):first"),o.length||(o=p.children().first(),o.length||(o=e("<tr/>"))),o.children().length)c&&!o.find(".k-hierarchy-cell")[0]&&o.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(c&&(u+='<th class="k-hierarchy-cell">&nbsp;</th>'),r=0,l=d.length;l>r;r++)i=d[r],n=s._headerCellText(i),i.command?u+="<th"+a(i.headerAttributes)+">"+n+"</th>":(u+="<th role='columnheader' "+k.attr("field")+"='"+(i.field||"")+"' ",i.title&&(u+=k.attr("title")+'="'+i.title.replace(/'/g,"'")+'" '),i.groupable!==t&&(u+=k.attr("groupable")+"='"+i.groupable+"' "),i.aggregates&&(u+=k.attr("aggregates")+"='"+i.aggregates+"'"),u+=a(i.headerAttributes),u+=">"+n+"</th>");o.html(u)}o.find("th").addClass("k-header"),s.options.scrollable||p.addClass("k-grid-header"),o.find("script").remove().end().appendTo(p),s.thead&&s._destroyColumnAttachments(),s.thead=p,s._sortable(),s._filterable(),s._scrollable(),s._updateCols(),s._resizable(),s._draggable(),s._reorderable(),s.groupable&&s._attachGroupable(),s._columnMenu()},_updateCols:function(){var e=this;e._appendCols(e.thead.parent().add(e.table))},_appendCols:function(e){var t=this;p(e,d(t.columns),t._hasDetails(),t._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,r=this;e=e.toJSON();for(t in e)r.columns.push({field:t});r._thead(),r._templates()}},_rowsHtml:function(e){var t,r,a=this,l="",o=a.rowTemplate,n=a.altRowTemplate;for(t=0,r=e.length;r>t;t++)l+=t%2?n(e[t]):o(e[t]),a._data.push(e[t]);return l},_groupRowHtml:function(e,t,a){var l,o,n=this,i="",s=e.field,d=A(n.columns,function(e){return e.field==s})[0]||{},c=d.groupHeaderTemplate,u=(d.title||s)+": "+h(e.value,d.format,d.values),p=T({},{field:e.field,value:e.value},e.aggregates[e.field]),f=n._groupAggregatesDefaultObject||{},g=e.items;if(c&&(u=typeof c===ct?c(p):k.template(c)(p)),i+='<tr class="k-grouping-row">'+r(a)+'<td colspan="'+t+'" aria-expanded="true">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+u+"</p></td></tr>",e.hasSubgroups)for(l=0,o=g.length;o>l;l++)i+=n._groupRowHtml(g[l],t-1,a+1);else i+=n._rowsHtml(g);return n.groupFooterTemplate&&(i+=n.groupFooterTemplate(T(f,e.aggregates))),i},collapseGroup:function(r){r=e(r).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var a,l,o=r.find(".k-group-cell").length,n=1;r.find("td:first").attr("aria-expanded",!1),r.nextAll("tr").each(function(){return l=e(this),a=l.find(".k-group-cell").length,l.hasClass("k-grouping-row")?n++:l.hasClass("k-group-footer")&&n--,o>=a||l.hasClass("k-group-footer")&&0>n?!1:(l.hide(),t)})},expandGroup:function(r){r=e(r).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var a,l,o=this,n=r.find(".k-group-cell").length,i=1;r.find("td:first").attr("aria-expanded",!0),r.nextAll("tr").each(function(){return a=e(this),l=a.find(".k-group-cell").length,n>=l?!1:(l!=n+1||a.hasClass("k-detail-row")||(a.show(),a.hasClass("k-grouping-row")&&a.find(".k-icon").hasClass("k-i-collapse")&&o.expandGroup(a),a.hasClass("k-master-row")&&a.find(".k-icon").hasClass("k-minus")&&a.next().show()),a.hasClass("k-grouping-row")&&i++,a.hasClass("k-group-footer")&&(1==i?a.show():i--),t)})},_updateHeader:function(t){var r=this,a=r.thead.find("th.k-group-cell"),l=a.length;t>l?e(Array(t-l+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(r.thead.find("tr")):l>t&&(l-=t,e(A(a,function(e,t){return l>t})).remove())},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},hideColumn:function(t){var r,a,l,o,n,i,s,u,p,f=this,h=0,m=f.footer||f.wrapper.find(".k-grid-footer"),b=f.columns;if(t="number"==typeof t?b[t]:A(b,function(e){return e.field===t})[0],t&&!t.hidden){for(p=E(t,d(b)),t.hidden=!0,t.attributes=c(t.attributes),t.footerAttributes=c(t.footerAttributes),t.headerAttributes=c(t.headerAttributes),f._templates(),f._updateCols(),f.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell):visible").eq(p).hide(),m&&(f._appendCols(m.find("table:first")),m.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell):visible").eq(p).hide()),r=f.tbody.children(),n=0,u=r.length;u>n;n+=1)a=r.eq(n),a.is(".k-grouping-row,.k-detail-row")?(l=a.children(":not(.k-group-cell):first,.k-detail-cell").last(),l.attr("colspan",parseInt(l.attr("colspan"),10)-1)):(a.hasClass("k-grid-edit-row")&&(l=a.children(".k-edit-container")[0])&&(l=e(l),l.attr("colspan",parseInt(l.attr("colspan"),10)-1),l.find("col").eq(p).remove(),a=l.find("tr:first")),g(a[0].cells,p,!1));for(i=f.thead.prev().find("col"),n=0,u=i.length;u>n;n+=1){if(s=i[n].style.width,!s||-1!=s.indexOf("%")){h=0;break}h+=parseInt(s,10)}o=e(">.k-grid-header table:first,>.k-grid-footer table:first",f.wrapper).add(f.table),f._footerWidth=null,h&&(o.width(h),f._footerWidth=h),e.browser.msie&&8==parseInt(e.browser.version,10)&&(o.css("display","inline-table"),setTimeout(function(){o.css("display","table")},1)),f.trigger(Q,{column:t})}},showColumn:function(t){var r,a,l,o,n,i,s,c,f,h,m=this,b=m.columns,k=m.footer||m.wrapper.find(".k-grid-footer");if(t="number"==typeof t?b[t]:A(b,function(e){return e.field===t})[0],t&&t.hidden){for(h=E(t,b),t.hidden=!1,t.attributes=u(t.attributes),t.footerAttributes=u(t.footerAttributes),t.headerAttributes=u(t.headerAttributes),m._templates(),m._updateCols(),m.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell)").eq(h).show(),k&&(m._appendCols(k.find("table:first")),k.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell)").eq(h).show()),r=m.tbody.children(),a=0,l=r.length;l>a;a+=1)o=r.eq(a),o.is(".k-grouping-row,.k-detail-row")?(n=o.children(":not(.k-group-cell):first,.k-detail-cell").last(),n.attr("colspan",parseInt(n.attr("colspan"),10)+1)):(o.hasClass("k-grid-edit-row")&&(n=o.children(".k-edit-container")[0])&&(n=e(n),n.attr("colspan",parseInt(n.attr("colspan"),10)+1),p(n.find(">form>table"),d(b),!1,0),o=n.find("tr:first")),g(o[0].cells,h,!0));if(i=e(">.k-grid-header table:first,>.k-grid-footer table:first",m.wrapper).add(m.table),t.width){for(s=0,f=m.thead.prev().find("col"),a=0,l=f.length;l>a;a+=1){if(c=f[a].style.width,c.indexOf("%")>-1){s=0;break}s+=parseInt(c,10)}m._footerWidth=null,s&&(i.width(s),m._footerWidth=s)}else i.width("");m.trigger(Y,{column:t})}},_progress:function(e){var t=this,r=t.element.is("table")?t.element.parent():t.content&&t.content.length?t.content:t.element;k.ui.progress(r,e)},refresh:function(t){var r,a,l,o,i,s=this,c="",u=s.dataSource.view(),p=s.options.navigatable,f=e(s.current()),h=!1,g=(s.dataSource.group()||[]).length,m=g+d(s.columns).length;if(!(t&&"itemchange"===t.action&&s.editable||(t=t||{},s.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})))){if(p&&(s.table[0]===document.activeElement||e.contains(s.table[0],document.activeElement))&&(h=f.is("th"),i=0,h&&(i=s.thead.find("th:not(.k-group-cell)").index(f))),s._destroyEditable(),s._progress(!1),s._data=[],s.columns.length||(s._autoColumns(s._firstDataItem(u[0],g)),m=g+s.columns.length),s._group=g>0||s._group,s._group&&(s._templates(),s._updateCols(),s._updateHeader(g),s._group=g>0),g>0)for(s.detailTemplate&&m++,s.groupFooterTemplate&&(s._groupAggregatesDefaultObject=n(s.dataSource.aggregate())),a=0,r=u.length;r>a;a++)c+=s._groupRowHtml(u[a],m,0);else c+=s._rowsHtml(u);y?s.tbody[0].innerHTML=c:(o=document.createElement("div"),o.innerHTML="<table><tbody>"+c+"</tbody></table>",l=o.firstChild.firstChild,s.table[0].replaceChild(l,s.tbody[0]),s.tbody=e(l)),s._footer(),s._setContentHeight(),i>=0&&(s._removeCurrent(),h?s.current(s.thead.find("th:not(.k-group-cell)").eq(i)):s.current(s.items().eq(i).children().filter(B).first()),s._current&&s._current.closest("table")[0].focus()),s.trigger(et)}}});v.plugin(yt),v.plugin(_t)})(window.kendo.jQuery);;