/*
* Copyright 2014 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
* http://www.nop-templates.com/t/licensinginfo
*/

$(document).ready(function () { var a = parseFloat($("#slider").attr("data-sliderMinValue")), b = parseFloat($("#slider").attr("data-sliderMaxValue")); $(".priceRangeFilterPanel7Spikes").attr("data-currentCurrencySymbol"); $("#slider").attr("data-customformatting"); var c = $("#slider").attr("data-selectedFromValue"), d = $("#slider").attr("data-selectedToValue"), e = new PriceRangeFilterManager; $("#slider").slider({ min: a, max: b, range: !0, values: [c, d], slide: e.sliderSlide, stop: e.sliderStopped }); $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(a.toFixed()); $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(b.toFixed()); a = $(".priceRangeFilterPanel7Spikes .title a.clearPriceRangeFilter"); a.click({ priceRangeFilterManager: e }, e.clearPriceRangeFilter); a.hide() }); function PriceRangeFilterManager() { } PriceRangeFilterManager.prototype.buildPriceRangeFilterModel = buildPriceRangeFilterModel; PriceRangeFilterManager.prototype.SetSliderValues = SetSliderValues; PriceRangeFilterManager.prototype.sliderSlide = sliderSlide; PriceRangeFilterManager.prototype.sliderStopped = sliderStopped; PriceRangeFilterManager.prototype.clearPriceRangeFilter = clearPriceRangeFilter; PriceRangeFilterManager.prototype.clearPriceRangeFilterControl = clearPriceRangeFilterControl; PriceRangeFilterManager.prototype.determineIfPriceRangeHasBeenSelected = determineIfPriceRangeHasBeenSelected; FiltersManager.prototype.buildPriceRangeFilterModel = (new PriceRangeFilterManager).buildPriceRangeFilterModel; FiltersManager.prototype.SetSliderValues = (new PriceRangeFilterManager).SetSliderValues; FiltersManager.prototype.clearPriceRangeFilterControl = (new PriceRangeFilterManager).clearPriceRangeFilterControl; FiltersManager.prototype.determineIfPriceRangeHasBeenSelected = (new PriceRangeFilterManager).determineIfPriceRangeHasBeenSelected; function buildPriceRangeFilterModel(a, b, c, d) { var e = parseFloat($("#slider").attr("data-sliderMinValue")), h = parseFloat($("#slider").attr("data-sliderMaxValue")), g = PriceRangeFilterManager.sliderSelectedFromValue, k = PriceRangeFilterManager.sliderSelectedToValue, f = {}; f.CategoryId = a; f.ManufacturerId = b; f.VendorId = c; void 0 != d && d.get(0) == $(".priceRangeFilterPanel7Spikes").get(0) && (f.Priority = 1); a = {}; void 0 != g && g != e && (a.From = g.toString()); void 0 != k && k != h && (a.To = k.toString()); f.SelectedPriceRange = a; f.MinPrice = e.toString(); f.MaxPrice = h.toString(); return f } function SetSliderValues(a, b) { var c = parseFloat($("#slider").attr("data-sliderMinValue")), d = parseFloat($("#slider").attr("data-sliderMaxValue")); $("#slider").attr("data-customformatting"); $(".priceRangeFilterPanel7Spikes").attr("data-currentCurrencySymbol"); if (null == a || null == b) $("#slider").slider("option", "values", [c, d]), PriceRangeFilterManager.sliderSelectedFromValue = c, PriceRangeFilterManager.sliderSelectedToValue = d, $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(c.toFixed()), $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(d.toFixed()); null == a && null != b && ($("#slider").slider("option", "values", [c, b]), PriceRangeFilterManager.sliderSelectedFromValue = c, PriceRangeFilterManager.sliderSelectedToValue = b, $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(c.toFixed()), $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(b.toFixed())); null != a && null == b && ($("#slider").slider("option", "values", [a, d]), PriceRangeFilterManager.sliderSelectedFromValue = a, PriceRangeFilterManager.sliderSelectedToValue = d, $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(a.toFixed()), $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(d.toFixed())); null != a && null != b && ($("#slider").slider("option", "values", [a, b]), PriceRangeFilterManager.sliderSelectedFromValue = a, PriceRangeFilterManager.sliderSelectedToValue = b, $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(a.toFixed()), $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(b.toFixed())); var e = $(".priceRangeFilterPanel7Spikes .title a.clearPriceRangeFilter"); a == c && b == d || null == a && null == b ? e.hide() : e.show() } function sliderSlide(a, b) { $(".priceRangeFilterPanel7Spikes").attr("data-currentCurrencySymbol"); $("#slider").attr("data-customformatting"); var c = b.values[0], d = b.values[1]; $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(c.toFixed()); $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(d.toFixed()) } function sliderStopped(a, b) { var c = parseFloat($("#slider").attr("data-sliderMinValue")), d = parseFloat($("#slider").attr("data-sliderMaxValue")), e = b.values[0], h = b.values[1]; PriceRangeFilterManager.sliderSelectedFromValue = e; PriceRangeFilterManager.sliderSelectedToValue = h; (new FiltersManager).requestProductsForSelectedFilters($(".priceRangeFilterPanel7Spikes")); var g = $(".priceRangeFilterPanel7Spikes .title a.clearPriceRangeFilter"); e == c && h == d ? g.hide() : g.show() } function clearPriceRangeFilter(a) { a.data.priceRangeFilterManager.clearPriceRangeFilterControl(); (new FiltersManager).requestProductsForSelectedFilters($(".priceRangeFilterPanel7Spikes")) } function clearPriceRangeFilterControl() { $(".priceRangeFilterPanel7Spikes .title a.clearPriceRangeFilter").hide(); var a = $("#slider").slider("option", "min"), b = $("#slider").slider("option", "max"); $("#slider").slider("option", { values: [a, b] }); $(".priceRangeFilterPanel7Spikes").attr("data-currentCurrencySymbol"); $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(a.toFixed()); $(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(b.toFixed()); PriceRangeFilterManager.sliderSelectedFromValue = a; PriceRangeFilterManager.sliderSelectedToValue = b } function determineIfPriceRangeHasBeenSelected() { var a = $("#slider").slider("option", "min"), b = $("#slider").slider("option", "max"), c = $("#slider").slider("option", "values"); return c[0] != a || c[1] != b ? !0 : !1 };